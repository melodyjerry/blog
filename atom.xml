<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>MelodyHub</title>
  
  <subtitle>ä½ ç”¨èµ° å¯æ˜¯æˆ‘ç”¨è·‘</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://melodyjerry.github.io/blog/"/>
  <updated>2020-09-19T04:24:28.823Z</updated>
  <id>https://melodyjerry.github.io/blog/</id>
  
  <author>
    <name>Melody Jerry</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>AspectJçš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼---executionè¡¨è¾¾å¼</title>
    <link href="https://melodyjerry.github.io/blog/2020/09/28/AspectJ%E7%9A%84%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F---execution%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <id>https://melodyjerry.github.io/blog/2020/09/28/AspectJ%E7%9A%84%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F---execution%E8%A1%A8%E8%BE%BE%E5%BC%8F/</id>
    <published>2020-09-28T09:24:41.000Z</published>
    <updated>2020-09-19T04:24:28.823Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>execution(&lt;ä¿®é¥°ç¬¦æ¨¡å¼&gt;?&lt;è¿”å›ç±»å‹æ¨¡å¼&gt;&lt;æ–¹æ³•åæ¨¡å¼&gt;(&lt;å‚æ•°æ¨¡å¼&gt;)&lt;å¼‚å¸¸æ¨¡å¼&gt;?) </p></blockquote> <a id="more"></a><p>é™¤äº†è¿”å›ç±»å‹æ¨¡å¼ã€æ–¹æ³•åæ¨¡å¼å’Œå‚æ•°æ¨¡å¼å¤–ï¼Œå…¶å®ƒé¡¹éƒ½æ˜¯å¯é€‰çš„ã€‚</p><p>ä¸€ã€é€šè¿‡æ–¹æ³•ç­¾åå®šä¹‰åˆ‡ç‚¹</p><blockquote><p> execution(public * *(..))</p></blockquote><p>ã€€ã€€åŒ¹é…æ‰€æœ‰ç›®æ ‡ç±»çš„publicæ–¹æ³•ï¼Œä½†ä¸åŒ¹é…SmartSellerå’Œprotected voidshowGoods()æ–¹æ³•ã€‚ç¬¬ä¸€ä¸ª<em>ä»£è¡¨è¿”å›ç±»å‹ï¼Œç¬¬äºŒä¸ª</em>ä»£è¡¨æ–¹æ³•åï¼Œè€Œ..ä»£è¡¨ä»»æ„å…¥å‚çš„æ–¹æ³•ï¼›</p><blockquote><p> execution(* *To(..))</p></blockquote><p>ã€€ã€€åŒ¹é…ç›®æ ‡ç±»æ‰€æœ‰ä»¥Toä¸ºåç¼€çš„æ–¹æ³•ã€‚å®ƒåŒ¹é…NaiveWaiterå’ŒNaughtyWaiterçš„greetTo()å’ŒserveTo()æ–¹æ³•ã€‚ç¬¬ä¸€ä¸ª<em>ä»£è¡¨è¿”å›ç±»å‹ï¼Œè€Œ</em>Toä»£è¡¨ä»»æ„ä»¥Toä¸ºåç¼€çš„æ–¹æ³•ï¼›</p><p>äºŒã€é€šè¿‡ç±»å®šä¹‰åˆ‡ç‚¹</p><blockquote><p> execution(<em>com.baobaotao.Waiter.</em>(..))</p></blockquote><p>ã€€ã€€åŒ¹é…Waiteræ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œå®ƒåŒ¹é…NaiveWaiterå’ŒNaughtyWaiterç±»çš„greetTo()å’ŒserveTo()æ–¹æ³•ã€‚ç¬¬ä¸€ä¸ª<em>ä»£è¡¨è¿”å›ä»»æ„ç±»å‹ï¼Œcom.baobaotao.Waiter.</em>ä»£è¡¨Waiteræ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼›</p><blockquote><p> execution(<em>com.baobaotao.Waiter+.</em>(..))</p></blockquote><p>ã€€ã€€åŒ¹é…Waiteræ¥å£åŠå…¶æ‰€æœ‰å®ç°ç±»çš„æ–¹æ³•ï¼Œå®ƒä¸ä½†åŒ¹é…NaiveWaiterå’ŒNaughtyWaiterç±»çš„greetTo()å’ŒserveTo()è¿™ä¸¤ä¸ªWaiteræ¥å£å®šä¹‰çš„æ–¹æ³•ï¼ŒåŒæ—¶è¿˜åŒ¹é…NaiveWaiter#smile()å’ŒNaughtyWaiter#joke()è¿™ä¸¤ä¸ªä¸åœ¨Waiteræ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚</p><p>ä¸‰ã€é€šè¿‡ç±»åŒ…å®šä¹‰åˆ‡ç‚¹</p><p>ã€€ã€€åœ¨ç±»åæ¨¡å¼ä¸²ä¸­ï¼Œâ€.*â€è¡¨ç¤ºåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œè€Œâ€..*â€è¡¨ç¤ºåŒ…ã€å­å­™åŒ…ä¸‹çš„æ‰€æœ‰ç±»ã€‚</p><blockquote><p> execution(* com.baobaotao.*(..))l</p></blockquote><p>ã€€ã€€åŒ¹é…com.baobaotaoåŒ…ä¸‹æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•ï¼›</p><blockquote><p> execution(* com.baobaotao..*(..))l</p></blockquote><p>ã€€ã€€åŒ¹é…com.baobaotaoåŒ…ã€å­å­™åŒ…ä¸‹æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦‚com.baobaotao.daoï¼Œcom.baobaotao.servierä»¥åŠcom.baobaotao.dao.useråŒ…ä¸‹çš„æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½åŒ¹é…ã€‚â€..â€å‡ºç°åœ¨ç±»åä¸­æ—¶ï¼Œåé¢å¿…é¡»è·Ÿâ€*â€ï¼Œè¡¨ç¤ºåŒ…ã€å­å­™åŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼›  </p><blockquote><p> execution(* com..<em>.</em>Dao.find*(..))</p></blockquote><p>ã€€ã€€åŒ¹é…åŒ…åå‰ç¼€ä¸ºcomçš„ä»»ä½•åŒ…ä¸‹ç±»ååç¼€ä¸ºDaoçš„æ–¹æ³•ï¼Œæ–¹æ³•åå¿…é¡»ä»¥findä¸ºå‰ç¼€ã€‚å¦‚com.baobaotao.UserDao#findByUserId()ã€com.baobaotao.dao.ForumDao#findById()çš„æ–¹æ³•éƒ½åŒ¹é…åˆ‡ç‚¹ã€‚</p><p>å››ã€é€šè¿‡æ–¹æ³•å…¥å‚å®šä¹‰åˆ‡ç‚¹</p><p>ã€€ã€€åˆ‡ç‚¹è¡¨è¾¾å¼ä¸­æ–¹æ³•å…¥å‚éƒ¨åˆ†æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥ä½¿ç”¨â€*â€å’Œâ€..â€é€šé…ç¬¦ï¼Œå…¶ä¸­â€*â€è¡¨ç¤ºä»»æ„ç±»å‹çš„å‚æ•°ï¼Œè€Œâ€..â€è¡¨ç¤ºä»»æ„ç±»å‹å‚æ•°ä¸”å‚æ•°ä¸ªæ•°ä¸é™ã€‚ </p><blockquote><p> execution(* joke(String,int)))</p></blockquote><p>ã€€ã€€åŒ¹é…joke(String,int)æ–¹æ³•ï¼Œä¸”joke()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå…¥å‚æ˜¯Stringï¼Œç¬¬äºŒä¸ªå…¥å‚æ˜¯intã€‚å®ƒåŒ¹é…NaughtyWaiter#joke(String,int)æ–¹æ³•ã€‚å¦‚æœæ–¹æ³•ä¸­çš„å…¥å‚ç±»å‹æ˜¯<a href="http://lib.csdn.net/base/java" target="_blank" rel="noopener">Java</a>.langåŒ…ä¸‹çš„ç±»ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åï¼Œå¦åˆ™å¿…é¡»ä½¿ç”¨å…¨é™å®šç±»åï¼Œå¦‚joke(java.util.List,int)ï¼›</p><blockquote><p> execution(* joke(String,*)))</p></blockquote><p>ã€€ã€€åŒ¹é…ç›®æ ‡ç±»ä¸­çš„joke()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç¬¬ä¸€ä¸ªå…¥å‚ä¸ºStringï¼Œç¬¬äºŒä¸ªå…¥å‚å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå¦‚joke(Strings1,String s2)å’Œjoke(String s1,double d2)éƒ½åŒ¹é…ï¼Œä½†joke(String s1,doubled2,String s3)åˆ™ä¸åŒ¹é…ï¼›</p><blockquote><p> execution(* joke(String,..)))</p></blockquote><p>ã€€ã€€åŒ¹é…ç›®æ ‡ç±»ä¸­çš„joke()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç¬¬ ä¸€ä¸ªå…¥å‚ä¸ºStringï¼Œåé¢å¯ä»¥æœ‰ä»»æ„ä¸ªå…¥å‚ä¸”å…¥å‚ç±»å‹ä¸é™ï¼Œå¦‚joke(Strings1)ã€joke(String s1,String s2)å’Œjoke(String s1,double d2,Strings3)éƒ½åŒ¹é…ã€‚</p><blockquote><p> execution(* joke(Object+)))</p></blockquote><p>ã€€ã€€åŒ¹é…ç›®æ ‡ç±»ä¸­çš„joke()æ–¹æ³•ï¼Œæ–¹æ³•æ‹¥æœ‰ä¸€ä¸ªå…¥å‚ï¼Œä¸”å…¥å‚æ˜¯Objectç±»å‹æˆ–è¯¥ç±»çš„å­ç±»ã€‚å®ƒåŒ¹é…joke(Strings1)å’Œjoke(Client c)ã€‚å¦‚æœæˆ‘ä»¬å®šä¹‰çš„åˆ‡ç‚¹æ˜¯execution(*joke(Object))ï¼Œåˆ™åªåŒ¹é…joke(Object object)è€Œä¸åŒ¹é…joke(Stringcc)æˆ–joke(Client c)ã€‚</p><p>äº”ã€args()å’Œ@args()</p><p>ã€€ã€€args()å‡½æ•°çš„å…¥å‚æ˜¯ç±»åï¼Œ@args()å‡½æ•°çš„å…¥å‚å¿…é¡»æ˜¯æ³¨è§£ç±»çš„ç±»åã€‚è™½ç„¶args()å…è®¸åœ¨ç±»ååä½¿ç”¨+é€šé…ç¬¦åç¼€ï¼Œä½†è¯¥é€šé…ç¬¦åœ¨æ­¤å¤„æ²¡æœ‰æ„ä¹‰ï¼šæ·»åŠ å’Œä¸æ·»åŠ æ•ˆæœéƒ½ä¸€æ ·ã€‚</p><p>1ã€args()</p><p>ã€€ã€€è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªç±»åï¼Œè¡¨ç¤ºç›®æ ‡ç±»æ–¹æ³•å…¥å‚å¯¹è±¡æŒ‰ç±»å‹åŒ¹é…äºæŒ‡å®šç±»æ—¶ï¼Œåˆ‡ç‚¹åŒ¹é…ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p><blockquote><p>args(com.baobaotao.Waiter)</p></blockquote><p>ã€€ã€€è¡¨ç¤ºè¿è¡Œæ—¶å…¥å‚æ˜¯Waiterç±»å‹çš„æ–¹æ³•ï¼Œå®ƒå’Œexecution(**(com.baobaotao.Waiter))åŒºåˆ«åœ¨äºåè€…æ˜¯é’ˆå¯¹ç±»æ–¹æ³•çš„ç­¾åè€Œè¨€çš„ï¼Œè€Œå‰è€…åˆ™é’ˆå¯¹è¿è¡Œæ—¶çš„å…¥å‚ç±»å‹è€Œè¨€ã€‚å¦‚args(com.baobaotao.Waiter)æ—¢åŒ¹é…äºaddWaiter(Waiterwaiter)ï¼Œä¹ŸåŒ¹é…äºaddNaiveWaiter(NaiveWaiter naiveWaiter)ï¼Œè€Œexecution(**(com.baobaotao.Waiter))åªåŒ¹é…addWaiter(Waiterwaiter)æ–¹æ³•ï¼›å®é™…ä¸Šï¼Œargs(com.baobaotao.Waiter)ç­‰ä»·äºexecution(**(com.baobaotao.Waiter+))ï¼Œå½“ç„¶ä¹Ÿç­‰ä»·äºargs(com.baobaotao.Waiter+)ã€‚</p><p>2ã€@args()</p><p>ã€€ã€€è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ³¨è§£ç±»çš„ç±»åï¼Œå½“æ–¹æ³•çš„è¿è¡Œæ—¶å…¥å‚å¯¹è±¡æ ‡æ³¨å‘æŒ‡å®šçš„æ³¨è§£æ—¶ï¼Œæ–¹æ³•åŒ¹é…åˆ‡ç‚¹ã€‚</p><h2 id="æ³¨æ„äº‹é¡¹ï¼š"><a href="#æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼š"></a>æ³¨æ„äº‹é¡¹ï¼š</h2><p>é€šè¿‡ç±»åŒ…å®šä¹‰åˆ‡ç‚¹</p><p>åœ¨ç±»åæ¨¡å¼ä¸²ä¸­ï¼Œâ€œ.*â€è¡¨ç¤ºåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œè€Œâ€œ..*â€è¡¨ç¤ºåŒ…ã€å­å­™åŒ…ä¸‹çš„æ‰€æœ‰ç±»ã€‚</p><p>execution(* com.baobaotao.*(..))</p><p>åŒ¹é…com.baobaotaoåŒ…ä¸‹æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•ï¼›</p><p>execution(* com.baobaotao..*(..))</p><p>åŒ¹ é…com.baobaotaoåŒ…ã€å­å­™åŒ…ä¸‹æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦‚com.baobaotao.daoï¼Œcom.baobaotao.servierä»¥åŠ com.baobaotao.dao.useråŒ…ä¸‹çš„æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½åŒ¹é…ã€‚â€œ..â€å‡ºç°åœ¨ç±»åä¸­æ—¶ï¼Œåé¢å¿…é¡»è·Ÿâ€œ*â€ï¼Œè¡¨ç¤ºåŒ…ã€å­å­™åŒ…ä¸‹çš„æ‰€æœ‰ç±»</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;execution(&amp;lt;ä¿®é¥°ç¬¦æ¨¡å¼&amp;gt;?&amp;lt;è¿”å›ç±»å‹æ¨¡å¼&amp;gt;&amp;lt;æ–¹æ³•åæ¨¡å¼&amp;gt;(&amp;lt;å‚æ•°æ¨¡å¼&amp;gt;)&amp;lt;å¼‚å¸¸æ¨¡å¼&amp;gt;?) &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="Java" scheme="https://melodyjerry.github.io/blog/tags/Java/"/>
    
      <category term="SSM" scheme="https://melodyjerry.github.io/blog/tags/SSM/"/>
    
  </entry>
  
  <entry>
    <title>Hexoåšå®¢åŠ å…¥èŠå¤©ç³»ç»ŸDaoVoice</title>
    <link href="https://melodyjerry.github.io/blog/2020/09/18/%E5%8A%A0%E5%85%A5%E8%81%8A%E5%A4%A9%E7%B3%BB%E7%BB%9Fdaovioce/"/>
    <id>https://melodyjerry.github.io/blog/2020/09/18/%E5%8A%A0%E5%85%A5%E8%81%8A%E5%A4%A9%E7%B3%BB%E7%BB%9Fdaovioce/</id>
    <published>2020-09-18T12:23:11.000Z</published>
    <updated>2020-09-19T04:24:28.825Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å…³äº-DaoVoice"><a href="#å…³äº-DaoVoice" class="headerlink" title="å…³äº DaoVoice"></a>å…³äº DaoVoice</h1><p>DaoVoice æ˜¯ä¸€æ¬¾é©å‘½æ€§çš„åº”ç”¨è¿è¥å¹³å°ï¼Œè‡´åŠ›äºå¸®åŠ©ä¼ä¸šå®ç°ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„ã€Œç²¾ç›Šè¿è¥ã€ä½“ç³»ã€‚</p><p>èåˆã€Œåœ¨çº¿èŠå¤©ã€ã€ã€Œå®¢æœæ”¯æŒã€ã€ã€Œç”¨æˆ·ç”»åƒã€ã€ã€Œæ¶ˆæ¯æ¨é€ã€ã€ã€Œè¡Œä¸ºå¼•å¯¼ã€ç­‰åŠŸèƒ½ä¸ºä¸€ä½“ï¼Œ æŒ‰éœ€è·å–ç”¨æˆ·ä¿¡æ¯å’Œè¡Œä¸ºï¼Œå®ç°åœºæ™¯åŒ–æ¶ˆæ¯æ¨é€ï¼Œè®©é€šçŸ¥æ›´å¯Œæœ‰äººæƒ…å‘³ã€‚</p><p>æ¥å…¥åªéœ€ 5 è¡Œä»£ç ï¼Œå³å¯åˆ›å»ºä¸ç”¨æˆ·å®æ—¶æ²Ÿé€šçš„çª—å£ï¼Œæ— ç¼æ¥å…¥ä¼ä¸šåŸæœ‰äº§å“ä½“ç³»ï¼Œæ‹‰è¿‘ä¼ä¸šä¸ç”¨æˆ·çš„è·ç¦»ã€‚</p><p>ç§‰æ‰¿ã€Œæ•°æ®é©±åŠ¨ï¼Œç²¾ç›Šè¿è¥ã€çš„ç†å¿µï¼Œè®©ç”¨æˆ·å®šä¹‰äº§å“ï¼Œè®©å‚ä¸æ„Ÿé©±åŠ¨äº§å“è¿­ä»£ã€‚</p><p>ç”¨ DaoVoice é©±åŠ¨ç”¨æˆ·è¿è¥ï¼Œå¸®ä½ æœ€ç»ˆå®ç°ç”¨æˆ·è½¬åŒ–ã€‚</p><blockquote><p>â€œDaoVoice å¸®æˆ‘ä»¬æ›´å¥½åœ°è¿è¥ç”¨æˆ·ã€‚å®æ—¶åœ¨çº¿æ²Ÿé€šï¼Œå¯æ›´å¿«è§£å†³ç”¨æˆ·é—®é¢˜ã€‚åå°ç®¡ç†å¯å¸®æˆ‘ä»¬å»ºç«‹ç”¨æˆ·ç”»åƒï¼Œé’ˆå¯¹ä¸åŒçš„ç”¨æˆ·éœ€æ±‚è¿›è¡Œç²¾å‡†è¿è¥ã€‚æ­¤å¤–ï¼ŒDaoVoice å›¢é˜Ÿä¼šå¿«é€Ÿå“åº”æˆ‘ä»¬çš„åé¦ˆï¼Œç»™äºˆé«˜è´¨é‡æœåŠ¡æ”¯æŒã€‚â€    â€”â€”<strong>Travis</strong>åˆ›å§‹äºº &amp; CEO</p></blockquote><a id="more"></a><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p>layout\_third-party\daovoice.ejsï¼š</p><div class="hljs"><pre><code class="hljs js">&lt;% <span class="hljs-keyword">if</span>(theme.daovoice.enable &amp;&amp; theme.daovoice.appid){ %&gt;  &lt;script&gt;(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">i, s, o, g, r, a, m</span>) </span>{      i[<span class="hljs-string">'DaoVoiceObject'</span>] = r;      i[r] = i[r] ||        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{          (i[r].q = i[r].q || []).push(<span class="hljs-built_in">arguments</span>);        };      i[r].l = <span class="hljs-number">1</span> * <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();      a = s.createElement(o);      m = s.getElementsByTagName(o)[<span class="hljs-number">0</span>];      a.async = <span class="hljs-number">1</span>;      a.src = g;      a.charset = <span class="hljs-string">'utf-8'</span>;      m.parentNode.insertBefore(a, m);    })(<span class="hljs-built_in">window</span>, <span class="hljs-built_in">document</span>, <span class="hljs-string">'script'</span>, (<span class="hljs-string">'https:'</span> === <span class="hljs-built_in">document</span>.location.protocol ? <span class="hljs-string">'https:'</span> : <span class="hljs-string">'http:'</span>) + <span class="hljs-string">"//widget.daovoice.io/widget/&lt;%= theme.daovoice.appid %&gt;.js"</span>, <span class="hljs-string">'daovoice'</span>);    daovoice(<span class="hljs-string">'init'</span>, {      app_id: <span class="hljs-string">"&lt;%= theme.daovoice.appid %&gt;"</span>,    });    daovoice(<span class="hljs-string">'update'</span>);  &lt;<span class="hljs-regexp">/script&gt;</span><span class="hljs-regexp">&lt;% } %&gt;</span></code></pre></div><p>layout\index.ejsï¼š</p><div class="hljs"><pre><code class="hljs js">&lt;!--DaoVoiceæœåŠ¡http:<span class="hljs-comment">//blog.daovoice.io/--&gt;</span>&lt;%- partial(<span class="hljs-string">'_third-party/daovoice'</span>) %&gt;</code></pre></div><p>_config.ymlï¼š</p><div class="hljs"><pre><code class="hljs yaml"><span class="hljs-attr">daovoice:</span>  <span class="hljs-comment"># åœ¨çº¿å®¢æœ Daovoice å‚è€ƒï¼šhttp://dashboard.daovoice.io</span>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># æ˜¯å¦å¼€å¯åœ¨çº¿å®¢æœèŠå¤©</span>  <span class="hljs-attr">appid:</span> <span class="hljs-string">'exxxxxxx'</span>  <span class="hljs-comment"># åº”ç”¨IDè®¾ç½®</span></code></pre></div><h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p><img src="https://s1.ax1x.com/2020/09/18/w46j3D.gif" srcset="/blog/img/loading.gif" alt="w46j3D.gif"></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å…³äº-DaoVoice&quot;&gt;&lt;a href=&quot;#å…³äº-DaoVoice&quot; class=&quot;headerlink&quot; title=&quot;å…³äº DaoVoice&quot;&gt;&lt;/a&gt;å…³äº DaoVoice&lt;/h1&gt;&lt;p&gt;DaoVoice æ˜¯ä¸€æ¬¾é©å‘½æ€§çš„åº”ç”¨è¿è¥å¹³å°ï¼Œè‡´åŠ›äºå¸®åŠ©ä¼ä¸šå®ç°ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„ã€Œç²¾ç›Šè¿è¥ã€ä½“ç³»ã€‚&lt;/p&gt;
&lt;p&gt;èåˆã€Œåœ¨çº¿èŠå¤©ã€ã€ã€Œå®¢æœæ”¯æŒã€ã€ã€Œç”¨æˆ·ç”»åƒã€ã€ã€Œæ¶ˆæ¯æ¨é€ã€ã€ã€Œè¡Œä¸ºå¼•å¯¼ã€ç­‰åŠŸèƒ½ä¸ºä¸€ä½“ï¼Œ æŒ‰éœ€è·å–ç”¨æˆ·ä¿¡æ¯å’Œè¡Œä¸ºï¼Œå®ç°åœºæ™¯åŒ–æ¶ˆæ¯æ¨é€ï¼Œè®©é€šçŸ¥æ›´å¯Œæœ‰äººæƒ…å‘³ã€‚&lt;/p&gt;
&lt;p&gt;æ¥å…¥åªéœ€ 5 è¡Œä»£ç ï¼Œå³å¯åˆ›å»ºä¸ç”¨æˆ·å®æ—¶æ²Ÿé€šçš„çª—å£ï¼Œæ— ç¼æ¥å…¥ä¼ä¸šåŸæœ‰äº§å“ä½“ç³»ï¼Œæ‹‰è¿‘ä¼ä¸šä¸ç”¨æˆ·çš„è·ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;ç§‰æ‰¿ã€Œæ•°æ®é©±åŠ¨ï¼Œç²¾ç›Šè¿è¥ã€çš„ç†å¿µï¼Œè®©ç”¨æˆ·å®šä¹‰äº§å“ï¼Œè®©å‚ä¸æ„Ÿé©±åŠ¨äº§å“è¿­ä»£ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨ DaoVoice é©±åŠ¨ç”¨æˆ·è¿è¥ï¼Œå¸®ä½ æœ€ç»ˆå®ç°ç”¨æˆ·è½¬åŒ–ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œDaoVoice å¸®æˆ‘ä»¬æ›´å¥½åœ°è¿è¥ç”¨æˆ·ã€‚å®æ—¶åœ¨çº¿æ²Ÿé€šï¼Œå¯æ›´å¿«è§£å†³ç”¨æˆ·é—®é¢˜ã€‚åå°ç®¡ç†å¯å¸®æˆ‘ä»¬å»ºç«‹ç”¨æˆ·ç”»åƒï¼Œé’ˆå¯¹ä¸åŒçš„ç”¨æˆ·éœ€æ±‚è¿›è¡Œç²¾å‡†è¿è¥ã€‚æ­¤å¤–ï¼ŒDaoVoice å›¢é˜Ÿä¼šå¿«é€Ÿå“åº”æˆ‘ä»¬çš„åé¦ˆï¼Œç»™äºˆé«˜è´¨é‡æœåŠ¡æ”¯æŒã€‚â€    â€”â€”&lt;strong&gt;Travis&lt;/strong&gt;åˆ›å§‹äºº &amp;amp; CEO&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="åšå®¢" scheme="https://melodyjerry.github.io/blog/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºJavaçš„åå°„æœºåˆ¶ï¼Œ4ç¯‡ä¼˜é€‰å‚è€ƒæ–‡ç« </title>
    <link href="https://melodyjerry.github.io/blog/2020/09/18/%E5%85%B3%E4%BA%8EJava%E7%9A%84%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%EF%BC%8C4%E7%AF%87%E4%BC%98%E9%80%89%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0/"/>
    <id>https://melodyjerry.github.io/blog/2020/09/18/%E5%85%B3%E4%BA%8EJava%E7%9A%84%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%EF%BC%8C4%E7%AF%87%E4%BC%98%E9%80%89%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0/</id>
    <published>2020-09-18T01:10:00.738Z</published>
    <updated>2020-09-18T04:43:03.052Z</updated>
    
    <content type="html"><![CDATA[<ol><li><a href="https://www.jianshu.com/p/9be58ee20dee" target="_blank" rel="noopener">Javaé«˜çº§ç‰¹æ€§â€”â€”åå°„</a></li><li><a href="https://blog.csdn.net/qq_36226453/article/details/82790375" target="_blank" rel="noopener">JavaåŸºç¡€ä¹‹â€”åå°„ï¼ˆéå¸¸é‡è¦ï¼‰</a></li><li><a href="https://www.cnblogs.com/adamjwh/p/9683705.html" target="_blank" rel="noopener">Javaé«˜çº§ç¯‡ï¼ˆå››ï¼‰â€”â€”åå°„</a></li><li><a href="https://www.zhihu.com/question/24304289" target="_blank" rel="noopener">å­¦ä¹ javaåº”è¯¥å¦‚ä½•ç†è§£åå°„ï¼Ÿ</a></li></ol><a id="more"></a><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/9be58ee20dee&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Javaé«˜çº§ç‰¹æ€§â€”â€”åå°„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/qq_36226453/article/details/82790375&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;JavaåŸºç¡€ä¹‹â€”åå°„ï¼ˆéå¸¸é‡è¦ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/adamjwh/p/9683705.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Javaé«˜çº§ç¯‡ï¼ˆå››ï¼‰â€”â€”åå°„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/24304289&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å­¦ä¹ javaåº”è¯¥å¦‚ä½•ç†è§£åå°„ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaWeb" scheme="https://melodyjerry.github.io/blog/tags/JavaWeb/"/>
    
      <category term="Java" scheme="https://melodyjerry.github.io/blog/tags/Java/"/>
    
      <category term="SSM" scheme="https://melodyjerry.github.io/blog/tags/SSM/"/>
    
  </entry>
  
  <entry>
    <title>[è½¬]Java+Spring+MyBatiså®ç°å¤šæ•°æ®æºçš„åŠ¨æ€åˆ‡æ¢</title>
    <link href="https://melodyjerry.github.io/blog/2020/09/08/Java+Spring+MyBatis%E5%AE%9E%E7%8E%B0%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2/"/>
    <id>https://melodyjerry.github.io/blog/2020/09/08/Java+Spring+MyBatis%E5%AE%9E%E7%8E%B0%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2/</id>
    <published>2020-09-08T06:22:22.000Z</published>
    <updated>2020-09-18T04:43:02.959Z</updated>
    
    <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/zt2710/p/11116637.html" target="_blank" rel="noopener">https://www.cnblogs.com/zt2710/p/11116637.html</a></p><p>ç¾¤èŠå¤©è®°å½•æˆªå›¾ğŸ‘‡</p><img src="https://s1.ax1x.com/2020/09/08/wQE7DO.jpg" srcset="/blog/img/loading.gif" alt="wQE7DO.jpg" style="zoom:30%;"><a id="more"></a><hr><h1 id="å›ºå®šå¤šæ•°æ®æºåˆ‡æ¢"><a href="#å›ºå®šå¤šæ•°æ®æºåˆ‡æ¢" class="headerlink" title="å›ºå®šå¤šæ•°æ®æºåˆ‡æ¢"></a>å›ºå®šå¤šæ•°æ®æºåˆ‡æ¢</h1><p>  å›ºå®šå¤šæ•°æ®æºçš„åŠ¨æ€åˆ‡æ¢ï¼Œé€šè¿‡è‡ªå®šä¹‰æ³¨è§£å®ç°åˆ‡æ¢ï¼Œè¿™æ ·åœ¨åˆ‡æ¢æ•°æ®æºæ—¶æ¯”è¾ƒçµæ´»ï¼Œå…·ä½“çš„å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p><p>  1ã€é…ç½®å¤šæ•°æ®æº</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å®šä¹‰æ•°æ®æº1--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"oracledataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.apache.commons.dbcp.BasicDataSource"</span> <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">"close"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"oracle.jdbc.driver.OracleDriver"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:oracle:thin:@127.0.0.1:1522:neworcl"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"emspdadev"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"emspdadev"</span> /&gt;</span>    <span class="hljs-comment">&lt;!-- åˆå§‹åŒ–è¿æ¥å¤§å° --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"initialSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å¤§æ•°é‡ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxActive"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"20"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å¤§ç©ºé—² --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"20"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å°ç©ºé—² --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"minIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è·å–è¿æ¥æœ€å¤§ç­‰å¾…æ—¶é—´ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxWait"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"60000"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span> <span class="hljs-comment">&lt;!--å®šä¹‰æ•°æ®æº2--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mysqldataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.apache.commons.dbcp.BasicDataSource"</span> <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">"close"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com.mysql.jdbc.Driver"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:mysql://127.0.0.1:3306/jbpmdb"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"123456"</span> /&gt;</span>    <span class="hljs-comment">&lt;!-- åˆå§‹åŒ–è¿æ¥å¤§å° --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"initialSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å¤§æ•°é‡ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxActive"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"20"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å¤§ç©ºé—² --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"20"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å°ç©ºé—² --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"minIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è·å–è¿æ¥æœ€å¤§ç­‰å¾…æ—¶é—´ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxWait"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"60000"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span> <span class="hljs-comment">&lt;!--åŠ¨æ€æ•°æ®æºé…ç½®--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.ssm.datasource.DynamicDataSource"</span>&gt;</span><span class="hljs-comment">&lt;!--å¼•å…¥å®šä¹‰å¥½çš„æ•°æ®æº--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span>  <span class="hljs-attr">name</span>=<span class="hljs-string">"targetDataSources"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">map</span>  <span class="hljs-attr">key-type</span>=<span class="hljs-string">"java.lang.String"</span>&gt;</span>          <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"oracle"</span> <span class="hljs-attr">value-ref</span>=<span class="hljs-string">"oracledataSource"</span> /&gt;</span>          <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"mysql"</span> <span class="hljs-attr">value-ref</span>=<span class="hljs-string">"mysqldataSource"</span> /&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--å®šä¹‰é»˜è®¤æ•°æ®æº--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"defaultTargetDataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"oracledataSource"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span> <span class="hljs-comment">&lt;!--springå’Œmybatisæ•´åˆ--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dataSource"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"mapperLocations"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"classpath:mapping/*.xml"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"basePackage"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com.ssm.dao"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"sqlSessionFactoryBeanName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"sqlSessionFactory"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div><p> 2ã€å®šä¹‰æ³¨è§£(æ³¨è§£åä¸ºDataSource)ï¼Œç”¨äºåˆ‡æ¢æ•°æ®æºï¼Œæ³¨è§£çš„å€¼åªèƒ½ä¸ºä¸Šè¿°é…ç½®ä¸­å®šä¹‰çš„key(å¯¹åº”äºä¸Šé¢é…ç½®ä¸­å®šä¹‰çš„oracleã€mysql)</p><div class="hljs"><pre><code class="hljs less"><span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME)<span class="hljs-variable">@Target</span>(ElementType.METHOD)pub lic <span class="hljs-variable">@interface</span> DataSource {    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">value</span>();}</code></pre></div><p>  3ã€æ ¹æ®Spingåˆ‡é¢ç¼–ç¨‹ï¼Œå½“è°ƒç”¨æŒ‡å®šçš„åˆ‡é¢ç±»æ—¶ï¼Œè§£é‡Šæ³¨è§£ï¼Œå¹¶æ ¹æ®æ³¨è§£çš„å®šä¹‰ä½¿ç”¨å¯¹åº”çš„æ•°æ®åº“</p><div class="hljs"><pre><code class="hljs reasonml">public <span class="hljs-keyword">class</span> DataSourceAspect {<span class="hljs-comment">/**</span><span class="hljs-comment">    * å®šä¹‰åˆ‡é¢ï¼Œå½“è°ƒç”¨com.ssm.serviceä¸‹çš„æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•å‰éƒ½ä¼šæ‰§è¡ŒbeforeInvokeæ–¹æ³•</span><span class="hljs-comment">    */</span>    @<span class="hljs-constructor">Pointcut(<span class="hljs-string">"execution(* com.ssm.service.*.*(..))"</span>)</span>    public void point<span class="hljs-constructor">Cut()</span>{};     @<span class="hljs-constructor">Before(<span class="hljs-params">value</span> = <span class="hljs-string">"pointCut()"</span>)</span>    public void before<span class="hljs-constructor">Invoke(JoinPoint <span class="hljs-params">joinpoint</span>)</span> {        <span class="hljs-keyword">try</span> {            String clazzName = joinpoint.get<span class="hljs-constructor">Target()</span>.get<span class="hljs-constructor">Class()</span>.get<span class="hljs-constructor">Name()</span>;            String methodName = joinpoint.get<span class="hljs-constructor">Signature()</span>.get<span class="hljs-constructor">Name()</span>;            Class targetClazz = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Class</span>.</span></span>for<span class="hljs-constructor">Name(<span class="hljs-params">clazzName</span>)</span>;            Method<span class="hljs-literal">[]</span> methods = targetClazz.get<span class="hljs-constructor">Methods()</span>;            for(Method <span class="hljs-keyword">method</span> : methods) {                <span class="hljs-keyword">if</span>(<span class="hljs-keyword">method</span>.get<span class="hljs-constructor">Name()</span>.equals(methodName)) {                    <span class="hljs-comment">// é¦–å…ˆæŸ¥çœ‹æ–¹æ³•æ˜¯å¦ä½¿ç”¨æ³¨è§£</span>                    <span class="hljs-comment">// å¦‚æœä½¿ç”¨æ³¨è§£ï¼Œåˆ™è·å–æ³¨è§£å®šä¹‰çš„å€¼ï¼Œå¹¶æ ¹æ®æ³¨è§£çš„å€¼è®¾ç½®è®¿é—®æ•°æ®åº“çš„key</span>                    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">method</span>.is<span class="hljs-constructor">AnnotationPresent(DataSource.<span class="hljs-params">class</span>)</span>) {                        DataSource dataSource = <span class="hljs-keyword">method</span>.get<span class="hljs-constructor">Annotation(DataSource.<span class="hljs-params">class</span>)</span>;                        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DatasourceHolder</span>.</span></span>set<span class="hljs-constructor">DataType(<span class="hljs-params">dataSource</span>.<span class="hljs-params">value</span>()</span>);                    }                    break;                }            }        } catch (Exception e) {            e.print<span class="hljs-constructor">StackTrace()</span>;        }     }}</code></pre></div><p>  4ã€å®šä¹‰åŠ¨æ€åˆ‡æ¢æ•°æ®æº(ç»§æ‰¿Springçš„AbstractRoutingDataSource)</p><div class="hljs"><pre><code class="hljs scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DynamicDataSource</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractRoutingDataSource</span> </span>{    <span class="hljs-comment">/**</span><span class="hljs-comment">    * æ ¹æ®DatasourceHolderä¸­DataTypeçš„å€¼è·å–å…·ä½“çš„æ•°æ®æº</span><span class="hljs-comment">    */</span>    <span class="hljs-meta">@Override</span>    <span class="hljs-keyword">protected</span> <span class="hljs-type">Object</span> determineCurrentLookupKey() {        <span class="hljs-keyword">return</span> <span class="hljs-type">DatasourceHolder</span>.getDataType();    }}</code></pre></div><p>  5ã€æ•°æ®æºåˆ‡æ¢çš„ä½¿ç”¨</p><div class="hljs"><pre><code class="hljs dart"><span class="hljs-meta">@Service</span>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IdxServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IIdxSevice</span> </span>{     <span class="hljs-meta">@Autowired</span>    private IdxMapper idxMapper;     <span class="hljs-meta">@Override</span>    public <span class="hljs-built_in">List</span>&lt;Idx&gt; listIdxInfo() {        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;    }     <span class="hljs-comment"><span class="markdown">/**</span></span><span class="hljs-comment"><span class="markdown"><span class="hljs-bullet">    * </span>æ ¹æ®æ³¨è§£çš„é…ç½®ï¼Œä¼šè®¿é—®oracleå¯¹åº”çš„æ•°æ®æº</span></span><span class="hljs-comment"><span class="markdown"><span class="hljs-code">    */</span></span></span>    <span class="hljs-meta">@Override</span>    <span class="hljs-meta">@DataSource</span>(<span class="hljs-string">"oracle"</span>)    public <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>,<span class="hljs-built_in">Object</span>&gt; getIdxById(<span class="hljs-built_in">int</span> idxId) {        <span class="hljs-keyword">return</span> idxMapper.getIdxById(idxId);    }     <span class="hljs-comment"><span class="markdown">/**</span></span><span class="hljs-comment"><span class="markdown"><span class="hljs-bullet">    * </span>æ ¹æ®æ³¨è§£çš„é…ç½®ï¼Œä¼šè®¿é—®mysqlå¯¹åº”çš„æ•°æ®æº</span></span><span class="hljs-comment"><span class="markdown"><span class="hljs-code">    */</span></span></span>    <span class="hljs-meta">@Override</span>    <span class="hljs-meta">@DataSource</span>(<span class="hljs-string">"mysql"</span>)    public <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Object</span>&gt; getJobInfo(<span class="hljs-built_in">int</span> dbId) {        <span class="hljs-keyword">return</span> idxMapper.getJobInfo(dbId);    }}</code></pre></div><p>é€šè¿‡ä»¥ä¸Šçš„æ­¥éª¤å³å®ç°äº†æ•°æ®æºçš„åŠ¨æ€åˆ‡æ¢</p><h1 id="åŠ¨æ€å¤šæ•°æ®æºåˆ‡æ¢"><a href="#åŠ¨æ€å¤šæ•°æ®æºåˆ‡æ¢" class="headerlink" title="åŠ¨æ€å¤šæ•°æ®æºåˆ‡æ¢"></a>åŠ¨æ€å¤šæ•°æ®æºåˆ‡æ¢</h1><p>  å¯¹äºåŠ¨æ€çš„å¤šæ•°æ®æºï¼Œæ•°æ®æºçš„é…ç½®ä¸€èˆ¬ä¸æ”¾åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå› ä¸ºå¦‚æœæ”¾åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œæ¯æ¬¡æ–°å¢æˆ–åˆ é™¤æ•°æ®æºï¼Œéƒ½éœ€è¦é‡å¯é¡¹ç›®ï¼Œè¿™æ ·çš„å®ç°æ–¹å¼éå¸¸ä¸å‹å¥½ï¼›é€šå¸¸æƒ…å†µå‘æ•°æ®æºçš„é…ç½®æ”¾åœ¨æ•°æ®åº“ä¸­ã€‚å®ç°æ–¹å¼å¦‚ä¸‹ï¼š**<br>**</p><p>  1ã€é…ç½®æ•°æ®æºï¼Œè¿™é‡Œé…ç½®çš„æ•°æ®æºç”¨äºä¿å­˜å…¶ä»–æ•°æ®æºçš„é…ç½®ä¿¡æ¯ï¼Œä»Šåæ•°æ®çš„æ–°å¢ã€åˆ é™¤ã€ä¿®æ”¹å‡åœ¨è¯¥æ•°æ®åº“ä¸­æ“ä½œï¼Œé…ç½®å¦‚ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å®šä¹‰æ•°æ®æº--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"oracledataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.apache.commons.dbcp.BasicDataSource"</span> <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">"close"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"oracle.jdbc.driver.OracleDriver"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:oracle:thin:@127.0.0.1:1522:neworcl"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"cfgmanage"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"cfgmanage"</span> /&gt;</span>    <span class="hljs-comment">&lt;!-- åˆå§‹åŒ–è¿æ¥å¤§å° --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"initialSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å¤§æ•°é‡ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxActive"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"20"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å¤§ç©ºé—² --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"20"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¿æ¥æ± æœ€å°ç©ºé—² --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"minIdle"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è·å–è¿æ¥æœ€å¤§ç­‰å¾…æ—¶é—´ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxWait"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"60000"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span> <span class="hljs-comment">&lt;!--æŸ¥è¯¢åŠ¨æ€é…ç½®çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"jdbcTemplate"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.jdbc.core.JdbcTemplate"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"oracledataSource"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dbConfigService"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.teamsun.datasource.DBConfigService"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"jdbcTemplate"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"jdbcTemplate"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span> <span class="hljs-comment">&lt;!--å®šä¹‰åŠ¨æ€æ•°æ®æº--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.teamsun.datasource.DynamicDataSource"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"masterDataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"oracledataSource"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dbConfigService"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dbConfigService"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span> <span class="hljs-comment">&lt;!--springå’Œmybatisæ•´åˆ--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dataSource"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"mapperLocations"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"classpath:mapper/*.xml"</span> /&gt;</span>    <span class="hljs-comment">&lt;!--&lt;property name="mapperLocations" value="classpath:mapping/*.xml" /&gt;--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"basePackage"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"com.teamsun.mapper"</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"sqlSessionFactoryBeanName"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"sqlSessionFactory"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div><p>2ã€å®ç°æŸ¥è¯¢æ•°æ®æºé…ç½®ä¿¡æ¯çš„ç±»</p><div class="hljs"><pre><code class="hljs lsl">public class DBConfigService {     private JdbcTemplate jdbcTemplate;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * æŸ¥è¯¢æ•°æ®åº“é…ç½®ä¿¡æ¯</span><span class="hljs-comment">     * @param dbName  æ•°æ®åº“åç§°</span><span class="hljs-comment">     * @return æ•°æ®åº“é…ç½®ä¿¡æ¯</span><span class="hljs-comment">     */</span>    public DBCfg getDBCfg(String dbName) throws Exception {        String querySql = <span class="hljs-string">"select<span class="hljs-subst">\n</span>"</span> +                <span class="hljs-string">"          t.db_type as <span class="hljs-subst">\"</span>dbType<span class="hljs-subst">\"</span>,<span class="hljs-subst">\n</span>"</span> +                <span class="hljs-string">"           t.db_name as <span class="hljs-subst">\"</span>dbName<span class="hljs-subst">\"</span>,<span class="hljs-subst">\n</span>"</span> +                <span class="hljs-string">"           t.db_comment as <span class="hljs-subst">\"</span>dbCommment<span class="hljs-subst">\"</span>,<span class="hljs-subst">\n</span>"</span> +                <span class="hljs-string">"           t.db_driver as <span class="hljs-subst">\"</span>driverClass<span class="hljs-subst">\"</span>,<span class="hljs-subst">\n</span>"</span> +                <span class="hljs-string">"           t.db_username as <span class="hljs-subst">\"</span>userName<span class="hljs-subst">\"</span>,<span class="hljs-subst">\n</span>"</span> +                <span class="hljs-string">"           t.db_password as <span class="hljs-subst">\"</span>passworld<span class="hljs-subst">\"</span>,<span class="hljs-subst">\n</span>"</span> +                <span class="hljs-string">"           t.db_url as <span class="hljs-subst">\"</span>jdbcURL<span class="hljs-subst">\"</span>"</span> +                <span class="hljs-string">"          from TB_RPT_DBCFG t<span class="hljs-subst">\n</span>"</span> +                <span class="hljs-string">"          where t.db_name = '"</span> + dbName + <span class="hljs-string">"'"</span>;         RowMapper&lt;DBCfg&gt; rowMapper = ParameterizedBeanPropertyRowMapper.newInstance(DBCfg.class);        DBCfg dbCfg = (DBCfg) jdbcTemplate.queryForObject(querySql, rowMapper);        return dbCfg;    }     public JdbcTemplate getJdbcTemplate() {        return jdbcTemplate;    }     public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {        this.jdbcTemplate = jdbcTemplate;    }}</code></pre></div><p>3ã€å®ç°åŠ¨æ€åˆ‡æ¢æ•°æ®æº</p><div class="hljs"><pre><code class="hljs reasonml"><span class="hljs-comment">/**</span><span class="hljs-comment"> * &lt;p&gt;åŠ¨æ€åˆ›å»ºåŠè®¿é—®å¤šæ•°æ®æº&lt;/p&gt;</span><span class="hljs-comment"> */</span>public <span class="hljs-keyword">class</span> DynamicDataSource extends AbstractRoutingDataSource{     <span class="hljs-keyword">private</span> DBConfigService dbConfigService;     <span class="hljs-keyword">private</span> DataSource masterDataSource;     <span class="hljs-keyword">private</span> Map&lt;Object, Object&gt; targetDataSource = <span class="hljs-keyword">new</span> HashMap&lt;Object, Object&gt;<span class="hljs-literal">()</span>;     <span class="hljs-keyword">private</span> static final String DEFAULT_DB_NAME = <span class="hljs-string">"dataSource"</span>;  <span class="hljs-comment">// é»˜è®¤æ•°æ®åº“å</span>     <span class="hljs-keyword">private</span> static final Logger LOGGER = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Logger</span>.</span></span>get<span class="hljs-constructor">Logger(DynamicDataSource.<span class="hljs-params">class</span>)</span>;     <span class="hljs-comment">/**</span><span class="hljs-comment">     * åˆ›å»ºå¹¶è·å–æ•°æ®æº</span><span class="hljs-comment">     * @return</span><span class="hljs-comment">     */</span>    @Override    protected DataSource determine<span class="hljs-constructor">TargetDataSource()</span> {        <span class="hljs-comment">// è·å–æ•°æ®æºåç§°</span>        String dbName = (String) determine<span class="hljs-constructor">CurrentLookupKey()</span>;         <span class="hljs-comment">// è·å–é»˜è®¤æ•°æ®æº</span>        <span class="hljs-keyword">if</span>(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DEFAULT_DB_NAME</span>.</span></span>equals(dbName)) {            return masterDataSource;        }         <span class="hljs-comment">// åˆ›å»ºæ•°æ®æº</span>        DataSource dataSource = (DataSource) targetDataSource.get(dbName);        <span class="hljs-keyword">try</span> {            <span class="hljs-keyword">if</span> (dataSource<span class="hljs-operator"> == </span>null) {                dataSource = get<span class="hljs-constructor">DataSourceByName(<span class="hljs-params">dbName</span>)</span>;            }        } catch (Exception e) {            e.print<span class="hljs-constructor">StackTrace()</span>;        }        return dataSource;    }     <span class="hljs-comment">/**</span><span class="hljs-comment">     * è·å–æ•°æ®åº“åç§°ï¼Œå¯æ ¹æ®è·å–çš„æ•°æ®åº“åç§°æŸ¥è¯¢æ•°æ®åº“é…ç½®ä¿¡æ¯ï¼Œ</span><span class="hljs-comment">     * é€šè¿‡é…ç½®ä¿¡æ¯åŠ¨æ€åˆ›å»ºæ•°æ®æº</span><span class="hljs-comment">     * @return</span><span class="hljs-comment">     */</span>    @Override    protected Object determine<span class="hljs-constructor">CurrentLookupKey()</span> {        String dbName = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DatasourceHolder</span>.</span></span>get<span class="hljs-constructor">DBName()</span>;        <span class="hljs-keyword">if</span>(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">StringUtils</span>.</span></span>is<span class="hljs-constructor">Empty(<span class="hljs-params">dbName</span>)</span>) {            dbName = DEFAULT_DB_NAME;        }         <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DatasourceHolder</span>.</span></span>remove<span class="hljs-literal">()</span>;        return dbName;    }     @Override    public void after<span class="hljs-constructor">PropertiesSet()</span> {     }     <span class="hljs-comment">/**</span><span class="hljs-comment">     * é€šè¿‡æ•°æ®åº“çš„é…ç½®ä¿¡æ¯è·å–æ•°æ®æº</span><span class="hljs-comment">     * @param dbName æ•°æ®åº“åç§°</span><span class="hljs-comment">     * @return</span><span class="hljs-comment">     */</span>    public synchronized DataSource get<span class="hljs-constructor">DataSourceByName(String <span class="hljs-params">dbName</span>)</span> throws Exception {                 <span class="hljs-comment">// åˆ›å»ºæ•°æ®æº</span>        BasicDataSource dataSource = create<span class="hljs-constructor">DataSource(<span class="hljs-params">dbName</span>)</span>;                 <span class="hljs-comment">// å¦‚æœåˆ›å»ºæ•°æ®æºæˆåŠŸåˆ™ç¼“å­˜æ•°æ®æºï¼Œé¿å…é‡å¤åˆ›å»ºç›¸åŒçš„æ•°æ®æº</span>        <span class="hljs-keyword">if</span>(dataSource != null) {            targetDataSource.put(dbName, dataSource);        }        return  dataSource;    }     <span class="hljs-comment">/**</span><span class="hljs-comment">     * é€šè¿‡æ•°æ®åº“çš„é…ç½®åˆ›å»ºæ•°æ®æº</span><span class="hljs-comment">     * @param dbName æ•°æ®åº“åç§°</span><span class="hljs-comment">     * @return</span><span class="hljs-comment">     */</span>    public BasicDataSource create<span class="hljs-constructor">DataSource(String <span class="hljs-params">dbName</span>)</span> throws Exception {                 <span class="hljs-comment">// æŸ¥è¯¢åŠ¨æ€æ•°æ®æºé…ç½®ä¿¡æ¯</span>        String oriDBName = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DatasourceHolder</span>.</span></span>get<span class="hljs-constructor">DBName()</span>;         <span class="hljs-keyword">if</span>(dbConfigService<span class="hljs-operator"> == </span>null) {            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">"åˆ›å»ºæ•°æ®æºå¤±è´¥[dbCfgService is null......]"</span>);            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">LOGGER</span>.</span></span>debug(<span class="hljs-string">"åˆ›å»ºæ•°æ®æºå¤±è´¥[dbCfgService is null......]"</span>);        }         <span class="hljs-comment">// é€šè¿‡æ•°æ®åº“åç§°æŸ¥è¯¢ç›¸å…³çš„æ•°æ®åº“é…ç½®ä¿¡æ¯</span>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DatasourceHolder</span>.</span></span>set<span class="hljs-constructor">DBName(DEFAULT_DB_NAME)</span>;        DBCfg dbCfg = dbConfigService.get<span class="hljs-constructor">DBCfg(<span class="hljs-params">dbName</span>)</span>;        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DatasourceHolder</span>.</span></span>set<span class="hljs-constructor">DBName(<span class="hljs-params">oriDBName</span>)</span>;         String driver = dbCfg.get<span class="hljs-constructor">DriverClass()</span>;  <span class="hljs-comment">// æ•°æ®åº“é©±åŠ¨</span>        String url = dbCfg.get<span class="hljs-constructor">JdbcURL()</span>;  <span class="hljs-comment">// æ•°æ®åº“è¿æ¥åœ°å€</span>        String username = dbCfg.get<span class="hljs-constructor">UserName()</span>;  <span class="hljs-comment">// æ•°æ®åº“ç”¨æˆ·å</span>        String password = dbCfg.get<span class="hljs-constructor">Passworld()</span>;  <span class="hljs-comment">// æ•°æ®åº“å¯†ç </span>         <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">LOGGER</span>.</span></span>debug(<span class="hljs-string">"åŠ¨æ€è¿æ¥çš„æ•°æ®åº“ä¸º["</span> + url + <span class="hljs-string">"|"</span> + username + <span class="hljs-string">"]"</span>);         <span class="hljs-comment">// åˆ›å»ºæ•°æ®æº</span>        BasicDataSource basicDataSource = <span class="hljs-keyword">new</span> <span class="hljs-constructor">BasicDataSource()</span>;        basicDataSource.set<span class="hljs-constructor">DriverClassName(<span class="hljs-params">driver</span>)</span>;        basicDataSource.set<span class="hljs-constructor">Url(<span class="hljs-params">url</span>)</span>;        basicDataSource.set<span class="hljs-constructor">Username(<span class="hljs-params">username</span>)</span>;        basicDataSource.set<span class="hljs-constructor">Password(<span class="hljs-params">password</span>)</span>;        basicDataSource.set<span class="hljs-constructor">TestWhileIdle(<span class="hljs-params">true</span>)</span>;         return basicDataSource;    }     <span class="hljs-comment">/**</span><span class="hljs-comment">     * å¦‚æœä¿®æ”¹æˆ–åˆ é™¤æ•°æ®æºçš„é…ç½®ï¼Œåˆ™éœ€è¦åŒæ­¥åˆ é™¤ç¼“å­˜çš„æ•°æ®æº</span><span class="hljs-comment">     * @param dbName</span><span class="hljs-comment">     */</span>    public void remove<span class="hljs-constructor">DataSource(String <span class="hljs-params">dbName</span>)</span> {        this.targetDataSource.remove(dbName);    }     public DataSource get<span class="hljs-constructor">MasterDataSource()</span> {        return masterDataSource;    }     public void set<span class="hljs-constructor">MasterDataSource(DataSource <span class="hljs-params">masterDataSource</span>)</span> {        this.masterDataSource = masterDataSource;    }     public DBConfigService get<span class="hljs-constructor">DbConfigService()</span> {        return dbConfigService;    }     public void set<span class="hljs-constructor">DbConfigService(DBConfigService <span class="hljs-params">dbConfigService</span>)</span> {        this.dbConfigService = dbConfigService;    }}</code></pre></div><p>4ã€ä½¿ç”¨åŠ¨æ€åˆ‡æ¢æ•°æ®æº</p><div class="hljs"><pre><code class="hljs reasonml">public <span class="hljs-keyword">class</span> ShowRptServiceImpl implements IShowRptService {     <span class="hljs-keyword">private</span> static final Logger LOGGER = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Logger</span>.</span></span>get<span class="hljs-constructor">Logger(ShowRptServiceImpl.<span class="hljs-params">class</span>)</span>;     @Autowired    <span class="hljs-keyword">private</span> DBCfgMapper dbCfgMapper;     @Autowired    <span class="hljs-keyword">private</span> ShowRptInfoMapper showRptInfoMapper;     @Override    public RptResult query<span class="hljs-constructor">RptInfo(BaseRpt <span class="hljs-params">baseRpt</span>, Map&lt;String, String&gt; <span class="hljs-params">params</span>)</span> {        <span class="hljs-comment">// åœ¨è°ƒç”¨Mybatisæ‰§è¡Œæ•°æ®åº“ä¹‹å‰å…ˆé€‰æ‹©æ•°æ®æº</span>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DatasourceHolder</span>.</span></span>set<span class="hljs-constructor">DBName(<span class="hljs-params">dbCfg</span>.<span class="hljs-params">getDbName</span>()</span>);        <span class="hljs-comment">// æŸ¥è¯¢æŠ¥è¡¨æ•°æ®</span>        List&lt;Map&lt;String,Object&gt;&gt; resultList = showRptInfoMapper.query<span class="hljs-constructor">RptData(<span class="hljs-params">querySQL</span>)</span>;          <span class="hljs-comment">// é€‰æ‹©æ•°æ®æº</span>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">DatasourceHolder</span>.</span></span>set<span class="hljs-constructor">DBName(<span class="hljs-params">dbCfg</span>.<span class="hljs-params">getDbName</span>()</span>);        <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®æ•°æ®é‡</span>        <span class="hljs-built_in">int</span> totalCount = showRptInfoMapper.query<span class="hljs-constructor">TotalCount(<span class="hljs-params">countSQL</span>)</span>;         RptResult rptResult = <span class="hljs-keyword">new</span> <span class="hljs-constructor">RptResult()</span>;        return rptResult;    } }</code></pre></div><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤å³å¯å®ç°åŠ¨æ€å¤šæ•°æ®æºçš„åŠ¨æ€åˆ‡æ¢</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åŸæ–‡é“¾æ¥ï¼š&lt;a href=&quot;https://www.cnblogs.com/zt2710/p/11116637.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.cnblogs.com/zt2710/p/11116637.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¾¤èŠå¤©è®°å½•æˆªå›¾ğŸ‘‡&lt;/p&gt;
&lt;img src=&quot;https://s1.ax1x.com/2020/09/08/wQE7DO.jpg&quot; srcset=&quot;/blog/img/loading.gif&quot; alt=&quot;wQE7DO.jpg&quot; style=&quot;zoom:30%;&quot;&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="Java" scheme="https://melodyjerry.github.io/blog/tags/Java/"/>
    
      <category term="SSM" scheme="https://melodyjerry.github.io/blog/tags/SSM/"/>
    
  </entry>
  
  <entry>
    <title>ä¼˜åŒ–IDEAå¡é¡¿ç°è±¡</title>
    <link href="https://melodyjerry.github.io/blog/2020/09/07/%E4%BC%98%E5%8C%96IDEA%E5%8D%A1%E9%A1%BF%E7%8E%B0%E8%B1%A1/"/>
    <id>https://melodyjerry.github.io/blog/2020/09/07/%E4%BC%98%E5%8C%96IDEA%E5%8D%A1%E9%A1%BF%E7%8E%B0%E8%B1%A1/</id>
    <published>2020-09-07T09:24:41.000Z</published>
    <updated>2020-09-18T04:43:03.056Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¿®æ”¹-vmoptions-æ–‡ä»¶"><a href="#ä¿®æ”¹-vmoptions-æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ vmoptions æ–‡ä»¶"></a>ä¿®æ”¹ vmoptions æ–‡ä»¶</h2><p>é¦–å…ˆæ˜¯æ‰¾åˆ° IDEA çš„å®‰è£…ç›®å½•ï¼Œä¹‹ååˆ°å®‰è£…ç›®å½•çš„ bin ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼š<br><code>idea.exe.vmoptions</code>å’Œ<code>idea64.exe.vmoptions</code><br>çœ‹ä½ æ˜¯å¤šå°‘ä½ç³»ç»Ÿçš„ä½ å°±è¯¥å¯¹åº”çš„å°±å¯ä»¥äº†ï¼Œç¼–è¾‘è¿™ä¸ªé…ç½®æ–‡ä»¶ã€‚<br>ä¿®æ”¹å‰ï¼š</p><div class="hljs"><pre><code class="hljs haml">-<span class="ruby">Xms128m</span><span class="ruby">-Xmx750m</span><span class="ruby">-<span class="hljs-symbol">XX:</span>ReservedCodeCacheSize=<span class="hljs-number">240</span>m</span><span class="ruby">-<span class="hljs-symbol">XX:</span>+UseConcMarkSweepGC</span><span class="ruby">-<span class="hljs-symbol">XX:</span>SoftRefLRUPolicyMSPerMB=<span class="hljs-number">50</span></span><span class="ruby">-ea</span><span class="ruby">-<span class="hljs-symbol">XX:</span>CICompilerCount=<span class="hljs-number">2</span></span><span class="ruby">-Dsun.io.useCanonPrefixCache=<span class="hljs-literal">false</span></span><span class="ruby">-Djdk.http.auth.tunneling.disabledSchemes=<span class="hljs-string">""</span></span><span class="ruby">-<span class="hljs-symbol">XX:</span>+HeapDumpOnOutOfMemoryError</span><span class="ruby">-<span class="hljs-symbol">XX:</span>-OmitStackTraceInFastThrow</span><span class="ruby">-Djdk.attach.allowAttachSelf=<span class="hljs-literal">true</span></span><span class="ruby">-Dkotlinx.coroutines.debug=off</span><span class="ruby">-Djdk<span class="hljs-class">.<span class="hljs-keyword">module</span>.<span class="hljs-title">illegalAccess</span>.<span class="hljs-title">silent</span>=<span class="hljs-title">true</span></span></span></code></pre></div><p>ä¿®æ”¹åï¼š<br>åˆ†åˆ«æŠŠ<strong>å†…å­˜</strong>çš„å‚æ•° <strong>128m</strong> å’Œ <strong>750m</strong> æ”¹æˆä½ æƒ³è¦æ”¹çš„å°±å¯ä»¥äº†ï¼Œæˆ‘æ˜¯åˆ†åˆ«æ”¹æˆäº† <strong>1024m</strong> å’Œ <strong>2048m</strong>ï¼Œä¹‹åå¦‚æœè¿˜å¡ï¼Œå†å¾€å¤§äº†è°ƒï¼Œå¯ä»¥æ ¹æ®è‡ªå·±ç”µè„‘çš„å®é™…å†…å­˜è®¾ç½®ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/evane1890/article/details/78941968" target="_blank" rel="noopener">JVMè°ƒä¼˜å¸¸ç”¨å‚æ•°</a></p><a id="more"></a><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ä¿®æ”¹-vmoptions-æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#ä¿®æ”¹-vmoptions-æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;ä¿®æ”¹ vmoptions æ–‡ä»¶&quot;&gt;&lt;/a&gt;ä¿®æ”¹ vmoptions æ–‡ä»¶&lt;/h2&gt;&lt;p&gt;é¦–å…ˆæ˜¯æ‰¾åˆ° IDEA çš„å®‰è£…ç›®å½•ï¼Œä¹‹ååˆ°å®‰è£…ç›®å½•çš„ bin ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼š&lt;br&gt;&lt;code&gt;idea.exe.vmoptions&lt;/code&gt;å’Œ&lt;code&gt;idea64.exe.vmoptions&lt;/code&gt;&lt;br&gt;çœ‹ä½ æ˜¯å¤šå°‘ä½ç³»ç»Ÿçš„ä½ å°±è¯¥å¯¹åº”çš„å°±å¯ä»¥äº†ï¼Œç¼–è¾‘è¿™ä¸ªé…ç½®æ–‡ä»¶ã€‚&lt;br&gt;ä¿®æ”¹å‰ï¼š&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs haml&quot;&gt;-&lt;span class=&quot;ruby&quot;&gt;Xms128m&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-Xmx750m&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-&lt;span class=&quot;hljs-symbol&quot;&gt;XX:&lt;/span&gt;ReservedCodeCacheSize=&lt;span class=&quot;hljs-number&quot;&gt;240&lt;/span&gt;m&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-&lt;span class=&quot;hljs-symbol&quot;&gt;XX:&lt;/span&gt;+UseConcMarkSweepGC&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-&lt;span class=&quot;hljs-symbol&quot;&gt;XX:&lt;/span&gt;SoftRefLRUPolicyMSPerMB=&lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-ea&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-&lt;span class=&quot;hljs-symbol&quot;&gt;XX:&lt;/span&gt;CICompilerCount=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-Dsun.io.useCanonPrefixCache=&lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-Djdk.http.auth.tunneling.disabledSchemes=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-&lt;span class=&quot;hljs-symbol&quot;&gt;XX:&lt;/span&gt;+HeapDumpOnOutOfMemoryError&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-&lt;span class=&quot;hljs-symbol&quot;&gt;XX:&lt;/span&gt;-OmitStackTraceInFastThrow&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-Djdk.attach.allowAttachSelf=&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-Dkotlinx.coroutines.debug=off&lt;/span&gt;
&lt;span class=&quot;ruby&quot;&gt;-Djdk&lt;span class=&quot;hljs-class&quot;&gt;.&lt;span class=&quot;hljs-keyword&quot;&gt;module&lt;/span&gt;.&lt;span class=&quot;hljs-title&quot;&gt;illegalAccess&lt;/span&gt;.&lt;span class=&quot;hljs-title&quot;&gt;silent&lt;/span&gt;=&lt;span class=&quot;hljs-title&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¿®æ”¹åï¼š&lt;br&gt;åˆ†åˆ«æŠŠ&lt;strong&gt;å†…å­˜&lt;/strong&gt;çš„å‚æ•° &lt;strong&gt;128m&lt;/strong&gt; å’Œ &lt;strong&gt;750m&lt;/strong&gt; æ”¹æˆä½ æƒ³è¦æ”¹çš„å°±å¯ä»¥äº†ï¼Œæˆ‘æ˜¯åˆ†åˆ«æ”¹æˆäº† &lt;strong&gt;1024m&lt;/strong&gt; å’Œ &lt;strong&gt;2048m&lt;/strong&gt;ï¼Œä¹‹åå¦‚æœè¿˜å¡ï¼Œå†å¾€å¤§äº†è°ƒï¼Œå¯ä»¥æ ¹æ®è‡ªå·±ç”µè„‘çš„å®é™…å†…å­˜è®¾ç½®ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;&lt;a href=&quot;#å‚è€ƒ&quot; class=&quot;headerlink&quot; title=&quot;å‚è€ƒ&quot;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/evane1890/article/details/78941968&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;JVMè°ƒä¼˜å¸¸ç”¨å‚æ•°&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="å°æŠ€å·§" scheme="https://melodyjerry.github.io/blog/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
      <category term="IDEA" scheme="https://melodyjerry.github.io/blog/tags/IDEA/"/>
    
  </entry>
  
  <entry>
    <title>å®å¡”åŒIPæˆ–åŒåŸŸåä¸åŒç«¯å£åˆ†åˆ«å¯¹åº”ä¸åŒç½‘ç«™æ•™ç¨‹</title>
    <link href="https://melodyjerry.github.io/blog/2020/09/05/%E5%AE%9D%E5%A1%94%E5%90%8CIP%E6%88%96%E5%90%8C%E5%9F%9F%E5%90%8D%E4%B8%8D%E5%90%8C%E7%AB%AF%E5%8F%A3%E5%88%86%E5%88%AB%E5%AF%B9%E5%BA%94%E4%B8%8D%E5%90%8C%E7%BD%91%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    <id>https://melodyjerry.github.io/blog/2020/09/05/%E5%AE%9D%E5%A1%94%E5%90%8CIP%E6%88%96%E5%90%8C%E5%9F%9F%E5%90%8D%E4%B8%8D%E5%90%8C%E7%AB%AF%E5%8F%A3%E5%88%86%E5%88%AB%E5%AF%B9%E5%BA%94%E4%B8%8D%E5%90%8C%E7%BD%91%E7%AB%99%E6%95%99%E7%A8%8B/</id>
    <published>2020-09-05T09:24:41.000Z</published>
    <updated>2020-09-18T04:43:03.065Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><ul><li><p>IP</p></li><li><p>æœåŠ¡å™¨ç«¯æ”¾è¡Œæ‰€éœ€ç«¯å£</p></li><li><p>å®‰è£…å¥½çš„å®å¡”é¢æ¿ã€‚</p></li></ul><h1 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" class="headerlink" title="å®ç°æ•ˆæœ"></a>å®ç°æ•ˆæœ</h1><p>192.168.1.666:80 ç«™ç‚¹ä¸€æŒ‡å‘Aé¡¹ç›®</p><p>192.168.1.666:8081 ç«™ç‚¹äºŒæŒ‡å‘Bé¡¹ç›®</p><h1 id="å…·ä½“æ­¥éª¤"><a href="#å…·ä½“æ­¥éª¤" class="headerlink" title="å…·ä½“æ­¥éª¤"></a>å…·ä½“æ­¥éª¤</h1><p>1ï¼‰ æ–°å»ºä¸€ä¸ªç«™ç‚¹æŒ‡å‘é¡¹ç›®A</p><p><img src="https://img2020.cnblogs.com/blog/1137058/202005/1137058-20200514113737124-1200219923.png" srcset="/blog/img/loading.gif" alt="img"></p><p> 2ï¼‰å†æ¬¡æ·»åŠ ä¸€ä¸ªç«™ç‚¹æŒ‡å‘é¡¹ç›®B</p><p><img src="https://img2020.cnblogs.com/blog/1137058/202005/1137058-20200514114000175-1939839843.png" srcset="/blog/img/loading.gif" alt="img"></p><p> æäº¤ä¹‹åæ‰“å¼€è®¾ç½®</p><p><img src="https://img2020.cnblogs.com/blog/1137058/202005/1137058-20200514114036225-1680296715.png" srcset="/blog/img/loading.gif" alt="img"></p><p> ä¿®æ”¹é…ç½®æ–‡ä»¶å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://img2020.cnblogs.com/blog/1137058/202005/1137058-20200514114317948-567330049.png" srcset="/blog/img/loading.gif" alt="img"></p><p> æäº¤ä¹‹åï¼Œåˆ‡è®°ä¸€å®šè¦é‡å¯nginxï¼Œç„¶åå³æ‰“å¼€ç«™ç‚¹å°±å¯ä»¥çœ‹åˆ°å†…å®¹</p><p>ç…§æ­¤å¯æ·»åŠ å¤šä¸ª</p><a id="more"></a><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#å‡†å¤‡å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;/a&gt;å‡†å¤‡å·¥ä½œ&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;IP&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡å™¨ç«¯æ”¾è¡Œæ‰€éœ€ç«¯å£&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å®‰è£…å¥½çš„å®å¡”é¢æ¿ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;å®ç°æ•ˆæœ&quot;&gt;&lt;a href=&quot;#å®ç°æ•ˆæœ&quot; class=&quot;headerlink&quot; title=&quot;å®ç°æ•ˆæœ&quot;&gt;&lt;/a&gt;å®ç°æ•ˆæœ&lt;/h1&gt;&lt;p&gt;192.168.1.666:80 ç«™ç‚¹ä¸€æŒ‡å‘Aé¡¹ç›®&lt;/p&gt;
&lt;p&gt;192.168.1.666:8081 ç«™ç‚¹äºŒæŒ‡å‘Bé¡¹ç›®&lt;/p&gt;
&lt;h1 id=&quot;å…·ä½“æ­¥éª¤&quot;&gt;&lt;a href=&quot;#å…·ä½“æ­¥éª¤&quot; class=&quot;headerlink&quot; title=&quot;å…·ä½“æ­¥éª¤&quot;&gt;&lt;/a&gt;å…·ä½“æ­¥éª¤&lt;/h1&gt;&lt;p&gt;1ï¼‰ æ–°å»ºä¸€ä¸ªç«™ç‚¹æŒ‡å‘é¡¹ç›®A&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1137058/202005/1137058-20200514113737124-1200219923.png&quot; srcset=&quot;/blog/img/loading.gif&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;p&gt; 2ï¼‰å†æ¬¡æ·»åŠ ä¸€ä¸ªç«™ç‚¹æŒ‡å‘é¡¹ç›®B&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1137058/202005/1137058-20200514114000175-1939839843.png&quot; srcset=&quot;/blog/img/loading.gif&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;p&gt; æäº¤ä¹‹åæ‰“å¼€è®¾ç½®&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1137058/202005/1137058-20200514114036225-1680296715.png&quot; srcset=&quot;/blog/img/loading.gif&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;p&gt; ä¿®æ”¹é…ç½®æ–‡ä»¶å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img2020.cnblogs.com/blog/1137058/202005/1137058-20200514114317948-567330049.png&quot; srcset=&quot;/blog/img/loading.gif&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;p&gt; æäº¤ä¹‹åï¼Œåˆ‡è®°ä¸€å®šè¦é‡å¯nginxï¼Œç„¶åå³æ‰“å¼€ç«™ç‚¹å°±å¯ä»¥çœ‹åˆ°å†…å®¹&lt;/p&gt;
&lt;p&gt;ç…§æ­¤å¯æ·»åŠ å¤šä¸ª&lt;/p&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="æœåŠ¡å™¨" scheme="https://melodyjerry.github.io/blog/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="Linux" scheme="https://melodyjerry.github.io/blog/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Gitç¬”è®°</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/29/Git%E7%AC%94%E8%AE%B0/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/29/Git%E7%AC%94%E8%AE%B0/</id>
    <published>2020-08-29T13:00:00.000Z</published>
    <updated>2020-09-18T04:43:02.948Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Gitç¬”è®°"><a href="#Gitç¬”è®°" class="headerlink" title="Gitç¬”è®°"></a>Gitç¬”è®°</h1><h4 id="åœ¨å½“å‰ç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„gitä»“åº“"><a href="#åœ¨å½“å‰ç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„gitä»“åº“" class="headerlink" title="åœ¨å½“å‰ç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„gitä»“åº“"></a>åœ¨å½“å‰ç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„gitä»“åº“</h4><ul><li><code>git init</code></li></ul><h4 id="è®¾ç½®å…¨å±€ç”¨æˆ·åå’Œé‚®ç®±"><a href="#è®¾ç½®å…¨å±€ç”¨æˆ·åå’Œé‚®ç®±" class="headerlink" title="è®¾ç½®å…¨å±€ç”¨æˆ·åå’Œé‚®ç®±"></a>è®¾ç½®å…¨å±€ç”¨æˆ·åå’Œé‚®ç®±</h4><ul><li><code>git config --global user.name "name"</code></li><li><code>git config --global user.email "xxxxx@email.com"</code></li><li><code>git config user.name</code> æŸ¥çœ‹gitç”¨æˆ·å</li><li><code>git config user.email</code> æŸ¥çœ‹é‚®ç®±é…ç½®</li></ul><h4 id="æŸ¥çœ‹gité…ç½®"><a href="#æŸ¥çœ‹gité…ç½®" class="headerlink" title="æŸ¥çœ‹gité…ç½®"></a>æŸ¥çœ‹gité…ç½®</h4><ul><li><code>git config --list</code></li></ul><h4 id="æäº¤ä¿®æ”¹åˆ°æš‚å­˜åŒº"><a href="#æäº¤ä¿®æ”¹åˆ°æš‚å­˜åŒº" class="headerlink" title="æäº¤ä¿®æ”¹åˆ°æš‚å­˜åŒº"></a>æäº¤ä¿®æ”¹åˆ°æš‚å­˜åŒº</h4><ul><li><code>git add -A</code> æäº¤å…¨éƒ¨ä¿®æ”¹ã€‚ï¼ˆgit add -Allï¼‰</li><li><code>git add -u</code> åªæäº¤ä¿®æ”¹ï¼Œä¸æäº¤æ–°æ–‡ä»¶ã€‚ï¼ˆgit add -update)</li><li><code>git add .</code> ä¸æäº¤åˆ é™¤æ–‡ä»¶</li><li><code>git add &lt;filename&gt;</code> æäº¤æŒ‡å®šæ–‡ä»¶</li></ul><h4 id="æŸ¥çœ‹æš‚å­˜åŒº"><a href="#æŸ¥çœ‹æš‚å­˜åŒº" class="headerlink" title="æŸ¥çœ‹æš‚å­˜åŒº"></a>æŸ¥çœ‹æš‚å­˜åŒº</h4><ul><li><code>git status</code></li></ul><h4 id="ä¿®æ”¹æœ€æ–°æäº¤çš„-commit-message"><a href="#ä¿®æ”¹æœ€æ–°æäº¤çš„-commit-message" class="headerlink" title="ä¿®æ”¹æœ€æ–°æäº¤çš„ commit message"></a>ä¿®æ”¹æœ€æ–°æäº¤çš„ commit message</h4><ul><li><code>git commit --amend</code></li></ul><h4 id="ä¿®æ”¹æŸä¸ªæäº¤çš„-commit-message"><a href="#ä¿®æ”¹æŸä¸ªæäº¤çš„-commit-message" class="headerlink" title="ä¿®æ”¹æŸä¸ªæäº¤çš„ commit message"></a>ä¿®æ”¹æŸä¸ªæäº¤çš„ commit message</h4><ul><li><code>git commit -i &lt;commit id&gt;</code> commit id ä¸ºè¦ä¿®æ”¹çš„ç›®æ ‡ commit çš„çˆ¶äº² commit id</li></ul><h4 id="åˆå¹¶è¿ç»­çš„commit"><a href="#åˆå¹¶è¿ç»­çš„commit" class="headerlink" title="åˆå¹¶è¿ç»­çš„commit"></a>åˆå¹¶è¿ç»­çš„commit</h4><ul><li><code>git rebase -i &lt;commit id&gt;</code> commit id ä¸ºç›®æ ‡commitçš„çˆ¶äº²commit id</li></ul><h4 id="æäº¤ä¿®æ”¹åˆ°æœ¬åœ°ä»“åº“"><a href="#æäº¤ä¿®æ”¹åˆ°æœ¬åœ°ä»“åº“" class="headerlink" title="æäº¤ä¿®æ”¹åˆ°æœ¬åœ°ä»“åº“"></a>æäº¤ä¿®æ”¹åˆ°æœ¬åœ°ä»“åº“</h4><ul><li><code>git commit -m 'msg'</code> æäº¤æš‚å­˜åŒºåˆ°æœ¬åœ°ä»“åº“</li><li><code>git commit -a -m 'msg'</code> æäº¤ä¿®æ”¹åˆ°æœ¬åœ°ä»“åº“ï¼ˆä¸æäº¤æ–°å¢æ–‡ä»¶ï¼‰</li></ul><h4 id="æŸ¥çœ‹æäº¤è®°å½•"><a href="#æŸ¥çœ‹æäº¤è®°å½•" class="headerlink" title="æŸ¥çœ‹æäº¤è®°å½•"></a>æŸ¥çœ‹æäº¤è®°å½•</h4><ul><li><code>git log</code></li></ul><h4 id="æ·»åŠ è¿œç¨‹ä»“åº“"><a href="#æ·»åŠ è¿œç¨‹ä»“åº“" class="headerlink" title="æ·»åŠ è¿œç¨‹ä»“åº“"></a>æ·»åŠ è¿œç¨‹ä»“åº“</h4><ul><li><code>git remote add &lt;name&gt; &lt;url&gt;</code></li></ul><h4 id="æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯"><a href="#æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯"></a>æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯</h4><ul><li><code>git remote show &lt;name&gt;</code></li></ul><h4 id="è¿œç¨‹ä»“åº“çš„åˆ é™¤å’Œé‡å‘½å"><a href="#è¿œç¨‹ä»“åº“çš„åˆ é™¤å’Œé‡å‘½å" class="headerlink" title="è¿œç¨‹ä»“åº“çš„åˆ é™¤å’Œé‡å‘½å"></a>è¿œç¨‹ä»“åº“çš„åˆ é™¤å’Œé‡å‘½å</h4><ul><li><code>git remote rm &lt;remote_name&gt;</code></li><li><code>git remote rename &lt;old_name&gt; &lt;new_name&gt;</code></li></ul><h4 id="æ‹‰å–è¿œç¨‹ä»“åº“æ•°æ®åˆ°æœ¬åœ°"><a href="#æ‹‰å–è¿œç¨‹ä»“åº“æ•°æ®åˆ°æœ¬åœ°" class="headerlink" title="æ‹‰å–è¿œç¨‹ä»“åº“æ•°æ®åˆ°æœ¬åœ°"></a>æ‹‰å–è¿œç¨‹ä»“åº“æ•°æ®åˆ°æœ¬åœ°</h4><ul><li><code>git pull &lt;remote_name&gt; &lt;branch_name&gt;</code></li></ul><h4 id="æäº¤æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“"><a href="#æäº¤æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="æäº¤æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“"></a>æäº¤æœ¬åœ°ä»“åº“åˆ°è¿œç¨‹ä»“åº“</h4><ul><li><code>git push &lt;remote_name&gt; &lt;branch_name&gt;</code></li></ul><h4 id="æŸ¥çœ‹-amp-åˆ›å»º-amp-åˆ‡æ¢åˆ†æ”¯"><a href="#æŸ¥çœ‹-amp-åˆ›å»º-amp-åˆ‡æ¢åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹&amp;åˆ›å»º&amp;åˆ‡æ¢åˆ†æ”¯"></a>æŸ¥çœ‹&amp;åˆ›å»º&amp;åˆ‡æ¢åˆ†æ”¯</h4><ul><li><code>git branch</code> æŸ¥çœ‹å·²æœ‰åˆ†æ”¯</li><li><code>git branch -v</code> æŸ¥çœ‹å·²æœ‰åˆ†æ”¯åŠå„ä¸ªåˆ†æ”¯æœ€åä¸€ä¸ªæäº¤å¯¹è±¡çš„ä¿¡æ¯</li><li><code>git branch &lt;branch_name&gt;</code> åˆ›å»ºæ–°çš„ç©ºåˆ†æ”¯</li><li><code>git branch &lt;branch_name&gt; &lt;exist_branch_name&gt;</code> åˆ›å»ºæ–°åˆ†æ”¯</li><li><code>git checkout -b &lt;branch_name&gt; &lt;exist_branch_name&gt;</code> åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</li><li><code>git checkout &lt;branch_name&gt;</code> åˆ‡æ¢åˆ†æ”¯</li></ul><h4 id="åˆ é™¤-amp-åˆå¹¶åˆ†æ”¯"><a href="#åˆ é™¤-amp-åˆå¹¶åˆ†æ”¯" class="headerlink" title="åˆ é™¤&amp;åˆå¹¶åˆ†æ”¯"></a>åˆ é™¤&amp;åˆå¹¶åˆ†æ”¯</h4><ul><li><code>git branch -D &lt;branch_name&gt;</code> åˆ é™¤åˆ†æ”¯</li><li><code>git merge &lt;branch_name&gt;</code> å½“å‰åˆ†æ”¯åˆå¹¶åˆ°æŒ‡å®šåˆ†æ”¯</li></ul><h4 id="æš‚å­˜åŒºæ¢å¤åˆ°HEAD"><a href="#æš‚å­˜åŒºæ¢å¤åˆ°HEAD" class="headerlink" title="æš‚å­˜åŒºæ¢å¤åˆ°HEAD"></a>æš‚å­˜åŒºæ¢å¤åˆ°HEAD</h4><ul><li><code>git reset HEAD</code></li><li><code>git reset HEAD &lt;file_name&gt;</code></li></ul><h4 id="å·¥ä½œåŒºæ¢å¤åˆ°æš‚å­˜åŒº"><a href="#å·¥ä½œåŒºæ¢å¤åˆ°æš‚å­˜åŒº" class="headerlink" title="å·¥ä½œåŒºæ¢å¤åˆ°æš‚å­˜åŒº"></a>å·¥ä½œåŒºæ¢å¤åˆ°æš‚å­˜åŒº</h4><ul><li><code>git checkout -- &lt;file_name&gt;</code></li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Gitç¬”è®°&quot;&gt;&lt;a href=&quot;#Gitç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;Gitç¬”è®°&quot;&gt;&lt;/a&gt;Gitç¬”è®°&lt;/h1&gt;&lt;h4 id=&quot;åœ¨å½“å‰ç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„gitä»“åº“&quot;&gt;&lt;a href=&quot;#åœ¨å½“å‰ç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„gitä»“åº“&quot; cla
      
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="Git" scheme="https://melodyjerry.github.io/blog/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>[è½¬]Mavenä¸­é™æ€èµ„æºå’Œå­—èŠ‚ç æ–‡ä»¶çš„è¿‡æ»¤</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/29/[%E8%BD%AC]Maven%E4%B8%AD%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%92%8C%E5%AD%97%E8%8A%82%E7%A0%81%E6%96%87%E4%BB%B6%E7%9A%84%E8%BF%87%E6%BB%A4/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/29/[%E8%BD%AC]Maven%E4%B8%AD%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%92%8C%E5%AD%97%E8%8A%82%E7%A0%81%E6%96%87%E4%BB%B6%E7%9A%84%E8%BF%87%E6%BB%A4/</id>
    <published>2020-08-29T13:00:00.000Z</published>
    <updated>2020-09-18T04:43:03.015Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡çš„æ–¹æ³•æ˜¯é’ˆå¯¹Mavenç®¡ç†çš„Java Webå·¥ç¨‹</p></blockquote><a id="more"></a><h2 id="é™æ€èµ„æºçš„è¿‡æ»¤"><a href="#é™æ€èµ„æºçš„è¿‡æ»¤" class="headerlink" title="é™æ€èµ„æºçš„è¿‡æ»¤"></a>é™æ€èµ„æºçš„è¿‡æ»¤</h2><p>åœ¨mavenä¸­ï¼Œé™æ€èµ„æºçš„è¿‡æ»¤ä½¿ç”¨åŸºæœ¬ä¸Šå¤§å®¶éƒ½çŸ¥é“ï¼Œåªéœ€è¦åœ¨<code>&lt;build&gt;&lt;/build&gt;</code>ä¸­ä½¿ç”¨<code>resources</code>æ ‡ç­¾å³å¯ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>1234567891011</code></pre></div><p>åœ¨é™æ€èµ„æºçš„è¿‡æ»¤ä¸­ï¼ŒåŸºæœ¬çš„å…ƒç´ æœ‰ä¸‰ç§ï¼š</p><ul><li><code>directory</code>ï¼šæŒ‡å®šèµ„æºæ‰€åœ¨çš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•çš„è·¯å¾„æ˜¯ç›¸å¯¹äºpom.xmlæ–‡ä»¶ï¼›</li><li><code>includes</code>ï¼šæŒ‡å®šè¦åŒ…å«å“ªäº›æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬inlcudeå­èŠ‚ç‚¹æ¥æŒ‡å®šåŒ¹é…çš„æ¨¡å¼ï¼›</li><li><code>excludes</code>ï¼šæŒ‡å®šè¦æ’é™¤å“ªäº›æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬excludeå­èŠ‚ç‚¹æ¥æŒ‡å®šåŒ¹é…çš„æ¨¡å¼ï¼›</li><li><code>filtering</code>ï¼šæŒ‡å®šå“ªäº›æ–‡ä»¶éœ€è¦è¿‡æ»¤ï¼Œè¿™ä¸ªè¿‡æ»¤çš„ç›®çš„æ˜¯ä¸ºäº†æ›¿æ¢å…¶ä¸­çš„å ä½ç¬¦<code>${}</code>ï¼Œå…¶ä¸­çš„å ä½ç¬¦å±æ€§åœ¨pom.xmlæ–‡ä»¶ä¸­çš„<code>&lt;properties&gt;&lt;/properties&gt;</code>ä¸­æŒ‡å®šï¼›</li></ul><p>åœ¨å…¶ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜å¦‚ä¸‹ï¼š</p><ul><li>å½“includeså’Œexcludeså†²çªçš„æ—¶å€™ï¼Œä¼˜å…ˆé‡‡å–excludesä¸­çš„è®¾å®šï¼Œ<a href="http://blog.csdn.net/bluishglc/article/details/6640889" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ä¸­è¯¦ç»†çš„è¯´æ˜äº†ï¼Œ<a href="http://bylijinnan.iteye.com/blog/2298100" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ä»æºç è§’åº¦è¿›è¡Œäº†åˆ†æï¼›</li></ul><h2 id="å­—èŠ‚ç æ–‡ä»¶çš„è¿‡æ»¤"><a href="#å­—èŠ‚ç æ–‡ä»¶çš„è¿‡æ»¤" class="headerlink" title="å­—èŠ‚ç æ–‡ä»¶çš„è¿‡æ»¤"></a>å­—èŠ‚ç æ–‡ä»¶çš„è¿‡æ»¤</h2><p>ç›¸å¯¹äºé™æ€èµ„æºçš„è¿‡æ»¤ï¼Œé’ˆå¯¹å­—èŠ‚ç æ–‡ä»¶çš„è¿‡æ»¤åˆ™æ¯”è¾ƒç”Ÿåƒ»ï¼Œå°¤å…¶æ˜¯åœ¨é…ç½®æ–‡ä»¶åŸºæœ¬ä¸Šéƒ½æ˜¯<code>xml</code>æˆ–è€…<code>properties</code>çš„æ—¶å€™ï¼Œå¦‚æœä½ çš„å·¥ç¨‹çš„é…ç½®æ˜¯Java Configé£æ ¼çš„ï¼Œé‚£ä¹ˆå°±ä¼šé‡åˆ°åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹åŠ è½½ä¸åŒçš„é…ç½®ç±»çš„é—®é¢˜ã€‚ä¸åŒäºé™æ€çš„é…ç½®æ–‡ä»¶ç›´æ¥ä½¿ç”¨<code>&lt;resources&gt;</code>æ ‡ç­¾ï¼ˆå…¶å®èƒŒåè¿˜æ˜¯é€šè¿‡resourceæ’ä»¶å®Œæˆçš„ï¼‰ï¼Œå­—èŠ‚ç çš„è¿‡æ»¤éœ€è¦ç›´æ¥ä½¿ç”¨<code>maven-war-plugin</code> ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-war-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>      <span class="hljs-tag">&lt;<span class="hljs-name">packagingExcludes</span>&gt;</span>WEB-INF/classes/test/dao/,         WEB-INF/classes/test/service/,         WEB-INF/classes/config/TestConfig.class,         WEB-INF/lib/log4j-*.jar      <span class="hljs-tag">&lt;/<span class="hljs-name">packagingExcludes</span>&gt;</span>   <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>123456789101112</code></pre></div><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œè¯¥æ’ä»¶æ˜¯é€šè¿‡<code>packagingExcludes</code>å…ƒç´ å®Œæˆè¿‡æ»¤çš„ï¼Œè¿™ä¸ªå…ƒç´ çš„ä½œç”¨æ˜¯åœ¨å·¥ç¨‹packageä¹‹å‰ï¼Œ é€šè¿‡ä¸€äº›æ¨¡å¼æ¥æ’é™¤æ‰ä¸€äº›æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œå¦‚æœæœ‰å¤šä¸ªå¯ä»¥é€šè¿‡é€—å·â€œ,â€æ¥åˆ†å‰²ï¼Œä¸Šè¿°ä½¿ç”¨çš„ä¾‹å­ï¼š</p><ul><li>æ’é™¤ç‰¹å®šé…ç½®ç±»ï¼š<code>WEB-INF/classes/config/TestConfig.class</code></li><li>æ’é™¤ç‰¹å®šæ–‡ä»¶å¤¹ï¼š<code>WEB-INF/classes/test/service/</code></li><li>æ’é™¤å¼•ç”¨çš„jaråŒ…ï¼š<code>WEB-INF/lib/log4j-*.jar</code></li></ul><p>ä¸Šè¿°ä½¿ç”¨çš„è·¯å¾„æ˜¯<strong>ç›¸å¯¹äºwaråŒ…çš„æ ¹è·¯å¾„çš„</strong>ã€‚</p><p>å¦å¤–åœ¨<code>packagingExcludes</code>ä¸­è¿˜å¯ä»¥ä½¿ç”¨Javaçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šè¿‡<code>%regex[...]</code>åŒ…è£¹å³å¯ï¼Œå…·ä½“å¯ä»¥çœ‹<a href="https://maven.apache.org/plugins/maven-war-plugin/examples/including-excluding-files-from-war.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a> .</p><hr><p>è½¬è½½é“¾æ¥ï¼š<a href="https://blog.csdn.net/lmy86263/article/details/71189485?locationNum=3&amp;fps=1" target="_blank" rel="noopener">https://blog.csdn.net/lmy86263/article/details/71189485?locationNum=3&amp;fps=1</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡çš„æ–¹æ³•æ˜¯é’ˆå¯¹Mavenç®¡ç†çš„Java Webå·¥ç¨‹&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="SSM" scheme="https://melodyjerry.github.io/blog/tags/SSM/"/>
    
      <category term="Maven" scheme="https://melodyjerry.github.io/blog/tags/Maven/"/>
    
  </entry>
  
  <entry>
    <title>[è½¬]curlæ•™ç¨‹</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/28/curl%E6%95%99%E7%A8%8B/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/28/curl%E6%95%99%E7%A8%8B/</id>
    <published>2020-08-28T04:11:11.000Z</published>
    <updated>2020-09-18T04:43:03.018Z</updated>
    
    <content type="html"><![CDATA[<h1 id="curl-çš„ç”¨æ³•æŒ‡å—"><a href="#curl-çš„ç”¨æ³•æŒ‡å—" class="headerlink" title="curl çš„ç”¨æ³•æŒ‡å—"></a>curl çš„ç”¨æ³•æŒ‡å—</h1><p>ä½œè€…ï¼š <a href="http://www.ruanyifeng.com/" target="_blank" rel="noopener">é˜®ä¸€å³°</a></p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>curl æ˜¯å¸¸ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥è¯·æ±‚ Web æœåŠ¡å™¨ã€‚å®ƒçš„åå­—å°±æ˜¯å®¢æˆ·ç«¯ï¼ˆclientï¼‰çš„ URL å·¥å…·çš„æ„æ€ã€‚</p><p>å®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå‘½ä»¤è¡Œå‚æ•°å¤šè¾¾å‡ åç§ã€‚å¦‚æœç†Ÿç»ƒçš„è¯ï¼Œå®Œå…¨å¯ä»¥å–ä»£ Postman è¿™ä¸€ç±»çš„å›¾å½¢ç•Œé¢å·¥å…·ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201909/bg2019090501.jpg" srcset="/blog/img/loading.gif" alt="img"></p><p>æœ¬æ–‡ä»‹ç»å®ƒçš„ä¸»è¦å‘½ä»¤è¡Œå‚æ•°ï¼Œä½œä¸ºæ—¥å¸¸çš„å‚è€ƒï¼Œæ–¹ä¾¿æŸ¥é˜…ã€‚å†…å®¹ä¸»è¦ç¿»è¯‘è‡ª<a href="https://catonmat.net/cookbooks/curl" target="_blank" rel="noopener">ã€Šcurl cookbookã€‹</a>ã€‚ä¸ºäº†èŠ‚çº¦ç¯‡å¹…ï¼Œä¸‹é¢çš„ä¾‹å­ä¸åŒ…æ‹¬è¿è¡Œæ—¶çš„è¾“å‡ºï¼Œåˆå­¦è€…å¯ä»¥å…ˆçœ‹æˆ‘ä»¥å‰å†™çš„<a href="http://www.ruanyifeng.com/blog/2011/09/curl.html" target="_blank" rel="noopener">ã€Šcurl åˆå­¦è€…æ•™ç¨‹ã€‹</a>ã€‚</p><p>ä¸å¸¦æœ‰ä»»ä½•å‚æ•°æ—¶ï¼Œcurl å°±æ˜¯å‘å‡º GET è¯·æ±‚ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å‘<code>www.example.com</code>å‘å‡º GET è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›çš„å†…å®¹ä¼šåœ¨å‘½ä»¤è¡Œè¾“å‡ºã€‚</p><h2 id="A"><a href="#A" class="headerlink" title="-A"></a><strong>-A</strong></h2><p><code>-A</code>å‚æ•°æŒ‡å®šå®¢æˆ·ç«¯çš„ç”¨æˆ·ä»£ç†æ ‡å¤´ï¼Œå³<code>User-Agent</code>ã€‚curl çš„é»˜è®¤ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²æ˜¯<code>curl/[version]</code>ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -A <span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36'</span> https://google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å°†<code>User-Agent</code>æ”¹æˆ Chrome æµè§ˆå™¨ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -A <span class="hljs-string">''</span> https://google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤ä¼šç§»é™¤<code>User-Agent</code>æ ‡å¤´ã€‚</p><p>ä¹Ÿå¯ä»¥é€šè¿‡<code>-H</code>å‚æ•°ç›´æ¥æŒ‡å®šæ ‡å¤´ï¼Œæ›´æ”¹<code>User-Agent</code>ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -H <span class="hljs-string">'User-Agent: php/1.0'</span> https://google.com</code></pre></div></blockquote><h2 id="b"><a href="#b" class="headerlink" title="-b"></a><strong>-b</strong></h2><p><code>-b</code>å‚æ•°ç”¨æ¥å‘æœåŠ¡å™¨å‘é€ Cookieã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -b <span class="hljs-string">'foo=bar'</span> https://google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªæ ‡å¤´<code>Cookie: foo=bar</code>ï¼Œå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªåä¸º<code>foo</code>ã€å€¼ä¸º<code>bar</code>çš„ Cookieã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -b <span class="hljs-string">'foo1=bar;foo2=bar2'</span> https://google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å‘é€ä¸¤ä¸ª Cookieã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -b cookies.txt https://www.google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤è¯»å–æœ¬åœ°æ–‡ä»¶<code>cookies.txt</code>ï¼Œé‡Œé¢æ˜¯æœåŠ¡å™¨è®¾ç½®çš„ Cookieï¼ˆå‚è§<code>-c</code>å‚æ•°ï¼‰ï¼Œå°†å…¶å‘é€åˆ°æœåŠ¡å™¨ã€‚</p><h2 id="c"><a href="#c" class="headerlink" title="-c"></a><strong>-c</strong></h2><p><code>-c</code>å‚æ•°å°†æœåŠ¡å™¨è®¾ç½®çš„ Cookie å†™å…¥ä¸€ä¸ªæ–‡ä»¶ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -c cookies.txt https://www.google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å°†æœåŠ¡å™¨çš„ HTTP å›åº”æ‰€è®¾ç½® Cookie å†™å…¥æ–‡æœ¬æ–‡ä»¶<code>cookies.txt</code>ã€‚</p><h2 id="d"><a href="#d" class="headerlink" title="-d"></a><strong>-d</strong></h2><p><code>-d</code>å‚æ•°ç”¨äºå‘é€ POST è¯·æ±‚çš„æ•°æ®ä½“ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -d<span class="hljs-string">'login=emmaï¼†password=123'</span>-X POST https://google.com/login<span class="hljs-comment"># æˆ–è€…</span>$ curl -d <span class="hljs-string">'login=emma'</span> -d <span class="hljs-string">'password=123'</span> -X POST  https://google.com/login</code></pre></div></blockquote><p>ä½¿ç”¨<code>-d</code>å‚æ•°ä»¥åï¼ŒHTTP è¯·æ±‚ä¼šè‡ªåŠ¨åŠ ä¸Šæ ‡å¤´<code>Content-Type : application/x-www-form-urlencoded</code>ã€‚å¹¶ä¸”ä¼šè‡ªåŠ¨å°†è¯·æ±‚è½¬ä¸º POST æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥çœç•¥<code>-X POST</code>ã€‚</p><p><code>-d</code>å‚æ•°å¯ä»¥è¯»å–æœ¬åœ°æ–‡æœ¬æ–‡ä»¶çš„æ•°æ®ï¼Œå‘æœåŠ¡å™¨å‘é€ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -d <span class="hljs-string">'@data.txt'</span> https://google.com/login</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤è¯»å–<code>data.txt</code>æ–‡ä»¶çš„å†…å®¹ï¼Œä½œä¸ºæ•°æ®ä½“å‘æœåŠ¡å™¨å‘é€ã€‚</p><h2 id="â€“data-urlencode"><a href="#â€“data-urlencode" class="headerlink" title="â€“data-urlencode"></a><strong>â€“data-urlencode</strong></h2><p><code>--data-urlencode</code>å‚æ•°ç­‰åŒäº<code>-d</code>ï¼Œå‘é€ POST è¯·æ±‚çš„æ•°æ®ä½“ï¼ŒåŒºåˆ«åœ¨äºä¼šè‡ªåŠ¨å°†å‘é€çš„æ•°æ®è¿›è¡Œ URL ç¼–ç ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl --data-urlencode <span class="hljs-string">'comment=hello world'</span> https://google.com/login</code></pre></div></blockquote><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‘é€çš„æ•°æ®<code>hello world</code>ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œéœ€è¦è¿›è¡Œ URL ç¼–ç ã€‚</p><h2 id="e"><a href="#e" class="headerlink" title="-e"></a><strong>-e</strong></h2><p><code>-e</code>å‚æ•°ç”¨æ¥è®¾ç½® HTTP çš„æ ‡å¤´<code>Referer</code>ï¼Œè¡¨ç¤ºè¯·æ±‚çš„æ¥æºã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">curl -e <span class="hljs-string">'https://google.com?q=example'</span> https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å°†<code>Referer</code>æ ‡å¤´è®¾ä¸º<code>https://google.com?q=example</code>ã€‚</p><p><code>-H</code>å‚æ•°å¯ä»¥é€šè¿‡ç›´æ¥æ·»åŠ æ ‡å¤´<code>Referer</code>ï¼Œè¾¾åˆ°åŒæ ·æ•ˆæœã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">curl -H <span class="hljs-string">'Referer: https://google.com?q=example'</span> https://www.example.com</code></pre></div></blockquote><h2 id="F"><a href="#F" class="headerlink" title="-F"></a><strong>-F</strong></h2><p><code>-F</code>å‚æ•°ç”¨æ¥å‘æœåŠ¡å™¨ä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -F <span class="hljs-string">'file=@photo.png'</span> https://google.com/profile</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤ä¼šç»™ HTTP è¯·æ±‚åŠ ä¸Šæ ‡å¤´<code>Content-Type: multipart/form-data</code>ï¼Œç„¶åå°†æ–‡ä»¶<code>photo.png</code>ä½œä¸º<code>file</code>å­—æ®µä¸Šä¼ ã€‚</p><p><code>-F</code>å‚æ•°å¯ä»¥æŒ‡å®š MIME ç±»å‹ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -F <span class="hljs-string">'file=@photo.png;type=image/png'</span> https://google.com/profile</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤æŒ‡å®š MIME ç±»å‹ä¸º<code>image/png</code>ï¼Œå¦åˆ™ curl ä¼šæŠŠ MIME ç±»å‹è®¾ä¸º<code>application/octet-stream</code>ã€‚</p><p><code>-F</code>å‚æ•°ä¹Ÿå¯ä»¥æŒ‡å®šæ–‡ä»¶åã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -F <span class="hljs-string">'file=@photo.png;filename=me.png'</span> https://google.com/profile</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼ŒåŸå§‹æ–‡ä»¶åä¸º<code>photo.png</code>ï¼Œä½†æ˜¯æœåŠ¡å™¨æ¥æ”¶åˆ°çš„æ–‡ä»¶åä¸º<code>me.png</code>ã€‚</p><h2 id="G"><a href="#G" class="headerlink" title="-G"></a><strong>-G</strong></h2><p><code>-G</code>å‚æ•°ç”¨æ¥æ„é€  URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -G -d <span class="hljs-string">'q=kitties'</span> -d <span class="hljs-string">'count=20'</span> https://google.com/search</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤ä¼šå‘å‡ºä¸€ä¸ª GET è¯·æ±‚ï¼Œå®é™…è¯·æ±‚çš„ URL ä¸º<code>https://google.com/search?q=kitties&amp;count=20</code>ã€‚å¦‚æœçœç•¥<code>--G</code>ï¼Œä¼šå‘å‡ºä¸€ä¸ª POST è¯·æ±‚ã€‚</p><p>å¦‚æœæ•°æ®éœ€è¦ URL ç¼–ç ï¼Œå¯ä»¥ç»“åˆ<code>--data--urlencode</code>å‚æ•°ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -G --data-urlencode <span class="hljs-string">'comment=hello world'</span> https://www.example.com</code></pre></div></blockquote><h2 id="H"><a href="#H" class="headerlink" title="-H"></a><strong>-H</strong></h2><p><code>-H</code>å‚æ•°æ·»åŠ  HTTP è¯·æ±‚çš„æ ‡å¤´ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -H <span class="hljs-string">'Accept-Language: en-US'</span> https://google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤æ·»åŠ  HTTP æ ‡å¤´<code>Accept-Language: en-US</code>ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -H <span class="hljs-string">'Accept-Language: en-US'</span> -H <span class="hljs-string">'Secret-Message: xyzzy'</span> https://google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤æ·»åŠ ä¸¤ä¸ª HTTP æ ‡å¤´ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -d <span class="hljs-string">'{"login": "emma", "pass": "123"}'</span> -H <span class="hljs-string">'Content-Type: application/json'</span> https://google.com/login</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤æ·»åŠ  HTTP è¯·æ±‚çš„æ ‡å¤´æ˜¯<code>Content-Type: application/json</code>ï¼Œç„¶åç”¨<code>-d</code>å‚æ•°å‘é€ JSON æ•°æ®ã€‚</p><h2 id="i"><a href="#i" class="headerlink" title="-i"></a><strong>-i</strong></h2><p><code>-i</code>å‚æ•°æ‰“å°å‡ºæœåŠ¡å™¨å›åº”çš„ HTTP æ ‡å¤´ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -i https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤æ”¶åˆ°æœåŠ¡å™¨å›åº”åï¼Œå…ˆè¾“å‡ºæœåŠ¡å™¨å›åº”çš„æ ‡å¤´ï¼Œç„¶åç©ºä¸€è¡Œï¼Œå†è¾“å‡ºç½‘é¡µçš„æºç ã€‚</p><h2 id="I"><a href="#I" class="headerlink" title="-I"></a><strong>-I</strong></h2><p><code>-I</code>å‚æ•°å‘æœåŠ¡å™¨å‘å‡º HEAD è¯·æ±‚ï¼Œç„¶ä¼šå°†æœåŠ¡å™¨è¿”å›çš„ HTTP æ ‡å¤´æ‰“å°å‡ºæ¥ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -I https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤è¾“å‡ºæœåŠ¡å™¨å¯¹ HEAD è¯·æ±‚çš„å›åº”ã€‚</p><p><code>--head</code>å‚æ•°ç­‰åŒäº<code>-I</code>ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl --head https://www.example.com</code></pre></div></blockquote><h2 id="k"><a href="#k" class="headerlink" title="-k"></a><strong>-k</strong></h2><p><code>-k</code>å‚æ•°æŒ‡å®šè·³è¿‡ SSL æ£€æµ‹ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -k https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤ä¸ä¼šæ£€æŸ¥æœåŠ¡å™¨çš„ SSL è¯ä¹¦æ˜¯å¦æ­£ç¡®ã€‚</p><h2 id="L"><a href="#L" class="headerlink" title="-L"></a><strong>-L</strong></h2><p><code>-L</code>å‚æ•°ä¼šè®© HTTP è¯·æ±‚è·ŸéšæœåŠ¡å™¨çš„é‡å®šå‘ã€‚curl é»˜è®¤ä¸è·Ÿéšé‡å®šå‘ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -L -d <span class="hljs-string">'tweet=hi'</span> https://api.twitter.com/tweet</code></pre></div></blockquote><h2 id="â€“limit-rate"><a href="#â€“limit-rate" class="headerlink" title="â€“limit-rate"></a><strong>â€“limit-rate</strong></h2><p><code>--limit-rate</code>ç”¨æ¥é™åˆ¶ HTTP è¯·æ±‚å’Œå›åº”çš„å¸¦å®½ï¼Œæ¨¡æ‹Ÿæ…¢ç½‘é€Ÿçš„ç¯å¢ƒã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl --<span class="hljs-built_in">limit</span>-rate 200k https://google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å°†å¸¦å®½é™åˆ¶åœ¨æ¯ç§’ 200K å­—èŠ‚ã€‚</p><h2 id="o"><a href="#o" class="headerlink" title="-o"></a><strong>-o</strong></h2><p><code>-o</code>å‚æ•°å°†æœåŠ¡å™¨çš„å›åº”ä¿å­˜æˆæ–‡ä»¶ï¼Œç­‰åŒäº<code>wget</code>å‘½ä»¤ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -o example.html https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å°†<code>www.example.com</code>ä¿å­˜æˆ<code>example.html</code>ã€‚</p><h2 id="O"><a href="#O" class="headerlink" title="-O"></a><strong>-O</strong></h2><p><code>-O</code>å‚æ•°å°†æœåŠ¡å™¨å›åº”ä¿å­˜æˆæ–‡ä»¶ï¼Œå¹¶å°† URL çš„æœ€åéƒ¨åˆ†å½“ä½œæ–‡ä»¶åã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -O https://www.example.com/foo/bar.html</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å°†æœåŠ¡å™¨å›åº”ä¿å­˜æˆæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸º<code>bar.html</code>ã€‚</p><h2 id="s"><a href="#s" class="headerlink" title="-s"></a><strong>-s</strong></h2><p><code>-s</code>å‚æ•°å°†ä¸è¾“å‡ºé”™è¯¯å’Œè¿›åº¦ä¿¡æ¯ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -s https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤ä¸€æ—¦å‘ç”Ÿé”™è¯¯ï¼Œä¸ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚ä¸å‘ç”Ÿé”™è¯¯çš„è¯ï¼Œä¼šæ­£å¸¸æ˜¾ç¤ºè¿è¡Œç»“æœã€‚</p><p>å¦‚æœæƒ³è®© curl ä¸äº§ç”Ÿä»»ä½•è¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -s -o /dev/null https://google.com</code></pre></div></blockquote><h2 id="S"><a href="#S" class="headerlink" title="-S"></a><strong>-S</strong></h2><p><code>-S</code>å‚æ•°æŒ‡å®šåªè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œé€šå¸¸ä¸<code>-s</code>ä¸€èµ·ä½¿ç”¨ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -s -o /dev/null https://google.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œé™¤éå‘ç”Ÿé”™è¯¯ã€‚</p><h2 id="u"><a href="#u" class="headerlink" title="-u"></a><strong>-u</strong></h2><p><code>-u</code>å‚æ•°ç”¨æ¥è®¾ç½®æœåŠ¡å™¨è®¤è¯çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -u <span class="hljs-string">'bob:12345'</span> https://google.com/login</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤è®¾ç½®ç”¨æˆ·åä¸º<code>bob</code>ï¼Œå¯†ç ä¸º<code>12345</code>ï¼Œç„¶åå°†å…¶è½¬ä¸º HTTP æ ‡å¤´<code>Authorization: Basic Ym9iOjEyMzQ1</code>ã€‚</p><p>curl èƒ½å¤Ÿè¯†åˆ« URL é‡Œé¢çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl https://bob:12345@google.com/login</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤èƒ½å¤Ÿè¯†åˆ« URL é‡Œé¢çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå°†å…¶è½¬ä¸ºä¸Šä¸ªä¾‹å­é‡Œé¢çš„ HTTP æ ‡å¤´ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -u <span class="hljs-string">'bob'</span> https://google.com/login</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤åªè®¾ç½®äº†ç”¨æˆ·åï¼Œæ‰§è¡Œåï¼Œcurl ä¼šæç¤ºç”¨æˆ·è¾“å…¥å¯†ç ã€‚</p><h2 id="v"><a href="#v" class="headerlink" title="-v"></a><strong>-v</strong></h2><p><code>-v</code>å‚æ•°è¾“å‡ºé€šä¿¡çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç”¨äºè°ƒè¯•ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -v https://www.example.com</code></pre></div></blockquote><p><code>--trace</code>å‚æ•°ä¹Ÿå¯ä»¥ç”¨äºè°ƒè¯•ï¼Œè¿˜ä¼šè¾“å‡ºåŸå§‹çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl --trace - https://www.example.com</code></pre></div></blockquote><h2 id="x"><a href="#x" class="headerlink" title="-x"></a><strong>-x</strong></h2><p><code>-x</code>å‚æ•°æŒ‡å®š HTTP è¯·æ±‚çš„ä»£ç†ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -x socks5://james:cats@myproxy.com:8080 https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤æŒ‡å®š HTTP è¯·æ±‚é€šè¿‡<code>myproxy.com:8080</code>çš„ socks5 ä»£ç†å‘å‡ºã€‚</p><p>å¦‚æœæ²¡æœ‰æŒ‡å®šä»£ç†åè®®ï¼Œé»˜è®¤ä¸º HTTPã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -x james:cats@myproxy.com:8080 https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤ä¸­ï¼Œè¯·æ±‚çš„ä»£ç†ä½¿ç”¨ HTTP åè®®ã€‚</p><h2 id="X"><a href="#X" class="headerlink" title="-X"></a><strong>-X</strong></h2><p><code>-X</code>å‚æ•°æŒ‡å®š HTTP è¯·æ±‚çš„æ–¹æ³•ã€‚</p><blockquote><div class="hljs"><pre><code class="hljs bash">$ curl -X POST https://www.example.com</code></pre></div></blockquote><p>ä¸Šé¢å‘½ä»¤å¯¹<code>https://www.example.com</code>å‘å‡º POST è¯·æ±‚ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://catonmat.net/cookbooks/curl" target="_blank" rel="noopener">Curl Cookbook</a></li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;curl-çš„ç”¨æ³•æŒ‡å—&quot;&gt;&lt;a href=&quot;#curl-çš„ç”¨æ³•æŒ‡å—&quot; class=&quot;headerlink&quot; title=&quot;curl çš„ç”¨æ³•æŒ‡å—&quot;&gt;&lt;/a&gt;curl çš„ç”¨æ³•æŒ‡å—&lt;/h1&gt;&lt;p&gt;ä½œè€…ï¼š &lt;a href=&quot;http://www.ruanyifeng.com
      
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Javaä¸­ç¼–è¯‘å™¨è‡ªåŠ¨è¿›è¡Œçš„å¼ºåˆ¶ç±»å‹è½¬æ¢</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/27/Java%E4%B8%AD%E7%BC%96%E8%AF%91%E5%99%A8%E8%87%AA%E5%8A%A8%E8%BF%9B%E8%A1%8C%E7%9A%84%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/27/Java%E4%B8%AD%E7%BC%96%E8%AF%91%E5%99%A8%E8%87%AA%E5%8A%A8%E8%BF%9B%E8%A1%8C%E7%9A%84%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/</id>
    <published>2020-08-27T09:24:41.000Z</published>
    <updated>2020-09-18T04:43:02.964Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å…³äºç±»å‹è½¬æ¢"><a href="#å…³äºç±»å‹è½¬æ¢" class="headerlink" title="å…³äºç±»å‹è½¬æ¢"></a>å…³äºç±»å‹è½¬æ¢</h2><p>ä¸€èˆ¬è§„å¾‹ï¼š<strong>å°ç±»å‹å‘å¤§ç±»å‹å¯ä»¥è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œè€Œå¤§ç±»å‹å‘å°ç±»å‹è½¬æ¢ï¼Œéœ€è¦æ‰‹åŠ¨çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</strong></p><p><strong>æ³¨æ„ï¼š<br>1.ç±»å‹çš„å¤§å°ä¸æ˜¯æŒ‰å­—èŠ‚å¤§å°åŒºåˆ†çš„</strong>ï¼Œè€Œæ˜¯æŒ‰ç…§å®ƒçš„èŒƒå›´æ¥å®šçš„ï¼Œæ¯”å¦‚</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">long</span> long1 = <span class="hljs-number">300F</span>;<span class="hljs-comment">//æŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡</span><span class="hljs-keyword">float</span> float1 = <span class="hljs-number">300L</span>;<span class="hljs-comment">//ç¼–è¯‘å¯ä»¥é€šè¿‡ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸è¿è¡Œ</span></code></pre></div><p>longå å…«ä¸ªå­—èŠ‚ï¼Œfloatå å››ä¸ªå­—èŠ‚ï¼Œä½†å®é™…ä¸Šfloatè¡¨ç¤ºçš„èŒƒå›´è¦æ¯”longæ›´å¤§ï¼Œï¼ˆè¿™ä¸»è¦æ˜¯åº•å±‚é‡‡ç”¨å­˜å‚¨æ–¹å¼ä¸åŒé€ æˆçš„ï¼‰æ‰€ä»¥longç±»å‹çš„å¸¸é‡å¯ä»¥èµ‹å€¼ç»™floatç±»å‹çš„å˜é‡ï¼Œè€Œåè¿‡æ¥å´ä¸è¡Œã€‚<br><strong>2.è¿™ä¸ªè§„åˆ™ä¹Ÿå¯ä»¥ç”¨åœ¨å¼•ç”¨æ•°æ®ç±»å‹ä¸Š</strong>ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œç±»å‹çš„å¤§å°åˆ™ç”±ä»–ä»¬çš„ç»§æ‰¿æˆ–å®ç°å…³ç³»æ¥å†³å®šã€‚</p><h2 id="å…³äºè‡ªåŠ¨javaä¸­ç¼–è¯‘å™¨åšçš„è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#å…³äºè‡ªåŠ¨javaä¸­ç¼–è¯‘å™¨åšçš„è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="å…³äºè‡ªåŠ¨javaä¸­ç¼–è¯‘å™¨åšçš„è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>å…³äºè‡ªåŠ¨javaä¸­ç¼–è¯‘å™¨åšçš„è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢</h2><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">byte</span> byte1 = <span class="hljs-number">1</span>;<span class="hljs-keyword">short</span> short1 = <span class="hljs-number">2</span>;<span class="hljs-keyword">char</span> char1 = <span class="hljs-number">3</span>;</code></pre></div><p>ç±»ä¼¼ä¸Šé¢çš„ä»£ç ï¼Œç›¸ä¿¡å¤§å®¶éƒ½å†™è¿‡ï¼Œå®é™…ä¸Šï¼Œä¹Ÿèƒ½ç¼–è¯‘é€šè¿‡ï¼Œå¹¶ä¸”æ­£å¸¸è¿è¡Œã€‚ä½†æ˜¯ï¼Œå¦‚æœä½œä¸ºåˆå­¦è€…ï¼Œä¸åº”è¯¥æœ‰ç–‘æƒ‘å—ï¼Ÿ<strong>javaä¸­çš„æ•´å‹å¸¸é‡æ˜¯intç±»å‹çš„</strong>ï¼Œå°†ä¸€ä¸ªintç±»å‹çš„å¸¸é‡ï¼Œèµ‹å€¼ç»™byteã€shortæˆ–charç±»å‹çš„å˜é‡ï¼Œå´ä¸ä¼šæŠ¥é”™ï¼Ÿï¼Ÿä¸æ˜¯å°ç±»å‹æ‰å¯ä»¥è¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢è½¬ä¸ºå¤§ç±»å‹çš„å—ï¼Ÿå¤§ç±»å‹çš„è½¬å°ç±»å‹éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¹¶ä¸”å¯èƒ½ä¼šæŸå¤±ç²¾åº¦çš„ã€‚è¿™é‡Œæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å…¶å®æ˜¯javaä¸­æœ‰ä¸€ç§æœºåˆ¶ï¼š<strong>åªè¦ä¸€ä¸ªintç±»å‹çš„å¸¸é‡ï¼Œåœ¨byteã€shortæˆ–charç±»å‹çš„èŒƒå›´ä¹‹ç±»çš„ï¼Œå°±å¯ä»¥ç›´æ¥èµ‹å€¼ç»™byteã€shortæˆ–charçš„å˜é‡</strong>ï¼Œæ£€æŸ¥å·¥ä½œæ˜¯javaçš„ç¼–è¯‘å™¨è‡ªåŠ¨è¿›è¡Œçš„ã€‚</p><p><strong>æ³¨æ„ï¼š</strong><br><strong>1.åªèƒ½æ˜¯å¸¸é‡ï¼Œä¸èƒ½æ˜¯å˜é‡æˆ–å˜é‡å‚ä¸è¿ç®—çš„è¡¨è¾¾å¼</strong>ã€‚</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">byte</span> byte1 = <span class="hljs-number">1</span>;<span class="hljs-keyword">short</span> short1 = <span class="hljs-number">2</span>;<span class="hljs-keyword">char</span> char1 = <span class="hljs-number">3</span>;<span class="hljs-keyword">int</span> int1 = <span class="hljs-number">3</span>ï¼›<span class="hljs-keyword">short</span> short2 = byte1 + <span class="hljs-number">1</span>;<span class="hljs-comment">//æŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡</span><span class="hljs-keyword">short</span> short3 = int1;<span class="hljs-comment">//æŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡</span><span class="hljs-keyword">short</span> short4 = <span class="hljs-number">3</span>;<span class="hljs-comment">//ç¼–è¯‘é€šè¿‡ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸è¿è¡Œ</span></code></pre></div><p>å› ä¸ºjavaç¼–è¯‘å™¨åªä¼šè‡ªåŠ¨æ£€æµ‹å­—é¢å¸¸é‡æ˜¯å¦è¶…å‡ºäº†ç±»å‹çš„èŒƒå›´ï¼Œè€Œä¸ä¼šå¯¹å˜é‡çš„å€¼æˆ–æœ‰å˜é‡å‚ä¸çš„è¿ç®—ç»“æœè¿›è¡Œæ£€æµ‹ã€‚<br>â€œshort short2 = byte1 + 1;â€åœ¨åšè¿ç®—çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ä¸Šå‡ä¸ºintç±»å‹ï¼Œç„¶åç¼–è¯‘å™¨å°±ä¼šæ£€æµ‹åˆ°ç»“æœæ˜¯ä¸€ä¸ªintç±»å‹çš„å€¼ï¼Œè€Œå‰é¢çš„å˜é‡æ˜¯ä¸€ä¸ªshortç±»å‹çš„ã€‚ä¸æ˜¯å°ç±»å‹è½¬å¤§ç±»å‹ï¼Œæ‰€ä»¥ç›´æ¥ç¼–è¯‘æŠ¥é”™ã€‚<br>â€œshort short3 = int1;â€ ç›´æ¥é€šè¿‡å˜é‡çš„ç±»å‹å°±æœ‰é—®é¢˜ï¼Œè€Œä¸ä¼šé€šè¿‡ä¸Šä¸‹æ–‡æ¥åˆ¤æ–­å€¼æ˜¯å¦è¶…å‡ºäº†èŒƒå›´ã€‚</p><p><strong>2.å¯¹äºçº¯å¸¸é‡çš„è¡¨è¾¾å¼ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">short</span> short4 = <span class="hljs-number">1</span> + <span class="hljs-number">2</span>;<span class="hljs-comment">//ç¼–è¯‘é€šè¿‡ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸è¿è¡Œ</span></code></pre></div><p>å› ä¸ºç®€å•çš„å¸¸é‡è¡¨è¾¾å¼ï¼Œjavaçš„ç¼–è¯‘å™¨å¯ä»¥ç›´æ¥å°±è¿ç®—å‡ºç»“æœï¼Œç„¶åå†è¿›ä¸€æ­¥æ£€æµ‹æ˜¯å¦è¶…å‡ºäº†èŒƒå›´ã€‚</p><p><strong>3.è¿™ä¸ªæœºåˆ¶åªæ˜¯é’ˆå¯¹intè½¬byteã€shortæˆ–char</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">float</span> float1 = <span class="hljs-number">3.14</span>;<span class="hljs-comment">//æŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡</span></code></pre></div><p>å¯¹äºå…¶å®ƒçš„åŸºæœ¬æ•°æ®ç±»å‹æˆ–å¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ˜¯æ²¡æœ‰è¿™ä¸ªæœºåˆ¶çš„ï¼Œåªèƒ½ä½¿ç”¨æ–‡ç« å¼€å¤´è¯´çš„ä¸€èˆ¬è§„å¾‹ã€‚<br>å…¶å®ƒä¸€äº›ç®€å•çš„æµ‹è¯•ï¼Œæ¯”å¦‚è¶…å‡ºèŒƒå›´å°±ä¼šç¼–è¯‘æŠ¥é”™.</p><a id="more"></a><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å…³äºç±»å‹è½¬æ¢&quot;&gt;&lt;a href=&quot;#å…³äºç±»å‹è½¬æ¢&quot; class=&quot;headerlink&quot; title=&quot;å…³äºç±»å‹è½¬æ¢&quot;&gt;&lt;/a&gt;å…³äºç±»å‹è½¬æ¢&lt;/h2&gt;&lt;p&gt;ä¸€èˆ¬è§„å¾‹ï¼š&lt;strong&gt;å°ç±»å‹å‘å¤§ç±»å‹å¯ä»¥è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œè€Œå¤§ç±»å‹å‘å°ç±»å‹è½¬æ¢ï¼Œéœ€è¦æ‰‹åŠ¨çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;br&gt;1.ç±»å‹çš„å¤§å°ä¸æ˜¯æŒ‰å­—èŠ‚å¤§å°åŒºåˆ†çš„&lt;/strong&gt;ï¼Œè€Œæ˜¯æŒ‰ç…§å®ƒçš„èŒƒå›´æ¥å®šçš„ï¼Œæ¯”å¦‚&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;long&lt;/span&gt; long1 = &lt;span class=&quot;hljs-number&quot;&gt;300F&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//æŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡&lt;/span&gt;

&lt;span class=&quot;hljs-keyword&quot;&gt;float&lt;/span&gt; float1 = &lt;span class=&quot;hljs-number&quot;&gt;300L&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//ç¼–è¯‘å¯ä»¥é€šè¿‡ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸è¿è¡Œ&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;longå å…«ä¸ªå­—èŠ‚ï¼Œfloatå å››ä¸ªå­—èŠ‚ï¼Œä½†å®é™…ä¸Šfloatè¡¨ç¤ºçš„èŒƒå›´è¦æ¯”longæ›´å¤§ï¼Œï¼ˆè¿™ä¸»è¦æ˜¯åº•å±‚é‡‡ç”¨å­˜å‚¨æ–¹å¼ä¸åŒé€ æˆçš„ï¼‰æ‰€ä»¥longç±»å‹çš„å¸¸é‡å¯ä»¥èµ‹å€¼ç»™floatç±»å‹çš„å˜é‡ï¼Œè€Œåè¿‡æ¥å´ä¸è¡Œã€‚&lt;br&gt;&lt;strong&gt;2.è¿™ä¸ªè§„åˆ™ä¹Ÿå¯ä»¥ç”¨åœ¨å¼•ç”¨æ•°æ®ç±»å‹ä¸Š&lt;/strong&gt;ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œç±»å‹çš„å¤§å°åˆ™ç”±ä»–ä»¬çš„ç»§æ‰¿æˆ–å®ç°å…³ç³»æ¥å†³å®šã€‚&lt;/p&gt;
&lt;h2 id=&quot;å…³äºè‡ªåŠ¨javaä¸­ç¼–è¯‘å™¨åšçš„è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢&quot;&gt;&lt;a href=&quot;#å…³äºè‡ªåŠ¨javaä¸­ç¼–è¯‘å™¨åšçš„è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢&quot; class=&quot;headerlink&quot; title=&quot;å…³äºè‡ªåŠ¨javaä¸­ç¼–è¯‘å™¨åšçš„è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢&quot;&gt;&lt;/a&gt;å…³äºè‡ªåŠ¨javaä¸­ç¼–è¯‘å™¨åšçš„è‡ªåŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢&lt;/h2&gt;&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;byte&lt;/span&gt; byte1 = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;
&lt;span class=&quot;hljs-keyword&quot;&gt;short&lt;/span&gt; short1 = &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;
&lt;span class=&quot;hljs-keyword&quot;&gt;char&lt;/span&gt; char1 = &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ç±»ä¼¼ä¸Šé¢çš„ä»£ç ï¼Œç›¸ä¿¡å¤§å®¶éƒ½å†™è¿‡ï¼Œå®é™…ä¸Šï¼Œä¹Ÿèƒ½ç¼–è¯‘é€šè¿‡ï¼Œå¹¶ä¸”æ­£å¸¸è¿è¡Œã€‚ä½†æ˜¯ï¼Œå¦‚æœä½œä¸ºåˆå­¦è€…ï¼Œä¸åº”è¯¥æœ‰ç–‘æƒ‘å—ï¼Ÿ&lt;strong&gt;javaä¸­çš„æ•´å‹å¸¸é‡æ˜¯intç±»å‹çš„&lt;/strong&gt;ï¼Œå°†ä¸€ä¸ªintç±»å‹çš„å¸¸é‡ï¼Œèµ‹å€¼ç»™byteã€shortæˆ–charç±»å‹çš„å˜é‡ï¼Œå´ä¸ä¼šæŠ¥é”™ï¼Ÿï¼Ÿä¸æ˜¯å°ç±»å‹æ‰å¯ä»¥è¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢è½¬ä¸ºå¤§ç±»å‹çš„å—ï¼Ÿå¤§ç±»å‹çš„è½¬å°ç±»å‹éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¹¶ä¸”å¯èƒ½ä¼šæŸå¤±ç²¾åº¦çš„ã€‚è¿™é‡Œæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®æ˜¯javaä¸­æœ‰ä¸€ç§æœºåˆ¶ï¼š&lt;strong&gt;åªè¦ä¸€ä¸ªintç±»å‹çš„å¸¸é‡ï¼Œåœ¨byteã€shortæˆ–charç±»å‹çš„èŒƒå›´ä¹‹ç±»çš„ï¼Œå°±å¯ä»¥ç›´æ¥èµ‹å€¼ç»™byteã€shortæˆ–charçš„å˜é‡&lt;/strong&gt;ï¼Œæ£€æŸ¥å·¥ä½œæ˜¯javaçš„ç¼–è¯‘å™¨è‡ªåŠ¨è¿›è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;1.åªèƒ½æ˜¯å¸¸é‡ï¼Œä¸èƒ½æ˜¯å˜é‡æˆ–å˜é‡å‚ä¸è¿ç®—çš„è¡¨è¾¾å¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;byte&lt;/span&gt; byte1 = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;
&lt;span class=&quot;hljs-keyword&quot;&gt;short&lt;/span&gt; short1 = &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;
&lt;span class=&quot;hljs-keyword&quot;&gt;char&lt;/span&gt; char1 = &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;;
&lt;span class=&quot;hljs-keyword&quot;&gt;int&lt;/span&gt; int1 = &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;ï¼›

&lt;span class=&quot;hljs-keyword&quot;&gt;short&lt;/span&gt; short2 = byte1 + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//æŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;short&lt;/span&gt; short3 = int1;&lt;span class=&quot;hljs-comment&quot;&gt;//æŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡&lt;/span&gt;
&lt;span class=&quot;hljs-keyword&quot;&gt;short&lt;/span&gt; short4 = &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//ç¼–è¯‘é€šè¿‡ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸è¿è¡Œ&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºjavaç¼–è¯‘å™¨åªä¼šè‡ªåŠ¨æ£€æµ‹å­—é¢å¸¸é‡æ˜¯å¦è¶…å‡ºäº†ç±»å‹çš„èŒƒå›´ï¼Œè€Œä¸ä¼šå¯¹å˜é‡çš„å€¼æˆ–æœ‰å˜é‡å‚ä¸çš„è¿ç®—ç»“æœè¿›è¡Œæ£€æµ‹ã€‚&lt;br&gt;â€œshort short2 = byte1 + 1;â€åœ¨åšè¿ç®—çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ä¸Šå‡ä¸ºintç±»å‹ï¼Œç„¶åç¼–è¯‘å™¨å°±ä¼šæ£€æµ‹åˆ°ç»“æœæ˜¯ä¸€ä¸ªintç±»å‹çš„å€¼ï¼Œè€Œå‰é¢çš„å˜é‡æ˜¯ä¸€ä¸ªshortç±»å‹çš„ã€‚ä¸æ˜¯å°ç±»å‹è½¬å¤§ç±»å‹ï¼Œæ‰€ä»¥ç›´æ¥ç¼–è¯‘æŠ¥é”™ã€‚&lt;br&gt;â€œshort short3 = int1;â€ ç›´æ¥é€šè¿‡å˜é‡çš„ç±»å‹å°±æœ‰é—®é¢˜ï¼Œè€Œä¸ä¼šé€šè¿‡ä¸Šä¸‹æ–‡æ¥åˆ¤æ–­å€¼æ˜¯å¦è¶…å‡ºäº†èŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.å¯¹äºçº¯å¸¸é‡çš„è¡¨è¾¾å¼ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;short&lt;/span&gt; short4 = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//ç¼–è¯‘é€šè¿‡ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸è¿è¡Œ&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºç®€å•çš„å¸¸é‡è¡¨è¾¾å¼ï¼Œjavaçš„ç¼–è¯‘å™¨å¯ä»¥ç›´æ¥å°±è¿ç®—å‡ºç»“æœï¼Œç„¶åå†è¿›ä¸€æ­¥æ£€æµ‹æ˜¯å¦è¶…å‡ºäº†èŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.è¿™ä¸ªæœºåˆ¶åªæ˜¯é’ˆå¯¹intè½¬byteã€shortæˆ–char&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;float&lt;/span&gt; float1 = &lt;span class=&quot;hljs-number&quot;&gt;3.14&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//æŠ¥é”™ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºå…¶å®ƒçš„åŸºæœ¬æ•°æ®ç±»å‹æˆ–å¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ˜¯æ²¡æœ‰è¿™ä¸ªæœºåˆ¶çš„ï¼Œåªèƒ½ä½¿ç”¨æ–‡ç« å¼€å¤´è¯´çš„ä¸€èˆ¬è§„å¾‹ã€‚&lt;br&gt;å…¶å®ƒä¸€äº›ç®€å•çš„æµ‹è¯•ï¼Œæ¯”å¦‚è¶…å‡ºèŒƒå›´å°±ä¼šç¼–è¯‘æŠ¥é”™.&lt;/p&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="Java" scheme="https://melodyjerry.github.io/blog/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Linuxè¿ç»´å¸¸ç”¨çš„150æ¡å‘½ä»¤</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/27/Linux%E8%BF%90%E7%BB%B4%E5%B8%B8%E7%94%A8%E7%9A%84150%E6%9D%A1%E5%91%BD%E4%BB%A4/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/27/Linux%E8%BF%90%E7%BB%B4%E5%B8%B8%E7%94%A8%E7%9A%84150%E6%9D%A1%E5%91%BD%E4%BB%A4/</id>
    <published>2020-08-27T06:00:00.000Z</published>
    <updated>2020-09-18T04:43:02.970Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td>çº¿ä¸ŠæŸ¥è¯¢åŠå¸®åŠ©å‘½ä»¤(2ä¸ª)</td><td></td></tr><tr><td>man</td><td>æŸ¥çœ‹å‘½ä»¤å¸®åŠ©ï¼Œå‘½ä»¤çš„è¯å…¸ï¼Œæ›´å¤æ‚çš„è¿˜æœ‰infoï¼Œä½†ä¸å¸¸ç”¨ã€‚</td></tr><tr><td>help</td><td>æŸ¥çœ‹Linuxå†…ç½®å‘½ä»¤çš„å¸®åŠ©ï¼Œæ¯”å¦‚cdå‘½ä»¤ã€‚</td></tr><tr><td>æ–‡ä»¶å’Œç›®å½•æ“ä½œå‘½ä»¤(18ä¸ª)</td><td></td></tr><tr><td>ls</td><td>å…¨æ‹¼listï¼ŒåŠŸèƒ½æ˜¯åˆ—å‡ºç›®å½•çš„å†…å®¹åŠå…¶å†…å®¹å±æ€§ä¿¡æ¯ã€‚</td></tr><tr><td>cd</td><td>å…¨æ‹¼change directoryï¼ŒåŠŸèƒ½æ˜¯ä»å½“å‰å·¥ä½œç›®å½•åˆ‡æ¢åˆ°æŒ‡å®šçš„å·¥ä½œç›®å½•ã€‚</td></tr><tr><td>cp</td><td>å…¨æ‹¼copyï¼Œå…¶åŠŸèƒ½ä¸ºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ã€‚</td></tr><tr><td>find</td><td>æŸ¥æ‰¾çš„æ„æ€ï¼Œç”¨äºæŸ¥æ‰¾ç›®å½•åŠç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</td></tr><tr><td>mkdir</td><td>å…¨æ‹¼make directoriesï¼Œå…¶åŠŸèƒ½æ˜¯åˆ›å»ºç›®å½•ã€‚</td></tr><tr><td>mv</td><td>å…¨æ‹¼moveï¼Œå…¶åŠŸèƒ½æ˜¯ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ã€‚</td></tr><tr><td>pwd</td><td>å…¨æ‹¼print working directoryï¼Œå…¶åŠŸèƒ½æ˜¯æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚</td></tr><tr><td>rename</td><td>ç”¨äºé‡å‘½åæ–‡ä»¶ã€‚</td></tr><tr><td>rm</td><td>å…¨æ‹¼removeï¼Œå…¶åŠŸèƒ½æ˜¯åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ã€‚</td></tr><tr><td>rmdir</td><td>å…¨æ‹¼remove empty directoriesï¼ŒåŠŸèƒ½æ˜¯åˆ é™¤ç©ºç›®å½•ã€‚</td></tr><tr><td>touch</td><td>åˆ›å»ºæ–°çš„ç©ºæ–‡ä»¶ï¼Œæ”¹å˜å·²æœ‰æ–‡ä»¶çš„æ—¶é—´æˆ³å±æ€§ã€‚</td></tr><tr><td>tree</td><td>åŠŸèƒ½æ˜¯ä»¥æ ‘å½¢ç»“æ„æ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹ã€‚</td></tr><tr><td>basename</td><td>æ˜¾ç¤ºæ–‡ä»¶åæˆ–ç›®å½•åã€‚</td></tr><tr><td>dirname</td><td>æ˜¾ç¤ºæ–‡ä»¶æˆ–ç›®å½•è·¯å¾„ã€‚</td></tr><tr><td>chattr</td><td>æ”¹å˜æ–‡ä»¶çš„æ‰©å±•å±æ€§ã€‚</td></tr><tr><td>lsattr</td><td>æŸ¥çœ‹æ–‡ä»¶æ‰©å±•å±æ€§ã€‚</td></tr><tr><td>file</td><td>æ˜¾ç¤ºæ–‡ä»¶çš„ç±»å‹ã€‚</td></tr><tr><td>md5sum</td><td>è®¡ç®—å’Œæ ¡éªŒæ–‡ä»¶çš„MD5å€¼ã€‚</td></tr><tr><td>æŸ¥çœ‹æ–‡ä»¶åŠå†…å®¹å¤„ç†å‘½ä»¤ï¼ˆ21ä¸ªï¼‰</td><td></td></tr><tr><td>cat</td><td>å…¨æ‹¼concatenateï¼ŒåŠŸèƒ½æ˜¯ç”¨äºè¿æ¥å¤šä¸ªæ–‡ä»¶å¹¶ä¸”æ‰“å°åˆ°å±å¹•è¾“å‡ºæˆ–é‡å®šå‘åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚</td></tr><tr><td>tac</td><td>tacæ˜¯catçš„åå‘æ‹¼å†™ï¼Œå› æ­¤å‘½ä»¤çš„åŠŸèƒ½ä¸ºåå‘æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€‚</td></tr><tr><td>more</td><td>åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€‚</td></tr><tr><td>less</td><td>åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œmoreå‘½ä»¤çš„ç›¸åç”¨æ³•ã€‚</td></tr><tr><td>head</td><td>æ˜¾ç¤ºæ–‡ä»¶å†…å®¹çš„å¤´éƒ¨ã€‚</td></tr><tr><td>tail</td><td>æ˜¾ç¤ºæ–‡ä»¶å†…å®¹çš„å°¾éƒ¨ã€‚</td></tr><tr><td>cut</td><td>å°†æ–‡ä»¶çš„æ¯ä¸€è¡ŒæŒ‰æŒ‡å®šåˆ†éš”ç¬¦åˆ†å‰²å¹¶è¾“å‡ºã€‚</td></tr><tr><td>split</td><td>åˆ†å‰²æ–‡ä»¶ä¸ºä¸åŒçš„å°ç‰‡æ®µã€‚</td></tr><tr><td>paste</td><td>æŒ‰è¡Œåˆå¹¶æ–‡ä»¶å†…å®¹ã€‚</td></tr><tr><td>sort</td><td>å¯¹æ–‡ä»¶çš„æ–‡æœ¬å†…å®¹æ’åºã€‚</td></tr><tr><td>uniq</td><td>å»é™¤é‡å¤è¡Œã€‚oldboy</td></tr><tr><td>wc</td><td>ç»Ÿè®¡æ–‡ä»¶çš„è¡Œæ•°ã€å•è¯æ•°æˆ–å­—èŠ‚æ•°ã€‚</td></tr><tr><td>iconv</td><td>è½¬æ¢æ–‡ä»¶çš„ç¼–ç æ ¼å¼ã€‚</td></tr><tr><td>dos2unix</td><td>å°†DOSæ ¼å¼æ–‡ä»¶è½¬æ¢æˆUNIXæ ¼å¼ã€‚</td></tr><tr><td>diff</td><td>å…¨æ‹¼differenceï¼Œæ¯”è¾ƒæ–‡ä»¶çš„å·®å¼‚ï¼Œå¸¸ç”¨äºæ–‡æœ¬æ–‡ä»¶ã€‚</td></tr><tr><td>vimdiff</td><td>å‘½ä»¤è¡Œå¯è§†åŒ–æ–‡ä»¶æ¯”è¾ƒå·¥å…·ï¼Œå¸¸ç”¨äºæ–‡æœ¬æ–‡ä»¶ã€‚</td></tr><tr><td>rev</td><td>åå‘è¾“å‡ºæ–‡ä»¶å†…å®¹ã€‚</td></tr><tr><td>grep/egrep</td><td>è¿‡æ»¤å­—ç¬¦ä¸²ï¼Œä¸‰å‰‘å®¢è€ä¸‰ã€‚</td></tr><tr><td>join</td><td>æŒ‰ä¸¤ä¸ªæ–‡ä»¶çš„ç›¸åŒå­—æ®µåˆå¹¶ã€‚</td></tr><tr><td>tr</td><td>æ›¿æ¢æˆ–åˆ é™¤å­—ç¬¦ã€‚</td></tr><tr><td>vi/vim</td><td>å‘½ä»¤è¡Œæ–‡æœ¬ç¼–è¾‘å™¨ã€‚</td></tr><tr><td>æ–‡ä»¶å‹ç¼©åŠè§£å‹ç¼©å‘½ä»¤ï¼ˆ4ä¸ªï¼‰</td><td></td></tr><tr><td>tar</td><td>æ‰“åŒ…å‹ç¼©ã€‚oldboy</td></tr><tr><td>unzip</td><td>è§£å‹æ–‡ä»¶ã€‚</td></tr><tr><td>gzip</td><td>gzipå‹ç¼©å·¥å…·ã€‚</td></tr><tr><td>zip</td><td>å‹ç¼©å·¥å…·ã€‚</td></tr><tr><td>ä¿¡æ¯æ˜¾ç¤ºå‘½ä»¤ï¼ˆ11ä¸ªï¼‰</td><td></td></tr><tr><td>uname</td><td>æ˜¾ç¤ºæ“ä½œç³»ç»Ÿç›¸å…³ä¿¡æ¯çš„å‘½ä»¤ã€‚</td></tr><tr><td>hostname</td><td>æ˜¾ç¤ºæˆ–è€…è®¾ç½®å½“å‰ç³»ç»Ÿçš„ä¸»æœºåã€‚</td></tr><tr><td>dmesg</td><td>æ˜¾ç¤ºå¼€æœºä¿¡æ¯ï¼Œç”¨äºè¯Šæ–­ç³»ç»Ÿæ•…éšœã€‚</td></tr><tr><td>uptime</td><td>æ˜¾ç¤ºç³»ç»Ÿè¿è¡Œæ—¶é—´åŠè´Ÿè½½ã€‚</td></tr><tr><td>stat</td><td>æ˜¾ç¤ºæ–‡ä»¶æˆ–æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€ã€‚</td></tr><tr><td>du</td><td>è®¡ç®—ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µã€‚</td></tr><tr><td>df</td><td>æŠ¥å‘Šæ–‡ä»¶ç³»ç»Ÿç£ç›˜ç©ºé—´çš„ä½¿ç”¨æƒ…å†µã€‚</td></tr><tr><td>top</td><td>å®æ—¶æ˜¾ç¤ºç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µã€‚</td></tr><tr><td>free</td><td>æŸ¥çœ‹ç³»ç»Ÿå†…å­˜ã€‚</td></tr><tr><td>date</td><td>æ˜¾ç¤ºä¸è®¾ç½®ç³»ç»Ÿæ—¶é—´ã€‚</td></tr><tr><td>cal</td><td>æŸ¥çœ‹æ—¥å†ç­‰æ—¶é—´ä¿¡æ¯ã€‚</td></tr><tr><td>æœç´¢æ–‡ä»¶å‘½ä»¤ï¼ˆ4ä¸ªï¼‰</td><td></td></tr><tr><td>which</td><td>æŸ¥æ‰¾äºŒè¿›åˆ¶å‘½ä»¤ï¼ŒæŒ‰ç¯å¢ƒå˜é‡PATHè·¯å¾„æŸ¥æ‰¾ã€‚</td></tr><tr><td>find</td><td>ä»ç£ç›˜éå†æŸ¥æ‰¾æ–‡ä»¶æˆ–ç›®å½•ã€‚</td></tr><tr><td>whereis</td><td>æŸ¥æ‰¾äºŒè¿›åˆ¶å‘½ä»¤ï¼ŒæŒ‰ç¯å¢ƒå˜é‡PATHè·¯å¾„æŸ¥æ‰¾ã€‚</td></tr><tr><td>locate</td><td>ä»æ•°æ®åº“ (/var/lib/mlocate/mlocate.db) æŸ¥æ‰¾å‘½ä»¤ï¼Œä½¿ç”¨updatedbæ›´æ–°åº“ã€‚</td></tr><tr><td>ç”¨æˆ·ç®¡ç†å‘½ä»¤ï¼ˆ10ä¸ªï¼‰</td><td></td></tr><tr><td>useradd</td><td>æ·»åŠ ç”¨æˆ·ã€‚</td></tr><tr><td>usermod</td><td>ä¿®æ”¹ç³»ç»Ÿå·²ç»å­˜åœ¨çš„ç”¨æˆ·å±æ€§ã€‚</td></tr><tr><td>userdel</td><td>åˆ é™¤ç”¨æˆ·ã€‚</td></tr><tr><td>groupadd</td><td>æ·»åŠ ç”¨æˆ·ç»„ã€‚</td></tr><tr><td>passwd</td><td>ä¿®æ”¹ç”¨æˆ·å¯†ç ã€‚</td></tr><tr><td>chage</td><td>ä¿®æ”¹ç”¨æˆ·å¯†ç æœ‰æ•ˆæœŸé™ã€‚</td></tr><tr><td>id</td><td>æŸ¥çœ‹ç”¨æˆ·çš„uid,gidåŠå½’å±çš„ç”¨æˆ·ç»„ã€‚</td></tr><tr><td>su</td><td>åˆ‡æ¢ç”¨æˆ·èº«ä»½ã€‚</td></tr><tr><td>visudo</td><td>ç¼–è¾‘/etc/sudoersæ–‡ä»¶çš„ä¸“å±å‘½ä»¤ã€‚</td></tr><tr><td>sudo</td><td>ä»¥å¦å¤–ä¸€ä¸ªç”¨æˆ·èº«ä»½ï¼ˆé»˜è®¤rootç”¨æˆ·ï¼‰æ‰§è¡Œäº‹å…ˆåœ¨sudoersæ–‡ä»¶å…è®¸çš„å‘½ä»¤ã€‚</td></tr><tr><td>åŸºç¡€ç½‘ç»œæ“ä½œå‘½ä»¤ï¼ˆ11ä¸ªï¼‰</td><td></td></tr><tr><td>telnet</td><td>ä½¿ç”¨TELNETåè®®è¿œç¨‹ç™»å½•ã€‚</td></tr><tr><td>ssh</td><td>ä½¿ç”¨SSHåŠ å¯†åè®®è¿œç¨‹ç™»å½•ã€‚</td></tr><tr><td>scp</td><td>å…¨æ‹¼secure copyï¼Œç”¨äºä¸åŒä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶ã€‚</td></tr><tr><td>wget</td><td>å‘½ä»¤è¡Œä¸‹è½½æ–‡ä»¶ã€‚</td></tr><tr><td>ping</td><td>æµ‹è¯•ä¸»æœºä¹‹é—´ç½‘ç»œçš„è¿é€šæ€§ã€‚</td></tr><tr><td>route</td><td>æ˜¾ç¤ºå’Œè®¾ç½®linuxç³»ç»Ÿçš„è·¯ç”±è¡¨ã€‚</td></tr><tr><td>ifconfig</td><td>æŸ¥çœ‹ã€é…ç½®ã€å¯ç”¨æˆ–ç¦ç”¨ç½‘ç»œæ¥å£çš„å‘½ä»¤ã€‚</td></tr><tr><td>ifup</td><td>å¯åŠ¨ç½‘å¡ã€‚</td></tr><tr><td>ifdown</td><td>å…³é—­ç½‘å¡ã€‚</td></tr><tr><td>netstat</td><td>æŸ¥çœ‹ç½‘ç»œçŠ¶æ€ã€‚</td></tr><tr><td>ss</td><td>æŸ¥çœ‹ç½‘ç»œçŠ¶æ€ã€‚</td></tr><tr><td>æ·±å…¥ç½‘ç»œæ“ä½œå‘½ä»¤ï¼ˆ9ä¸ªï¼‰</td><td></td></tr><tr><td>nmap</td><td>ç½‘ç»œæ‰«æå‘½ä»¤ã€‚</td></tr><tr><td>lsof</td><td>å…¨ålist open filesï¼Œä¹Ÿå°±æ˜¯åˆ—ä¸¾ç³»ç»Ÿä¸­å·²ç»è¢«æ‰“å¼€çš„æ–‡ä»¶ã€‚</td></tr><tr><td>mail</td><td>å‘é€å’Œæ¥æ”¶é‚®ä»¶ã€‚</td></tr><tr><td>mutt</td><td>é‚®ä»¶ç®¡ç†å‘½ä»¤ã€‚</td></tr><tr><td>nslookup</td><td>äº¤äº’å¼æŸ¥è¯¢äº’è”ç½‘DNSæœåŠ¡å™¨çš„å‘½ä»¤ã€‚</td></tr><tr><td>dig</td><td>æŸ¥æ‰¾DNSè§£æè¿‡ç¨‹ã€‚</td></tr><tr><td>host</td><td>æŸ¥è¯¢DNSçš„å‘½ä»¤ã€‚</td></tr><tr><td>traceroute</td><td>è¿½è¸ªæ•°æ®ä¼ è¾“è·¯ç”±çŠ¶å†µã€‚</td></tr><tr><td>tcpdump</td><td>å‘½ä»¤è¡Œçš„æŠ“åŒ…å·¥å…·ã€‚</td></tr><tr><td>æœ‰å…³ç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿçš„å‘½ä»¤ï¼ˆ16ä¸ªï¼‰</td><td></td></tr><tr><td>mount</td><td>æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚</td></tr><tr><td>umount</td><td>å¸è½½æ–‡ä»¶ç³»ç»Ÿã€‚</td></tr><tr><td>fsck</td><td>æ£€æŸ¥å¹¶ä¿®å¤Linuxæ–‡ä»¶ç³»ç»Ÿã€‚</td></tr><tr><td>dd</td><td>è½¬æ¢æˆ–å¤åˆ¶æ–‡ä»¶ã€‚</td></tr><tr><td>dumpe2fs</td><td>å¯¼å‡ºext2/ext3/ext4æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ã€‚</td></tr><tr><td>dump</td><td>ext2/3/4æ–‡ä»¶ç³»ç»Ÿå¤‡ä»½å·¥å…·ã€‚</td></tr><tr><td>fdisk</td><td>ç£ç›˜åˆ†åŒºå‘½ä»¤ï¼Œé€‚ç”¨äº2TBä»¥ä¸‹ç£ç›˜åˆ†åŒºã€‚</td></tr><tr><td>parted</td><td>ç£ç›˜åˆ†åŒºå‘½ä»¤ï¼Œæ²¡æœ‰ç£ç›˜å¤§å°é™åˆ¶ï¼Œå¸¸ç”¨äº2TBä»¥ä¸‹ç£ç›˜åˆ†åŒºã€‚</td></tr><tr><td>mkfs</td><td>æ ¼å¼åŒ–åˆ›å»ºLinuxæ–‡ä»¶ç³»ç»Ÿã€‚</td></tr><tr><td>partprobe</td><td>æ›´æ–°å†…æ ¸çš„ç¡¬ç›˜åˆ†åŒºè¡¨ä¿¡æ¯ã€‚</td></tr><tr><td>e2fsck</td><td>æ£€æŸ¥ext2/ext3/ext4ç±»å‹æ–‡ä»¶ç³»ç»Ÿã€‚</td></tr><tr><td>mkswap</td><td>åˆ›å»ºLinuxäº¤æ¢åˆ†åŒºã€‚</td></tr><tr><td>swapon</td><td>å¯ç”¨äº¤æ¢åˆ†åŒºã€‚</td></tr><tr><td>swapoff</td><td>å…³é—­äº¤æ¢åˆ†åŒºã€‚</td></tr><tr><td>sync</td><td>å°†å†…å­˜ç¼“å†²åŒºå†…çš„æ•°æ®å†™å…¥ç£ç›˜ã€‚</td></tr><tr><td>resize2fs</td><td>è°ƒæ•´ext2/ext3/ext4æ–‡ä»¶ç³»ç»Ÿå¤§å°ã€‚</td></tr><tr><td>ç³»ç»Ÿæƒé™åŠç”¨æˆ·æˆæƒç›¸å…³å‘½ä»¤ï¼ˆ4ä¸ªï¼‰</td><td></td></tr><tr><td>chmod</td><td>æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•æƒé™ã€‚</td></tr><tr><td>chown</td><td>æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„å±ä¸»å’Œå±ç»„ã€‚</td></tr><tr><td>chgrp</td><td>æ›´æ”¹æ–‡ä»¶ç”¨æˆ·ç»„ã€‚</td></tr><tr><td>umask</td><td>æ˜¾ç¤ºæˆ–è®¾ç½®æƒé™æ©ç ã€‚</td></tr><tr><td>æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·ç™»é™†ä¿¡æ¯çš„å‘½ä»¤ï¼ˆ7ä¸ªï¼‰</td><td></td></tr><tr><td>whoami</td><td>æ˜¾ç¤ºå½“å‰æœ‰æ•ˆçš„ç”¨æˆ·åç§°ï¼Œç›¸å½“äºæ‰§è¡Œid -unå‘½ä»¤ã€‚</td></tr><tr><td>who</td><td>æ˜¾ç¤ºç›®å‰ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯ã€‚</td></tr><tr><td>w</td><td>æ˜¾ç¤ºå·²ç»ç™»é™†ç³»ç»Ÿçš„ç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶æ˜¾ç¤ºç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤ã€‚</td></tr><tr><td>last</td><td>æ˜¾ç¤ºç™»å…¥ç³»ç»Ÿçš„ç”¨æˆ·ã€‚</td></tr><tr><td>lastlog</td><td>æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·æœ€è¿‘ä¸€æ¬¡ç™»å½•ä¿¡æ¯ã€‚</td></tr><tr><td>users</td><td>æ˜¾ç¤ºå½“å‰ç™»å½•ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·çš„ç”¨æˆ·åˆ—è¡¨ã€‚</td></tr><tr><td>finger</td><td>æŸ¥æ‰¾å¹¶æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ã€‚</td></tr><tr><td>å†…ç½®å‘½ä»¤åŠå…¶å®ƒï¼ˆ19ä¸ªï¼‰</td><td></td></tr><tr><td>echo</td><td>æ‰“å°å˜é‡ï¼Œæˆ–ç›´æ¥è¾“å‡ºæŒ‡å®šçš„å­—ç¬¦ä¸²</td></tr><tr><td>printf</td><td>å°†ç»“æœæ ¼å¼åŒ–è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚</td></tr><tr><td>rpm</td><td>ç®¡ç†rpmåŒ…çš„å‘½ä»¤ã€‚</td></tr><tr><td>yum</td><td>è‡ªåŠ¨åŒ–ç®€å•åŒ–åœ°ç®¡ç†rpmåŒ…çš„å‘½ä»¤ã€‚</td></tr><tr><td>watch</td><td>å‘¨æœŸæ€§çš„æ‰§è¡Œç»™å®šçš„å‘½ä»¤ï¼Œå¹¶å°†å‘½ä»¤çš„è¾“å‡ºä»¥å…¨å±æ–¹å¼æ˜¾ç¤ºã€‚</td></tr><tr><td>alias</td><td>è®¾ç½®ç³»ç»Ÿåˆ«åã€‚</td></tr><tr><td>unalias</td><td>å–æ¶ˆç³»ç»Ÿåˆ«åã€‚</td></tr><tr><td>date</td><td>æŸ¥çœ‹æˆ–è®¾ç½®ç³»ç»Ÿæ—¶é—´ã€‚</td></tr><tr><td>clear</td><td>æ¸…é™¤å±å¹•ï¼Œç®€ç§°æ¸…å±ã€‚</td></tr><tr><td>history</td><td>æŸ¥çœ‹å‘½ä»¤æ‰§è¡Œçš„å†å²çºªå½•ã€‚</td></tr><tr><td>eject</td><td>å¼¹å‡ºå…‰é©±ã€‚</td></tr><tr><td>time</td><td>è®¡ç®—å‘½ä»¤æ‰§è¡Œæ—¶é—´ã€‚</td></tr><tr><td>nc</td><td>åŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œå·¥å…·ã€‚</td></tr><tr><td>xargs</td><td>å°†æ ‡å‡†è¾“å…¥è½¬æ¢æˆå‘½ä»¤è¡Œå‚æ•°ã€‚</td></tr><tr><td>exec</td><td>è°ƒç”¨å¹¶æ‰§è¡ŒæŒ‡ä»¤çš„å‘½ä»¤ã€‚</td></tr><tr><td>export</td><td>è®¾ç½®æˆ–è€…æ˜¾ç¤ºç¯å¢ƒå˜é‡ã€‚</td></tr><tr><td>unset</td><td>åˆ é™¤å˜é‡æˆ–å‡½æ•°ã€‚</td></tr><tr><td>type</td><td>ç”¨äºåˆ¤æ–­å¦å¤–ä¸€ä¸ªå‘½ä»¤æ˜¯å¦æ˜¯å†…ç½®å‘½ä»¤ã€‚</td></tr><tr><td>bc</td><td>å‘½ä»¤è¡Œç§‘å­¦è®¡ç®—å™¨</td></tr><tr><td>ç³»ç»Ÿç®¡ç†ä¸æ€§èƒ½ç›‘è§†å‘½ä»¤(9ä¸ª)</td><td></td></tr><tr><td>chkconfig</td><td>ç®¡ç†Linuxç³»ç»Ÿå¼€æœºå¯åŠ¨é¡¹ã€‚</td></tr><tr><td>vmstat</td><td>è™šæ‹Ÿå†…å­˜ç»Ÿè®¡ã€‚</td></tr><tr><td>mpstat</td><td>æ˜¾ç¤ºå„ä¸ªå¯ç”¨CPUçš„çŠ¶æ€ç»Ÿè®¡ã€‚</td></tr><tr><td>iostat</td><td>ç»Ÿè®¡ç³»ç»ŸIOã€‚</td></tr><tr><td>sar</td><td>å…¨é¢åœ°è·å–ç³»ç»Ÿçš„CPUã€è¿è¡Œé˜Ÿåˆ—ã€ç£ç›˜ I/Oã€åˆ†é¡µï¼ˆäº¤æ¢åŒºï¼‰ã€å†…å­˜ã€ CPUä¸­æ–­å’Œç½‘ç»œç­‰æ€§èƒ½æ•°æ®ã€‚</td></tr><tr><td>ipcs</td><td>ç”¨äºæŠ¥å‘ŠLinuxä¸­è¿›ç¨‹é—´é€šä¿¡è®¾æ–½çš„çŠ¶æ€ï¼Œæ˜¾ç¤ºçš„ä¿¡æ¯åŒ…æ‹¬æ¶ˆæ¯åˆ—è¡¨ã€å…±äº«å†…å­˜å’Œä¿¡å·é‡çš„ä¿¡æ¯ã€‚</td></tr><tr><td>ipcrm</td><td>ç”¨æ¥åˆ é™¤ä¸€ä¸ªæˆ–æ›´å¤šçš„æ¶ˆæ¯é˜Ÿåˆ—ã€ä¿¡å·é‡é›†æˆ–è€…å…±äº«å†…å­˜æ ‡è¯†ã€‚</td></tr><tr><td>strace</td><td>ç”¨äºè¯Šæ–­ã€è°ƒè¯•Linuxç”¨æˆ·ç©ºé—´è·Ÿè¸ªå™¨ã€‚æˆ‘ä»¬ç”¨å®ƒæ¥ç›‘æ§ç”¨æˆ·ç©ºé—´è¿›ç¨‹å’Œå†…æ ¸çš„äº¤äº’ï¼Œæ¯”å¦‚ç³»ç»Ÿè°ƒç”¨ã€ä¿¡å·ä¼ é€’ã€è¿›ç¨‹çŠ¶æ€å˜æ›´ç­‰ã€‚</td></tr><tr><td>ltrace</td><td>å‘½ä»¤ä¼šè·Ÿè¸ªè¿›ç¨‹çš„åº“å‡½æ•°è°ƒç”¨,å®ƒä¼šæ˜¾ç°å‡ºå“ªä¸ªåº“å‡½æ•°è¢«è°ƒç”¨ã€‚</td></tr><tr><td>å…³æœº/é‡å¯/æ³¨é”€å’ŒæŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯çš„å‘½ä»¤ï¼ˆ6ä¸ªï¼‰</td><td></td></tr><tr><td>shutdown</td><td>å…³æœºã€‚</td></tr><tr><td>halt</td><td>å…³æœºã€‚</td></tr><tr><td>poweroff</td><td>å…³é—­ç”µæºã€‚</td></tr><tr><td>logout</td><td>é€€å‡ºå½“å‰ç™»å½•çš„Shellã€‚</td></tr><tr><td>exit</td><td>é€€å‡ºå½“å‰ç™»å½•çš„Shellã€‚</td></tr><tr><td>Ctrl+d</td><td>é€€å‡ºå½“å‰ç™»å½•çš„Shellçš„å¿«æ·é”®ã€‚</td></tr><tr><td>è¿›ç¨‹ç®¡ç†ç›¸å…³å‘½ä»¤ï¼ˆ15ä¸ªï¼‰</td><td></td></tr><tr><td>bg</td><td>å°†ä¸€ä¸ªåœ¨åå°æš‚åœçš„å‘½ä»¤ï¼Œå˜æˆç»§ç»­æ‰§è¡Œ ï¼ˆåœ¨åå°æ‰§è¡Œï¼‰ã€‚</td></tr><tr><td>fg</td><td>å°†åå°ä¸­çš„å‘½ä»¤è°ƒè‡³å‰å°ç»§ç»­è¿è¡Œã€‚</td></tr><tr><td>jobs</td><td>æŸ¥çœ‹å½“å‰æœ‰å¤šå°‘åœ¨åå°è¿è¡Œçš„å‘½ä»¤ã€‚</td></tr><tr><td>kill</td><td>ç»ˆæ­¢è¿›ç¨‹ã€‚</td></tr><tr><td>killall</td><td>é€šè¿‡è¿›ç¨‹åç»ˆæ­¢è¿›ç¨‹ã€‚</td></tr><tr><td>pkill</td><td>é€šè¿‡è¿›ç¨‹åç»ˆæ­¢è¿›ç¨‹ã€‚</td></tr><tr><td>crontab</td><td>å®šæ—¶ä»»åŠ¡å‘½ä»¤ã€‚</td></tr><tr><td>ps</td><td>æ˜¾ç¤ºè¿›ç¨‹çš„å¿«ç…§ã€‚</td></tr><tr><td>pstree</td><td>æ ‘å½¢æ˜¾ç¤ºè¿›ç¨‹ã€‚</td></tr><tr><td>nice/renice</td><td>è°ƒæ•´ç¨‹åºè¿è¡Œçš„ä¼˜å…ˆçº§ã€‚</td></tr><tr><td>nohup</td><td>å¿½ç•¥æŒ‚èµ·ä¿¡å·è¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ã€‚</td></tr><tr><td>pgrep</td><td>æŸ¥æ‰¾åŒ¹é…æ¡ä»¶çš„è¿›ç¨‹ã€‚</td></tr><tr><td>runlevel</td><td>æŸ¥çœ‹ç³»ç»Ÿå½“å‰è¿è¡Œçº§åˆ«ã€‚</td></tr><tr><td>init</td><td>åˆ‡æ¢è¿è¡Œçº§åˆ«ã€‚</td></tr><tr><td>service</td><td>å¯åŠ¨ã€åœæ­¢ã€é‡æ–°å¯åŠ¨å’Œå…³é—­ç³»ç»ŸæœåŠ¡ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰ç³»ç»ŸæœåŠ¡çš„å½“å‰çŠ¶æ€ã€‚</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‘½ä»¤&lt;/th&gt;
&lt;th&gt;åŠŸèƒ½è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;çº¿ä¸ŠæŸ¥è¯¢åŠå¸®åŠ©å‘½ä»¤(2ä¸ª)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;man&lt;/td&gt;
&lt;td&gt;æŸ¥çœ‹å‘½ä»¤å¸®
      
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="æœåŠ¡å™¨" scheme="https://melodyjerry.github.io/blog/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="Linux" scheme="https://melodyjerry.github.io/blog/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç‹‚ç¥è¯´Javaã€‘JavaWeb-æ–‡ä»¶ä¸Šä¼ </title>
    <link href="https://melodyjerry.github.io/blog/2020/08/27/%E3%80%90%E7%8B%82%E7%A5%9E%E8%AF%B4Java%E3%80%91JavaWeb-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/27/%E3%80%90%E7%8B%82%E7%A5%9E%E8%AF%B4Java%E3%80%91JavaWeb-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/</id>
    <published>2020-08-27T05:52:05.548Z</published>
    <updated>2020-09-18T04:43:03.045Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ï¼Œä»¥å…ä»¥ä¸‹å‡ ä¸ªåŒ…å¯¼é”™</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.apache.commons.fileupload.FileItem;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.FileUploadException;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.ProgressListener;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.disk.DiskFileItemFactory;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.servlet.ServletFileUpload;</code></pre></div><p><strong>æºç ï¼š</strong></p><p>FileSerlvetç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.chen;<span class="hljs-keyword">import</span> java.io.File;<span class="hljs-keyword">import</span> java.io.FileOutputStream;<span class="hljs-keyword">import</span> java.io.IOException;<span class="hljs-keyword">import</span> java.io.InputStream;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">import</span> java.util.UUID;<span class="hljs-keyword">import</span> javax.servlet.ServletException;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.FileItem;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.FileUploadException;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.ProgressListener;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.disk.DiskFileItemFactory;<span class="hljs-keyword">import</span> org.apache.commons.fileupload.servlet.ServletFileUpload;<span class="hljs-comment">/**</span><span class="hljs-comment"> * Servlet implementation class FileSerlvet</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileSerlvet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>{<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> serialVersionUID = <span class="hljs-number">1L</span>;<span class="hljs-comment">/**</span><span class="hljs-comment"> * <span class="hljs-doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse</span><span class="hljs-comment"> *      response)</span><span class="hljs-comment"> */</span><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span></span><span class="hljs-function"><span class="hljs-keyword">throws</span> ServletException, IOException </span>{<span class="hljs-comment">// TODO Auto-generated method stub</span><span class="hljs-comment">// response.getWriter().append("Served at: ").append(request.getContextPath());</span><span class="hljs-comment">// åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ™®é€šè¡¨å•è¿˜æ˜¯å¸¦æ–‡ä»¶çš„è¡¨å•</span><span class="hljs-keyword">if</span> (!ServletFileUpload.isMultipartContent(request)) {<span class="hljs-keyword">return</span>;<span class="hljs-comment">//ç»ˆæ­¢æ–¹æ³•è¿è¡Œ,è¯´æ˜è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„è¡¨å•,ç›´æ¥è¿”å›</span>}    <span class="hljs-comment">//åˆ›å»ºä¸Šä¼ æ–‡ä»¶çš„ä¿å­˜è·¯å¾„,å»ºè®®åœ¨WEB-INFè·¯å¾„ä¸‹,å®‰å…¨,ç”¨æˆ·æ— æ³•ç›´æ¥è®¿é—´ä¸Šä¼ çš„æ–‡ä»¶;</span>    String uploadPath =<span class="hljs-keyword">this</span>.getServletContext().getRealPath(<span class="hljs-string">"/WEB-INF/upload"</span>);    File uploadFile = <span class="hljs-keyword">new</span> File(uploadPath);    <span class="hljs-keyword">if</span> (!uploadFile.exists()){    uploadFile.mkdir(); <span class="hljs-comment">//åˆ›å»ºè¿™ä¸ªæœˆå½•</span>    }<span class="hljs-comment">// åˆ›å»ºä¸Šä¼ æ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼Œå»ºè®®åœ¨WEB-INFè·¯å¾„ä¸‹ï¼Œå®‰å…¨ï¼Œç”¨æˆ·æ— æ³•ç›´æ¥è®¿é—®ä¸Šä¼ çš„æ–‡ä»¶</span>String tmpPath = <span class="hljs-keyword">this</span>.getServletContext().getRealPath(<span class="hljs-string">"/WEB-INF/tmp"</span>);File file = <span class="hljs-keyword">new</span> File(tmpPath);<span class="hljs-keyword">if</span> (!file.exists()) {file.mkdir();<span class="hljs-comment">//åˆ›å»ºä¸´æ—¶ç›®å½•</span>}<span class="hljs-comment">// å¤„ç†ä¸Šä¼ çš„æ–‡ä»¶,ä¸€èˆ¬éƒ½éœ€è¦é€šè¿‡æµæ¥è·å–,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ request, getInputstream(),åŸç”Ÿæ€çš„æ–‡ä»¶ä¸Šä¼ æµè·å–,ååˆ†éº»çƒ¦</span><span class="hljs-comment">// ä½†æ˜¯æˆ‘ä»¬éƒ½å»ºè®®ä½¿ç”¨ Apacheçš„æ–‡ä»¶ä¸Šä¼ ç»„ä»¶æ¥å®ç°, common-fileupload,å®ƒéœ€è¦æ—… commons-ioç»„ä»¶;</span><span class="hljs-keyword">try</span> {<span class="hljs-comment">// åˆ›å»ºDiskFileItemFactoryå¯¹è±¡ï¼Œå¤„ç†æ–‡ä»¶è·¯å¾„æˆ–è€…å¤§å°é™åˆ¶</span>DiskFileItemFactory factory = getDiskFileItemFactory(file);<span class="hljs-comment">/*</span><span class="hljs-comment"> * //é€šè¿‡è¿™ä¸ªå·¥å‚è®¾ç½®ä¸€ä¸ªç¼“å†²åŒº,å½“ä¸Šä¼ çš„æ–‡ä»¶å¤§äºè¿™ä¸ªç¼“å†²åŒºçš„æ—¶å€™,å°†ä»–æ”¾åˆ°ä¸´æ—¶æ–‡ä»¶ factory.setSizeThreshold(1024 *</span><span class="hljs-comment"> * 1024); //ç¼“å­˜åŒºå¤§å°ä¸º1M factory.setRepository (file);//ä¸´æ—¶ç›®å½•çš„ä¿å­˜ç›®å½•,éœ€è¦ä¸€ä¸ªFile</span><span class="hljs-comment"> */</span><span class="hljs-comment">// 2ã€è·å–ServletFileUpload</span>ServletFileUpload upload = getServletFileUpload(factory);<span class="hljs-comment">// 3ã€å¤„ç†ä¸Šä¼ æ–‡ä»¶</span><span class="hljs-comment">// æŠŠå‰ç«¯è¯·æ±‚è§£æï¼Œå°è£…æˆFileItemå¯¹è±¡ï¼Œéœ€è¦ä»ServletFileUploadå¯¹è±¡ä¸­è·å–</span>String msg = uploadParseRequest(upload, request, uploadPath);<span class="hljs-comment">// Servletè¯·æ±‚è½¬å‘æ¶ˆæ¯</span>System.out.println(msg);<span class="hljs-keyword">if</span>(msg == <span class="hljs-string">"æ–‡ä»¶ä¸Šä¼ æˆåŠŸ!"</span>) {<span class="hljs-comment">// Servletè¯·æ±‚è½¬å‘æ¶ˆæ¯</span>request.setAttribute(<span class="hljs-string">"msg"</span>,msg);request.getRequestDispatcher(<span class="hljs-string">"info.jsp"</span>).forward(request, response);}<span class="hljs-keyword">else</span> {msg =<span class="hljs-string">"è¯·ä¸Šä¼ æ–‡ä»¶"</span>;request.setAttribute(<span class="hljs-string">"msg"</span>,msg);request.getRequestDispatcher(<span class="hljs-string">"info.jsp"</span>).forward(request, response);}} <span class="hljs-keyword">catch</span> (FileUploadException e) {<span class="hljs-comment">// TODO è‡ªåŠ¨ç”Ÿæˆçš„ catch å—</span>e.printStackTrace();}}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DiskFileItemFactory <span class="hljs-title">getDiskFileItemFactory</span><span class="hljs-params">(File file)</span> </span>{DiskFileItemFactory factory = <span class="hljs-keyword">new</span> DiskFileItemFactory();<span class="hljs-comment">// é€šè¿‡è¿™ä¸ªå·¥å‚è®¾ç½®ä¸€ä¸ªç¼“å†²åŒº,å½“ä¸Šä¼ çš„æ–‡ä»¶å¤§äºè¿™ä¸ªç¼“å†²åŒºçš„æ—¶å€™,å°†ä»–æ”¾åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­;</span>factory.setSizeThreshold(<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);<span class="hljs-comment">// ç¼“å†²åŒºå¤§å°ä¸º1M</span>factory.setRepository(file);<span class="hljs-comment">// ä¸´æ—¶ç›®å½•çš„ä¿å­˜ç›®å½•,éœ€è¦ä¸€ä¸ªfile</span><span class="hljs-keyword">return</span> factory;}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ServletFileUpload <span class="hljs-title">getServletFileUpload</span><span class="hljs-params">(DiskFileItemFactory factory)</span> </span>{ServletFileUpload upload = <span class="hljs-keyword">new</span> ServletFileUpload(factory);<span class="hljs-comment">// ç›‘å¬é•¿ä¼ è¿›åº¦</span>upload.setProgressListener(<span class="hljs-keyword">new</span> ProgressListener() {<span class="hljs-comment">// pBYtesRead:å·²è¯»å–åˆ°çš„æ–‡ä»¶å¤§å°</span><span class="hljs-comment">// pContextLength:æ–‡ä»¶å¤§å°</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">long</span> pBytesRead, <span class="hljs-keyword">long</span> pContentLength, <span class="hljs-keyword">int</span> pItems)</span> </span>{System.out.println(<span class="hljs-string">"æ€»å¤§å°ï¼š"</span> + pContentLength + <span class="hljs-string">"å·²ä¸Šä¼ ï¼š"</span> + pBytesRead);}});<span class="hljs-comment">// å¤„ç†ä¹±ç é—®é¢˜</span>upload.setHeaderEncoding(<span class="hljs-string">"UTF-8"</span>);<span class="hljs-comment">// è®¾ç½®å•ä¸ªæ–‡ä»¶çš„æœ€å¤§å€¼</span>upload.setFileSizeMax(<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">10</span>);<span class="hljs-comment">// è®¾ç½®æ€»å…±èƒ½å¤Ÿä¸Šä¼ æ–‡ä»¶çš„å¤§å°</span><span class="hljs-comment">// 1024 = 1kb * 1024 = 1M * 10 = 10Ğ¼</span><span class="hljs-keyword">return</span> upload;}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">uploadParseRequest</span><span class="hljs-params">(ServletFileUpload upload, HttpServletRequest request, String uploadPath)</span></span><span class="hljs-function"><span class="hljs-keyword">throws</span> FileUploadException, IOException </span>{String msg = <span class="hljs-string">""</span>;<span class="hljs-comment">// æŠŠå‰ç«¯è¯·æ±‚è§£æï¼Œå°è£…æˆFileItemå¯¹è±¡</span>List&lt;FileItem&gt; fileItems = upload.parseRequest(request);<span class="hljs-keyword">for</span> (FileItem fileItem : fileItems) {<span class="hljs-keyword">if</span> (fileItem.isFormField()) {<span class="hljs-comment">// åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ˜¯æ™®é€šçš„è¡¨å•è¿˜æ˜¯å¸¦æ–‡ä»¶çš„è¡¨å•</span><span class="hljs-comment">// getFieldNameæŒ‡çš„æ˜¯å‰ç«¯è¡¨å•æ§ä»¶çš„name;</span>String name = fileItem.getFieldName();String value = fileItem.getString(<span class="hljs-string">"UTF-8"</span>); <span class="hljs-comment">// å¤„ç†ä¹±ç </span>System.out.println(name + <span class="hljs-string">": "</span> + value);} <span class="hljs-keyword">else</span> {<span class="hljs-comment">// åˆ¤æ–­å®ƒæ˜¯ä¸Šä¼ çš„æ–‡ä»¶</span><span class="hljs-comment">// ============å¤„ç†æ–‡ä»¶==============</span><span class="hljs-comment">// æ‹¿åˆ°æ–‡ä»¶å</span>String uploadFileName = fileItem.getName();System.out.println(<span class="hljs-string">"ä¸Šä¼ çš„æ–‡ä»¶å: "</span> + uploadFileName);<span class="hljs-keyword">if</span> (uploadFileName.trim().equals(<span class="hljs-string">""</span>) || uploadFileName == <span class="hljs-keyword">null</span>) {<span class="hljs-keyword">continue</span>;}<span class="hljs-comment">// è·å¾—ä¸Šä¼ çš„æ–‡ä»¶å/images/girl/paojie.png</span>String fileName = uploadFileName.substring(uploadFileName.lastIndexOf(<span class="hljs-string">"/"</span>) + <span class="hljs-number">1</span>);<span class="hljs-comment">// è·å¾—æ–‡ä»¶çš„åç¼€å</span>String fileExtName = uploadFileName.substring(uploadFileName.lastIndexOf(<span class="hljs-string">"."</span>) + <span class="hljs-number">1</span>);<span class="hljs-comment">/*</span><span class="hljs-comment"> * å¦‚æœæ–‡ä»¶åç¼€åfileExtNameä¸æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ å°±ç›´æŒ‰return.ä¸å¤„ç†,å‘Šè¯‰ç”¨æˆ·æ–‡ä»¶ç±»å‹ä¸å¯¹ã€‚</span><span class="hljs-comment"> */</span>System.out.println(<span class="hljs-string">"æ–‡ä»¶ä¿¡æ¯[ä»¶å: "</span> + fileName + <span class="hljs-string">" ---æ–‡ä»¶ç±»å‹"</span> + fileExtName + <span class="hljs-string">"]"</span>);<span class="hljs-comment">// å¯ä»¥ä½¿ç”¨UIDï¼ˆå”¯ä¸€è¯†åˆ«çš„é€šç”¨ç ),ä¿è¯æ–‡ä»¶åå”¯</span><span class="hljs-comment">// 0UID. randomUUID(),éšæœºç”Ÿä¸€ä¸ªå”¯ä¸€è¯†åˆ«çš„é€šç”¨ç ;</span>String uuidPath = UUID.randomUUID().toString();<span class="hljs-comment">// ================å¤„ç†æ–‡ä»¶å®Œæ¯•==============</span><span class="hljs-comment">// å­˜åˆ°å“ª? uploadPath</span><span class="hljs-comment">// æ–‡ä»¶çœŸå®å­˜åœ¨çš„è·¯å¾„realPath</span>String realPath = uploadPath + <span class="hljs-string">"/"</span> + uuidPath;<span class="hljs-comment">// ç»™æ¯ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„æ–‡ä»¶å¤¹</span>File realPathFile = <span class="hljs-keyword">new</span> File(realPath);<span class="hljs-keyword">if</span> (!realPathFile.exists()) {realPathFile.mkdir();}<span class="hljs-comment">// ==============å­˜æ”¾åœ°å€å®Œæ¯•==============</span><span class="hljs-comment">// è·å¾—æ–‡ä»¶ä¸Šä¼ çš„æµ</span>InputStream inputStream = fileItem.getInputStream();<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–‡ä»¶è¾“å‡ºæµ</span><span class="hljs-comment">// realPath =çœŸå®çš„æ–‡ä»¶å¤¹;</span><span class="hljs-comment">// å·®äº†ä¸€ä¸ªæ–‡ä»¶;åŠ ä¸Šç¿°å‡ºæ–‡ä»¶çš„åäº§"/"+uuidFileName</span>FileOutputStream fos = <span class="hljs-keyword">new</span> FileOutputStream(realPath + <span class="hljs-string">"/"</span> + fileName);<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç¼“å†²åŒº</span><span class="hljs-keyword">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>];<span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦è¯»å–å®Œæ¯•</span><span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;<span class="hljs-comment">// å¦‚æœå¤§äº0è¯´æ˜è¿˜å­˜åœ¨æ•°æ®;</span><span class="hljs-keyword">while</span> ((len = inputStream.read(buffer)) &gt; <span class="hljs-number">0</span>) {fos.write(buffer, <span class="hljs-number">0</span>, len);}<span class="hljs-comment">// å…³é—­æµ</span>fos.close();inputStream.close();msg = <span class="hljs-string">"æ–‡ä»¶ä¸Šä¼ æˆåŠŸ!"</span>;fileItem.delete(); <span class="hljs-comment">// ä¸Šä¼ æˆåŠŸ,æ¸…é™¤ä¸´æ—¶æ–‡ä»¶</span><span class="hljs-comment">//=============æ–‡ä»¶ä¼ è¾“å®Œæˆ=============</span>}}<span class="hljs-keyword">return</span> msg;}}</code></pre></div><p>æ³¨å†Œxml</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>upload<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.chen.FileSerlvet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>upload<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/upload.do<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span></code></pre></div><p>å¯¼å…¥ä¾èµ–çš„jaråŒ…</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div><p>index.jsp</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html;charset=UTF-8"</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> %&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">%--</span></span><span class="hljs-tag"><span class="hljs-attr">GET</span>ï¼šä¸Šä¼ æ–‡ä»¶å¤§å°æœ‰é™åˆ¶</span><span class="hljs-tag"><span class="hljs-attr">POST</span>ï¼šä¸Šä¼ æ–‡ä»¶å¤§å°æ²¡æœ‰é™åˆ¶</span><span class="hljs-tag"> ${<span class="hljs-attr">pageContext.request.contextPath</span>}</span><span class="hljs-tag"> <span class="hljs-attr">--</span>%&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"upload.do"</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">"multipart/form-data"</span>  <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>ä¸Šä¼ ç”¨æˆ·ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">P</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"file1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">P</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">P</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"file1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">P</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">P</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æäº¤"</span>&gt;</span> | <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"reset"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">P</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><p>info.jsp</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html;charset=UTF-8"</span>%&gt;</span><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">%=request.getAttribute("msg")%</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è®°å½•ä¸€ä¸‹ï¼Œä»¥å…ä»¥ä¸‹å‡ ä¸ªåŒ…å¯¼é”™&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.fileupload.
      
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaWeb" scheme="https://melodyjerry.github.io/blog/tags/JavaWeb/"/>
    
      <category term="SSM" scheme="https://melodyjerry.github.io/blog/tags/SSM/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç‹‚ç¥è¯´Javaã€‘Spring5ç¬”è®°å­˜æ¡£</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/27/%E3%80%90%E7%8B%82%E7%A5%9E%E8%AF%B4Java%E3%80%91Spring5%E7%AC%94%E8%AE%B0%E5%AD%98%E6%A1%A3/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/27/%E3%80%90%E7%8B%82%E7%A5%9E%E8%AF%B4Java%E3%80%91Spring5%E7%AC%94%E8%AE%B0%E5%AD%98%E6%A1%A3/</id>
    <published>2020-08-27T05:52:05.530Z</published>
    <updated>2020-09-18T04:43:03.300Z</updated>
    
    <content type="html"><![CDATA[<p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1WE411d7Dv" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1WE411d7Dv</a></p><hr><h2 id="1ã€Spring"><a href="#1ã€Spring" class="headerlink" title="1ã€Spring"></a>1ã€Spring</h2><h3 id="1-1ã€ç®€ä»‹"><a href="#1-1ã€ç®€ä»‹" class="headerlink" title="1.1ã€ç®€ä»‹"></a>1.1ã€ç®€ä»‹</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvMjAyMDA4MDEwMjUxMzkucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="img"><br>springå®˜ç½‘ï¼š <a href="https://spring.io/projects/spring-framework#overview" target="_blank" rel="noopener">https://spring.io/projects/spring-framework#overview</a></p><p>å®˜æ–¹ä¸‹è½½ï¼š <a href="https://repo.spring.io/release/org/springframework/spring/" target="_blank" rel="noopener">https://repo.spring.io/release/org/springframework/spring/</a></p><p>GitHubï¼š <a href="https://github.com/spring-projects/spring-framework" target="_blank" rel="noopener">https://github.com/spring-projects/spring-framework</a></p><p>Spring Web MVCï¼š <a href="https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE" target="_blank" rel="noopener">spring-webmvcæœ€æ–°ç‰ˆ</a></p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div><h3 id="1-2ã€ä¼˜ç‚¹"><a href="#1-2ã€ä¼˜ç‚¹" class="headerlink" title="1.2ã€ä¼˜ç‚¹"></a>1.2ã€ä¼˜ç‚¹</h3><ul><li>Springæ˜¯ä¸€ä¸ªå¼€æºçš„å…è´¹æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰ï¼</li><li>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„éå…¥ä¾µå¼çš„æ¡†æ¶</li><li>æ§åˆ¶åè½¬ï¼ˆIOCï¼‰ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰ï¼</li><li>æ”¯æŒäº‹åŠ¡çš„å¤„ç†ï¼Œå¯¹æ¡†æ¶æ•´åˆçš„æ”¯æŒ</li></ul><p>å¼€æºå…è´¹å®¹å™¨ï¼Œè½»é‡çº§éä¾µå…¥å¼ï¼Œæ§åˆ¶åè½¬ï¼Œé¢å‘åˆ‡é¢ï¼Œæ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒæ¡†æ¶æ•´åˆ</p><p>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬(IOC)å’Œé¢å‘åˆ‡é¢(AOP)ç¼–ç¨‹çš„æ¡†æ¶</p><h3 id="1-3ã€ç»„æˆ"><a href="#1-3ã€ç»„æˆ" class="headerlink" title="1.3ã€ç»„æˆ"></a>1.3ã€ç»„æˆ</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvU3ByaW5nNyVFNSVBNCVBNyVFNiVBOCVBMSVFNSU5RCU5Ny5wbmc?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="img"></p><h3 id="1-4ã€æ‰©å±•"><a href="#1-4ã€æ‰©å±•" class="headerlink" title="1.4ã€æ‰©å±•"></a>1.4ã€æ‰©å±•</h3><p>ç°ä»£åŒ–çš„javaå¼€å‘ -&gt; åŸºäºSpringçš„å¼€å‘</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvMjAyMDA4MDEwMzA4MjAucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="img"><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDEwMzE0Mjk1MTQucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200801031429514"></p><h2 id="2ã€IOCç†è®ºæ¨å¯¼"><a href="#2ã€IOCç†è®ºæ¨å¯¼" class="headerlink" title="2ã€IOCç†è®ºæ¨å¯¼"></a>2ã€IOCç†è®ºæ¨å¯¼</h2><p>ä¼ ç»Ÿçš„è°ƒç”¨</p><ol><li><p>UserDao</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> dao;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserDao</span> </span>{<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getUser</span><span class="hljs-params">()</span></span>;}</code></pre></div></li><li><p>UserDaoImp</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> dao;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserDao</span></span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUser</span><span class="hljs-params">()</span> </span>{System.out.println(<span class="hljs-string">"é»˜è®¤è·å–ç”¨æˆ·æ•°æ®"</span>);}}</code></pre></div></li><li><p>UserSevice</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Service;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserService</span> </span>{<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getUser</span><span class="hljs-params">()</span></span>;}</code></pre></div></li><li><p>UserServiceImp</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Service;<span class="hljs-keyword">import</span> dao.UserDao;<span class="hljs-keyword">import</span> dao.UserDaoImpl;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserService</span></span>{UserDao userDao = <span class="hljs-keyword">new</span> UserDaoImpl();<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUser</span><span class="hljs-params">()</span></span>{userDao.getUser();}}</code></pre></div></li></ol><p>æµ‹è¯•</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> holle0;<span class="hljs-keyword">import</span> Service.UserService;<span class="hljs-keyword">import</span> Service.UserServiceImpl;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest0</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<span class="hljs-comment">// ç”¨æˆ·å®é™…è°ƒç”¨çš„æ˜¯ä¸šåŠ¡å±‚ï¼Œdaoå±‚ä»–ä»¬ä¸éœ€è¦æ¥è§¦</span>UserService userService = <span class="hljs-keyword">new</span> UserServiceImpl();userService.getUser();}}</code></pre></div><p>åœ¨æˆ‘ä»¬ä¹‹å‰çš„ä¸šåŠ¡ä¸­ï¼Œç”¨æˆ·çš„éœ€æ±‚å¯èƒ½ä¼šå½±å“æˆ‘ä»¬åŸæ¥çš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚å»ä¿®æ”¹åŸä»£ç ï¼å¦‚æœç¨‹åºä»£ç é‡ååˆ†å¤§ï¼Œä¿®æ”¹ä¸€æ¬¡çš„æˆæœ¬ä»£ä»·ååˆ†æ˜‚è´µï¼</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDExMjI3NDI1ODEucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200801122742581"><br>æ”¹è‰¯ï¼šæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªSetæ¥å£å®ç°ã€‚å·²ç»å‘ç”Ÿäº†é©å‘½æ€§çš„å˜åŒ–ï¼</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//åœ¨Serviceå±‚çš„å®ç°ç±»(UserServiceImpl)å¢åŠ ä¸€ä¸ªSet()æ–¹æ³•</span><span class="hljs-comment">//åˆ©ç”¨setåŠ¨æ€å®ç°å€¼çš„æ³¨å…¥ï¼</span><span class="hljs-keyword">private</span> UserDao userDao;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUserDao</span><span class="hljs-params">(UserDao userDao)</span></span>{    <span class="hljs-keyword">this</span>.userDao = userDao;}</code></pre></div><p>set() æ–¹æ³•å®é™…ä¸Šæ˜¯åŠ¨æ€æ”¹å˜äº† UserDao userDao çš„ åˆå§‹åŒ–éƒ¨åˆ†ï¼ˆ<strong>new UserDaoImpl()</strong>ï¼‰</p><p>æµ‹è¯•ä¸­åŠ ä¸Š</p><div class="hljs"><pre><code class="hljs java">((UserServiceImpl)userService).setUserDao(<span class="hljs-keyword">new</span> UserDaoImpl());</code></pre></div><ul><li>ä¹‹å‰ï¼Œç¨‹åºæ˜¯ä¸»åŠ¨åˆ›å»ºå¯¹è±¡ï¼<strong>æ§åˆ¶æƒåœ¨ç¨‹åºçŒ¿æ‰‹ä¸Š</strong>ï¼</li><li>ä½¿ç”¨äº†setæ³¨å…¥åï¼Œç¨‹åºä¸å†å…·æœ‰ä¸»åŠ¨æ€§ï¼Œè€Œæ˜¯å˜æˆäº†è¢«åŠ¨çš„æ¥å—å¯¹è±¡ï¼ï¼ˆ<strong>ä¸»åŠ¨æƒåœ¨å®¢æˆ·æ‰‹ä¸Š</strong>ï¼‰</li></ul><p>æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜ï¼Œç¨‹åºå‘˜ä¸ç”¨å†å»ç®¡ç†å¯¹è±¡çš„åˆ›å»º</p><p>ç³»ç»Ÿçš„è€¦åˆæ€§å¤§å¤§é™ä½ï¼Œå¯ä»¥æ›´ä¸“æ³¨åœ¨ä¸šåŠ¡çš„å®ç°ä¸Š</p><p>è¿™æ˜¯IOCï¼ˆæ§åˆ¶åè½¬ï¼‰çš„åŸå‹ï¼Œåè½¬(ç†è§£)ï¼šä¸»åŠ¨æƒäº¤ç»™äº†ç”¨æˆ·</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDExMjI4MDU3NjkucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200801122805769"></p><h3 id="IOCæœ¬è´¨"><a href="#IOCæœ¬è´¨" class="headerlink" title="IOCæœ¬è´¨"></a>IOCæœ¬è´¨</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDExMjM1MTg5NzQucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200801123518974"><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvMjAyMDA4MDExMjMyMzUucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="img"><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDExMjMzNDgyMDcucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200801123348207"><br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDExMjM0NTA4OTcucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200801123450897"></p><h2 id="3ã€HolleSpring"><a href="#3ã€HolleSpring" class="headerlink" title="3ã€HolleSpring"></a>3ã€HolleSpring</h2><p>åœ¨çˆ¶æ¨¡å—ä¸­å¯¼å…¥jaråŒ…</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div><p>pojoçš„Hello.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hello</span> </span>{<span class="hljs-keyword">private</span> String str;<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getStr</span><span class="hljs-params">()</span> </span>{<span class="hljs-keyword">return</span> str;}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setStr</span><span class="hljs-params">(String str)</span> </span>{<span class="hljs-keyword">this</span>.str = str;}<span class="hljs-meta">@Override</span><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{<span class="hljs-keyword">return</span> <span class="hljs-string">"Holle [str="</span> + str + <span class="hljs-string">"]"</span>;}}</code></pre></div><p>åœ¨resourceé‡Œé¢çš„xmlé…ç½®</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!--åœ¨Springä¸­åˆ›å»ºå¯¹è±¡ï¼Œåœ¨Springè¿™äº›éƒ½ç§°ä¸ºbean</span><span class="hljs-comment">    ç±»å‹ å˜é‡å = new ç±»å‹();</span><span class="hljs-comment">    Holle holle = new Holle();</span><span class="hljs-comment">    </span><span class="hljs-comment">    bean = å¯¹è±¡(holle)</span><span class="hljs-comment">    id = å˜é‡å(holle)</span><span class="hljs-comment">    class = newçš„å¯¹è±¡(new Holle();)</span><span class="hljs-comment">    property ç›¸å½“äºç»™å¯¹è±¡ä¸­çš„å±æ€§è®¾å€¼,è®©str="Spring"</span><span class="hljs-comment">    --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"hello"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Hello"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"str"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Spring"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>æµ‹è¯•ç±»MyTest</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> holle1;<span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<span class="hljs-keyword">import</span> pojo.Hello;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<span class="hljs-comment">//è·å–Springçš„ä¸Šä¸‹æ–‡å¯¹è±¡</span>ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"beans.xml"</span>);<span class="hljs-comment">//æˆ‘ä»¬çš„å¯¹è±¡ä¸‹èƒ½åœ¨éƒ½åœ¨springÂ·ä¸­ç®¡ç†äº†ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ï¼Œç›´æ¥å–å‡ºæ¥å°±å¯ä»¥äº†</span>Hello holle = (Hello) context.getBean(<span class="hljs-string">"hello"</span>);System.out.println(holle.toString());}}</code></pre></div><p>æ ¸å¿ƒç”¨setæ³¨å…¥ï¼Œæ‰€ä»¥å¿…é¡»è¦æœ‰ä¸‹é¢çš„se()æ–¹æ³•</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//Helloç±»</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setStr</span><span class="hljs-params">(String str)</span> </span>{<span class="hljs-keyword">this</span>.str = str;}</code></pre></div><p><strong>æ€è€ƒï¼š</strong></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDExNjUxNTYyNTkucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200801165156259"><br>IOCï¼šå¯¹è±¡ç”±Spring æ¥åˆ›å»ºï¼Œç®¡ç†ï¼Œè£…é…ï¼</p><p><strong>å¼¹å¹•è¯„è®ºé‡Œé¢çš„ç†è§£ï¼š</strong></p><p>åŸæ¥è¿™å¥—ç¨‹åºæ˜¯ï¼šä½ å†™å¥½èœå•ä¹°å¥½èœï¼Œå®¢äººæ¥äº†è‡ªå·±æŠŠèœç‚’å¥½æ‹›å¾…ï¼Œå°±ç›¸å½“äºä½ è¯·äººåƒé¥­<br>ç°åœ¨è¿™å¥—ç¨‹åºæ˜¯ï¼šä½ å‘Šè¯‰æ¥¼ä¸‹é¤å…ï¼Œä½ è¦å“ªäº›èœï¼Œå®¢äººæ¥çš„æ—¶å€™ï¼Œé¤å…æŠŠåšå¥½çš„ä½ éœ€è¦çš„èœé€ä¸Šæ¥<br>IoCï¼šç‚’èœè¿™ä»¶äº‹ï¼Œä¸å†ç”±ä½ è‡ªå·±æ¥åšï¼Œè€Œæ˜¯å§”æ‰˜ç»™äº†ç¬¬ä¸‰æ–¹__é¤å…æ¥åš</p><p>æ­¤æ—¶çš„åŒºåˆ«å°±æ˜¯ï¼Œå¦‚æœæˆ‘è¿˜éœ€è¦åšå…¶ä»–çš„èœï¼Œæˆ‘ä¸éœ€è¦è‡ªå·±æèœè°±ä¹°ææ–™å†åšå¥½ï¼Œè€Œæ˜¯å‘Šè¯‰é¤å…ï¼Œæˆ‘è¦ä»€ä¹ˆèœï¼Œä»€ä¹ˆæ—¶å€™è¦ï¼Œä½ åšå¥½é€æ¥</p><p>.</p><p>åœ¨å‰é¢ç¬¬ä¸€ä¸ªmoduleè¯•è¯•å¼•å…¥Spring</p><div class="hljs"><pre><code class="hljs java">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;&lt;beans xmlns=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>       xmlns:xsi=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>       xsi:schemaLocation=<span class="hljs-string">"http://www.springframework.org/schema/beans</span><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;    &lt;bean id="userDaomSql" class="dao.UserDaoMysqlImpl"&gt;&lt;/bean&gt;    &lt;bean id=<span class="hljs-string">"userServiceImpl"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"service.UserServiceImp"</span>&gt;        &lt;!--refå¼•ç”¨springä¸­å·²ç»åˆ›å»ºå¾ˆå¥½çš„å¯¹è±¡--&gt;        &lt;!--valueæ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼,åŸºæœ¬æ•°æ®ç±»å‹--&gt;        &lt;property name=<span class="hljs-string">"userDao"</span> ref=<span class="hljs-string">"userDaomSql"</span>/&gt;    &lt;/bean&gt;&lt;/beans&gt;</code></pre></div><p>ç¬¬ä¸€ä¸ªmoduleæ”¹è‰¯åæµ‹è¯•</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> holle0;<span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<span class="hljs-keyword">import</span> service.UserServiceImpl;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest0</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"beans.xml"</span>);UserServiceImpl userServiceImpl = (UserServiceImpl) context.getBean(<span class="hljs-string">"userServiceImpl"</span>);userServiceImpl.getUser();}}</code></pre></div><p><strong>æ€»ç»“ï¼š</strong></p><p>æ‰€æœ‰çš„ç±»éƒ½è¦è£…é…çš„beans.xml é‡Œé¢ï¼›</p><p>æ‰€æœ‰çš„bean éƒ½è¦é€šè¿‡å®¹å™¨å»å–ï¼›</p><p>å®¹å™¨é‡Œé¢å–å¾—çš„beanï¼Œæ‹¿å‡ºæ¥å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨å¯¹è±¡è°ƒç”¨æ–¹æ³•å³å¯ï¼›</p><h2 id="4ã€IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"><a href="#4ã€IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼" class="headerlink" title="4ã€IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"></a>4ã€IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h2><ol><li>ä½¿ç”¨æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡ï¼Œé»˜è®¤ã€‚</li><li>ä½¿ç”¨æœ‰å‚æ„é€ ï¼ˆå¦‚ä¸‹ï¼‰</li></ol><p>ä¸‹æ ‡èµ‹å€¼</p><p>indexæŒ‡çš„æ˜¯æœ‰å‚æ„é€ ä¸­å‚æ•°çš„ä¸‹æ ‡ï¼Œä¸‹æ ‡ä»0å¼€å§‹;</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"chen"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>ç±»å‹èµ‹å€¼ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"java.lang.String"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"kuang"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div><p>ç›´æ¥é€šè¿‡å‚æ•°åï¼ˆæŒæ¡ï¼‰</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"kuang"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-comment">&lt;!-- æ¯”å¦‚å‚æ•°åæ˜¯nameï¼Œåˆ™æœ‰name="å…·ä½“å€¼" --&gt;</span></code></pre></div><p>æ³¨å†Œbeanä¹‹åå°±å¯¹è±¡çš„åˆå§‹åŒ–äº†ï¼ˆ<strong>ç±»ä¼¼ new ç±»å()</strong>ï¼‰</p><p>å¼¹å¹•è¯„è®ºï¼š</p><p>nameæ–¹å¼è¿˜éœ€è¦æ— å‚æ„é€ å’Œsetæ–¹æ³•,indexå’Œtypeåªéœ€è¦æœ‰å‚æ„é€ </p><p>å°±ç®—æ˜¯new ä¸¤ä¸ªå¯¹è±¡ï¼Œä¹Ÿæ˜¯åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼ˆ<strong>å•ä¾‹æ¨¡å¼ï¼šå…¨å±€å”¯ä¸€</strong>ï¼‰</p><div class="hljs"><pre><code class="hljs java">User user = (User) context.getBean(<span class="hljs-string">"user"</span>);User user2 = (User) context.getBean(<span class="hljs-string">"user"</span>);system.out.println(user == user2)<span class="hljs-comment">//ç»“æœä¸ºtrue</span></code></pre></div><p>æ€»ç»“ï¼šåœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œå®¹å™¨(&lt; bean&gt;)ä¸­ç®¡ç†çš„å¯¹è±¡å°±å·²ç»åˆå§‹åŒ–äº†</p><h2 id="5ã€Springé…ç½®"><a href="#5ã€Springé…ç½®" class="headerlink" title="5ã€Springé…ç½®"></a>5ã€Springé…ç½®</h2><h3 id="5-1ã€åˆ«å"><a href="#5-1ã€åˆ«å" class="headerlink" title="5.1ã€åˆ«å"></a>5.1ã€åˆ«å</h3><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"chen"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">alias</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"userLove"</span>/&gt;</span><span class="hljs-comment">&lt;!-- ä½¿ç”¨æ—¶</span><span class="hljs-comment">User user2 = (User) context.getBean("userLove");</span><span class="hljs-comment">--&gt;</span></code></pre></div><h3 id="5-2ã€Beançš„é…ç½®"><a href="#5-2ã€Beançš„é…ç½®" class="headerlink" title="5.2ã€Beançš„é…ç½®"></a>5.2ã€Beançš„é…ç½®</h3><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--idï¼šbeançš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæˆ‘ä»¬å­¦çš„å¯¹è±¡å</span><span class="hljs-comment">classï¼šbeanå¯¹è±¡æ‰€å¯¹åº”çš„ä¼šé™å®šåï¼šåŒ…å+ç±»å‹</span><span class="hljs-comment">nameï¼šä¹Ÿæ˜¯åˆ«åï¼Œè€Œä¸”nameå¯ä»¥åŒæ—¶å–å¤šä¸ªåˆ«å --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"u1 u2,u3;u4"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"chen"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-comment">&lt;!-- ä½¿ç”¨æ—¶</span><span class="hljs-comment">User user2 = (User) context.getBean("u1");</span><span class="hljs-comment">--&gt;</span></code></pre></div><h3 id="5-3ã€import"><a href="#5-3ã€import" class="headerlink" title="5.3ã€import"></a>5.3ã€import</h3><p>importä¸€èˆ¬ç”¨äºå›¢é˜Ÿå¼€å‘ä½¿ç”¨ï¼Œå®ƒå¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥åˆå¹¶ä¸ºä¸€ä¸ª</p><p>å‡è®¾ï¼Œç°åœ¨é¡¹ç›®ä¸­æœ‰å¤šä¸ªäººå¼€å‘ï¼Œè¿™ä¸‰ä¸ªäººå¤åˆ¶ä¸åŒçš„ç±»å¼€å‘ï¼Œä¸åŒçš„ç±»éœ€è¦æ³¨å†Œåœ¨ä¸åŒçš„beanä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©<br>ç”¨importå°†æ‰€æœ‰äººçš„beans.xmlåˆå¹¶ä¸ºä¸€ä¸ªæ€»çš„ï¼</p><ul><li><p>å¼ ä¸‰(beans.xm1)</p></li><li><p>æå››(beans2.xm1)</p></li><li><p>ç‹äº”(beans3.xm1)</p></li><li><p>applicationContext.xml</p>  <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"beans.xm1"</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"beans2.xml"</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"beans3.xm1"</span>/&gt;</span></code></pre></div></li></ul><p><strong>ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥ä½¿ç”¨æ€»çš„é…ç½®å°±å¯ä»¥äº†</strong></p><p>å¼¹å¹•è¯„è®ºï¼š</p><p>æŒ‰ç…§åœ¨æ€»çš„xmlä¸­çš„å¯¼å…¥é¡ºåºæ¥è¿›è¡Œåˆ›å»ºï¼Œåå¯¼å…¥çš„ä¼šé‡å†™å…ˆå¯¼å…¥çš„ï¼Œæœ€ç»ˆå®ä¾‹åŒ–çš„å¯¹è±¡ä¼šæ˜¯åå¯¼å…¥xmlä¸­çš„é‚£ä¸ª</p><h2 id="6ã€ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰"><a href="#6ã€ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰" class="headerlink" title="6ã€ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰"></a>6ã€ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</h2><h3 id="6-1ã€æ„é€ å™¨æ³¨å…¥"><a href="#6-1ã€æ„é€ å™¨æ³¨å…¥" class="headerlink" title="6.1ã€æ„é€ å™¨æ³¨å…¥"></a>6.1ã€æ„é€ å™¨æ³¨å…¥</h3><p>ç¬¬4ç‚¹æœ‰æåˆ°</p><h3 id="6-2ã€setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"><a href="#6-2ã€setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘" class="headerlink" title="6.2ã€setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"></a>6.2ã€setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘</h3><p>ä¾èµ–æ³¨å…¥ï¼šsetæ³¨å…¥ï¼</p><ul><li>ä¾èµ–ï¼šbeanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨</li><li>æ³¨å…¥ï¼šbeanå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œç”±å®¹å™¨æ¥æ³¨å…¥</li></ul><p>ã€ç¯å¢ƒæ­å»ºã€‘</p><ol><li><p>å¤æ‚ç±»å‹</p><p> Addressç±»</p></li><li><p>çœŸå®æµ‹è¯•å¯¹è±¡</p><p> Studentç±»</p></li><li><p>beans.xml</p></li><li><p>æµ‹è¯•</p><p> MyTest3</p></li></ol><p>Studentç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">import</span> java.util.*;<span class="hljs-meta">@Get</span><span class="hljs-meta">@Set</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>{<span class="hljs-comment">//åˆ«å¿˜äº†å†™getå’Œsetæ–¹æ³•ï¼ˆç”¨lombokæ³¨è§£ä¹Ÿè¡Œï¼‰</span>    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> Address address;    <span class="hljs-keyword">private</span> String[] books;    <span class="hljs-keyword">private</span> List&lt;String&gt; hobbies;    <span class="hljs-keyword">private</span> Map&lt;String, String&gt; card;    <span class="hljs-keyword">private</span> Set&lt;String&gt; game;    <span class="hljs-keyword">private</span> Properties infor;    <span class="hljs-keyword">private</span> String wife;    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{        <span class="hljs-keyword">return</span> <span class="hljs-string">"Student{"</span> +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">", address="</span> + address.toString() +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">", books="</span> + Arrays.toString(books) +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">", hobbies="</span> + hobbies +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">", card="</span> + card +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">", game="</span> + game +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">", infor="</span> + infor +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">", wife='"</span> + wife + <span class="hljs-string">'\''</span> +<span class="hljs-string">"\n"</span>+                <span class="hljs-string">'}'</span>;    }}</code></pre></div><p>Addressç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Address</span> </span>{    <span class="hljs-keyword">private</span> String address;    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getAddress</span><span class="hljs-params">()</span> </span>{        <span class="hljs-keyword">return</span> address;    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAddress</span><span class="hljs-params">(String address)</span> </span>{        <span class="hljs-keyword">this</span>.address = address;    }    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{        <span class="hljs-keyword">return</span> <span class="hljs-string">"Address{"</span> +                <span class="hljs-string">"address='"</span> + address + <span class="hljs-string">'\''</span> +                <span class="hljs-string">'}'</span>;    }}</code></pre></div><p>beans.xml</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"address"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Address"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"address"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"addressä½ å¥½"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"student"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Student"</span>&gt;</span><span class="hljs-comment">&lt;!--ç¬¬ä¸€ç§ï¼Œæ™®é€šå€¼æ³¨å…¥ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"nameä½ å¥½"</span> /&gt;</span><span class="hljs-comment">&lt;!--ç¬¬äºŒç§ï¼Œrefæ³¨å…¥ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"address"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"address"</span> /&gt;</span><span class="hljs-comment">&lt;!--æ•°ç»„æ³¨å…¥ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"books"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ä¸‰å›½<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>è¥¿æ¸¸<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ°´æµ’<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--liståˆ—è¡¨æ³¨å…¥ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hobbies"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å”±<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>è·³<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>rap<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ç¯®çƒ<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--mapé”®å€¼å¯¹æ³¨å…¥ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"card"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--set(å¯å»é‡)æ³¨å…¥ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"game"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>wangzhe<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>lol<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>galname<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--ç©ºæŒ‡é’ˆnullæ³¨å…¥ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"wife"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">null</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">null</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--propertieså¸¸é‡æ³¨å…¥ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"infor"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"id"</span>&gt;</span>20200802<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"name"</span>&gt;</span>cbh<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>MyTest3</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<span class="hljs-keyword">import</span> pojo.Student;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest3</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"beans.xml"</span>);Student stu = (Student) context.getBean(<span class="hljs-string">"student"</span>);System.out.println(stu.toString());}}</code></pre></div><h3 id="6-3ã€æ‹“å±•æ³¨å…¥"><a href="#6-3ã€æ‹“å±•æ³¨å…¥" class="headerlink" title="6.3ã€æ‹“å±•æ³¨å…¥"></a>6.3ã€æ‹“å±•æ³¨å…¥</h3><p>å®˜æ–¹æ–‡æ¡£ä½ç½®</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDIxNDI3MTcyMTYucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200802142717216"></p><p>pojoå¢åŠ Userç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>{        }<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> id)</span> </span>{<span class="hljs-keyword">super</span>();<span class="hljs-keyword">this</span>.name = name;<span class="hljs-keyword">this</span>.id = id;}<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{<span class="hljs-keyword">return</span> name;}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{<span class="hljs-keyword">this</span>.name = name;}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>{<span class="hljs-keyword">return</span> id;}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>{<span class="hljs-keyword">this</span>.id = id;}<span class="hljs-meta">@Override</span><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{<span class="hljs-keyword">return</span> <span class="hljs-string">"User [name="</span> + name + <span class="hljs-string">", id="</span> + id + <span class="hljs-string">"]"</span>;}}</code></pre></div><p>æ³¨æ„ï¼š beans é‡Œé¢åŠ ä¸Šè¿™ä¸‹é¢ä¸¤è¡Œ</p><p>ä½¿ç”¨på’Œcå‘½åç©ºé—´éœ€è¦å¯¼å…¥xmlçº¦æŸ</p><p>xmlns:p=â€œ<a href="http://www.springframework.org/schema/pâ€" target="_blank" rel="noopener">http://www.springframework.org/schema/pâ€</a><br>xmlns:c=â€œ<a href="http://www.springframework.org/schema/câ€" target="_blank" rel="noopener">http://www.springframework.org/schema/câ€</a></p><div class="hljs"><pre><code class="hljs xml">?xml version="1.0" encoding="UTF-8"?&gt;<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"http://www.springframework.org/schema/p"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:c</span>=<span class="hljs-string">"http://www.springframework.org/schema/c"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!--på‘½åç©ºé—´æ³¨å…¥/setæ³¨å…¥ï¼Œå¯ä»¥ç›´æ¥æ³¨å…¥å±æ€§çš„å€¼-ã€‹property--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span> <span class="hljs-attr">p:name</span>=<span class="hljs-string">"cxk"</span> <span class="hljs-attr">p:id</span>=<span class="hljs-string">"20"</span> &gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!--cå‘½åç©ºé—´ï¼Œé€šè¿‡æ„é€ å™¨æ³¨å…¥ï¼Œéœ€è¦å†™å…¥æœ‰å‚å’Œæ— å‚æ„é€ æ–¹æ³•-ã€‹construct-args--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user2"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span> <span class="hljs-attr">c:name</span>=<span class="hljs-string">"cbh"</span> <span class="hljs-attr">c:id</span>=<span class="hljs-string">"22"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>æµ‹è¯•</p><div class="hljs"><pre><code class="hljs java">ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"beans.xml"</span>);User user = context.getBean(<span class="hljs-string">"user"</span>,User<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;<span class="hljs-comment">//ç¡®å®šclasså¯¹è±¡ï¼Œå°±ä¸ç”¨å†å¼ºè½¬äº†</span>System.out.println(user.toString());</code></pre></div><h3 id="6-4ã€Beanä½œç”¨åŸŸ"><a href="#6-4ã€Beanä½œç”¨åŸŸ" class="headerlink" title="6.4ã€Beanä½œç”¨åŸŸ"></a>6.4ã€Beanä½œç”¨åŸŸ</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDIxNDM0MDExNjUucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200802143401165"></p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDIxNDMzNDI1ODYucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200802143342586"></p><ol><li><p>å•ä¾‹æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user2"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span> <span class="hljs-attr">c:name</span>=<span class="hljs-string">"cxk"</span> <span class="hljs-attr">c:age</span>=<span class="hljs-string">"19"</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"singleton"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div></li></ol><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDIxNDM4MDIwMDUucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200802143802005"><br>å¼¹å¹•è¯„è®ºï¼šå•ä¾‹æ¨¡å¼æ˜¯æŠŠå¯¹è±¡æ”¾åœ¨poolä¸­ï¼Œéœ€è¦å†å–å‡ºæ¥ï¼Œä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹</p><ol><li><p>åŸå‹æ¨¡å¼: æ¯æ¬¡ä»å®¹å™¨ä¸­getçš„æ—¶å€™ï¼Œéƒ½äº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡ï¼</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user2"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.User"</span> <span class="hljs-attr">c:name</span>=<span class="hljs-string">"cxk"</span> <span class="hljs-attr">c:age</span>=<span class="hljs-string">"19"</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"prototype"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div></li></ol><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDIxNDM4MjYyMjcucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200802143826227"></p><ol><li>å…¶ä½™çš„requestã€sessionã€applicationè¿™äº›åªèƒ½åœ¨webå¼€æ”¾ä¸­ä½¿ç”¨ï¼</li></ol><h2 id="7ã€Beançš„è‡ªåŠ¨è£…é…"><a href="#7ã€Beançš„è‡ªåŠ¨è£…é…" class="headerlink" title="7ã€Beançš„è‡ªåŠ¨è£…é…"></a>7ã€Beançš„è‡ªåŠ¨è£…é…</h2><ul><li>è‡ªåŠ¨è£…é…æ˜¯Springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹å¼</li><li>Springä¼šåœ¨ä¸Šä¸‹æ–‡è‡ªåŠ¨å¯»æ‰¾ï¼Œå¹¶è‡ªåŠ¨ç»™beanè£…é…å±æ€§</li></ul><p>åœ¨Springä¸­æœ‰ä¸‰ç§è£…é…çš„æ–¹å¼</p><ol><li><p>åœ¨xmlä¸­æ˜¾ç¤ºé…ç½®</p></li><li><p>åœ¨javaä¸­æ˜¾ç¤ºé…ç½®</p></li><li><p>éšå¼çš„è‡ªåŠ¨è£…é…bean ã€é‡è¦ã€‘</p></li><li><p>ç¯å¢ƒæ­å»ºï¼šä¸€ä¸ªäººæœ‰ä¸¤ä¸ªå® ç‰©</p></li><li><p>byTypeè‡ªåŠ¨è£…é…ï¼šbyTypeä¼šè‡ªåŠ¨æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•å‚æ•°çš„ç±»å‹ç›¸åŒçš„bean</p><p> ä¿è¯æ‰€æœ‰çš„classå”¯ä¸€(ç±»ä¸ºå…¨å±€å”¯ä¸€)</p></li><li><p>byNameè‡ªåŠ¨è£…é…ï¼šbyNameä¼šè‡ªåŠ¨æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setå¯¹åº”çš„å€¼å¯¹åº”çš„id</p><p> ä¿è¯æ‰€æœ‰idå”¯ä¸€ï¼Œå¹¶ä¸”å’Œsetæ³¨å…¥çš„å€¼ä¸€è‡´</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- æ‰¾ä¸åˆ°idå’Œå¤šä¸ªç›¸åŒclass --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"cat1"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Cat"</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"cat2"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Cat"</span>/&gt;</span>æ‰¾ä¸åˆ° id=catï¼Œä¸”æœ‰ä¸¤ä¸ªCat</code></pre></div></li></ol><h3 id="7-1æµ‹è¯•ï¼šè‡ªåŠ¨è£…é…"><a href="#7-1æµ‹è¯•ï¼šè‡ªåŠ¨è£…é…" class="headerlink" title="7.1æµ‹è¯•ï¼šè‡ªåŠ¨è£…é…"></a>7.1æµ‹è¯•ï¼šè‡ªåŠ¨è£…é…</h3><p>pojoçš„Catç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cat</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shut</span><span class="hljs-params">()</span></span>{        System.out.println(<span class="hljs-string">"miao"</span>);    }}</code></pre></div><p>pojoçš„Dogç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shut</span><span class="hljs-params">()</span></span>{        System.out.println(<span class="hljs-string">"wow"</span>);    }}</code></pre></div><p>pojoçš„Peopleç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>{        <span class="hljs-keyword">private</span> Cat cat;    <span class="hljs-keyword">private</span> Dog dog;    <span class="hljs-keyword">private</span> String name;    <span class="hljs-function"><span class="hljs-keyword">public</span> Cat <span class="hljs-title">getCat</span><span class="hljs-params">()</span> </span>{        <span class="hljs-keyword">return</span> cat;    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCat</span><span class="hljs-params">(Cat cat)</span> </span>{        <span class="hljs-keyword">this</span>.cat = cat;    }    <span class="hljs-function"><span class="hljs-keyword">public</span> Dog <span class="hljs-title">getDog</span><span class="hljs-params">()</span> </span>{        <span class="hljs-keyword">return</span> dog;    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDog</span><span class="hljs-params">(Dog dog)</span> </span>{        <span class="hljs-keyword">this</span>.dog = dog;    }    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{        <span class="hljs-keyword">return</span> name;    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{        <span class="hljs-keyword">this</span>.name = name;    }    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{        <span class="hljs-keyword">return</span> <span class="hljs-string">"People{"</span> +                <span class="hljs-string">"cat="</span> + cat +                <span class="hljs-string">", dog="</span> + dog +                <span class="hljs-string">", name='"</span> + name + <span class="hljs-string">'\''</span> +                <span class="hljs-string">'}'</span>;    }}</code></pre></div><p>xmlé…ç½® -&gt; byType è‡ªåŠ¨è£…é…</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"cat"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Cat"</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dog"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Dog"</span>/&gt;</span>        <span class="hljs-comment">&lt;!--byTypeä¼šåœ¨å®¹å™¨è‡ªåŠ¨æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡å±æ€§ç›¸åŒçš„bean</span><span class="hljs-comment">ä¾‹å¦‚ï¼ŒDog dog; é‚£ä¹ˆå°±ä¼šæŸ¥æ‰¾pojoçš„Dogç±»ï¼Œå†è¿›è¡Œè‡ªåŠ¨è£…é…</span><span class="hljs-comment">--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"people"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.People"</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">"byType"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"cbh"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>xmlé…ç½® -&gt; byName è‡ªåŠ¨è£…é…</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"cat"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Cat"</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dog"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.Dog"</span>/&gt;</span><span class="hljs-comment">&lt;!--bynameä¼šåœ¨å®¹å™¨è‡ªåŠ¨æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•çš„setåé¢çš„å€¼å¯¹åº”çš„id</span><span class="hljs-comment">  ä¾‹å¦‚:setDog()ï¼Œå–setåé¢çš„å­—ç¬¦ä½œä¸ºidï¼Œåˆ™è¦id = dog æ‰å¯ä»¥è¿›è¡Œè‡ªåŠ¨è£…é…</span><span class="hljs-comment">  </span><span class="hljs-comment"> --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"people"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pojo.People"</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">"byName"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"cbh"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div><p>å¼¹å¹•è¯„è®ºï¼šbyNameåªèƒ½å–åˆ°å°å†™ï¼Œå¤§å†™å–ä¸åˆ°</p><h3 id="7-2ã€ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"><a href="#7-2ã€ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…" class="headerlink" title="7.2ã€ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"></a>7.2ã€ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…</h3><p>jdk1.5æ”¯æŒçš„æ³¨è§£ï¼Œspring2.5æ”¯æŒçš„æ³¨è§£</p><p>The introduction of annotation-based configuration raised the question of whether this approach is â€œbetterâ€ than XML.ï¼ˆç¿»è¯‘ï¼šåŸºäºæ³¨é‡Šçš„é…ç½®çš„å¼•å…¥æå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼Œå³è¿™ç§æ–¹æ³•æ˜¯å¦æ¯”XMLâ€œæ›´å¥½â€ï¼‰</p><ol><li>å¯¼å…¥contextçº¦æŸ</li></ol><p><strong>xmlns:context=â€<a href="http://www.springframework.org/schema/context&quot;" target="_blank" rel="noopener">http://www.springframework.org/schema/context"</a></strong></p><ol><li>é…ç½®æ³¨è§£çš„æ”¯æŒï¼š&lt; context:annotation-config/&gt;</li></ol><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">    <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span></span><span class="hljs-tag">    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/context</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><h4 id="7-2-1ã€-Autowired"><a href="#7-2-1ã€-Autowired" class="headerlink" title="7.2.1ã€@Autowired"></a>7.2.1ã€@Autowired</h4><p><strong>é»˜è®¤æ˜¯byTypeæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyName</strong></p><p>åœ¨å±æ€§ä¸Šä¸ªä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨setä¸Šä½¿ç”¨</p><p>æˆ‘ä»¬å¯ä»¥ä¸ç”¨ç¼–å†™setæ–¹æ³•äº†ï¼Œå‰ææ˜¯è‡ªåŠ¨è£…é…çš„å±æ€§åœ¨Springå®¹å™¨é‡Œï¼Œä¸”è¦ç¬¦åˆByName è‡ªåŠ¨è£…é…</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>{    <span class="hljs-meta">@Autowired</span>    <span class="hljs-keyword">private</span> Cat cat;    <span class="hljs-meta">@Autowired</span>    <span class="hljs-keyword">private</span> Dog dog;    <span class="hljs-keyword">private</span> String name;}</code></pre></div><blockquote><p>@Nullable å­—æ®µæ ‡è®°äº†è¿™ä¸ªæ³¨è§£ï¼Œè¯´æ˜è¯¥å­—æ®µå¯ä»¥ä¸ºç©º</p><p>public name(@Nullable String name){</p><p>}</p></blockquote><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//æºç </span><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Autowired { <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">required</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">true</span></span>; }</code></pre></div><p>å¦‚æœå®šä¹‰äº†Autowireçš„requireå±æ€§ä¸ºfalseï¼Œè¯´æ˜è¿™ä¸ªå¯¹è±¡å¯ä»¥ä¸ºnullï¼Œå¦åˆ™ä¸å…è®¸ä¸ºç©ºï¼ˆfalseè¡¨ç¤ºæ‰¾ä¸åˆ°è£…é…ï¼Œä¸æŠ›å‡ºå¼‚å¸¸ï¼‰</p><h4 id="7-2-2ã€-Autowired-Qualifier"><a href="#7-2-2ã€-Autowired-Qualifier" class="headerlink" title="7.2.2ã€@Autowired+@Qualifier"></a>7.2.2ã€@Autowired+@Qualifier</h4><p><strong>@Autowiredä¸èƒ½å”¯ä¸€è£…é…æ—¶ï¼Œéœ€è¦@Autowired+@Qualifier</strong></p><p>å¦‚æœ@Autowiredè‡ªåŠ¨è£…é…ç¯å¢ƒæ¯”è¾ƒå¤æ‚ã€‚è‡ªåŠ¨è£…é…æ— æ³•é€šè¿‡ä¸€ä¸ªæ³¨è§£å®Œæˆçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨@Qualifier(value = â€œdogâ€)å»é…åˆä½¿ç”¨ï¼ŒæŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„idå¯¹è±¡</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>{    <span class="hljs-meta">@Autowired</span>    <span class="hljs-keyword">private</span> Cat cat;    <span class="hljs-meta">@Autowired</span>    <span class="hljs-meta">@Qualifier</span>(value = <span class="hljs-string">"dog"</span>)    <span class="hljs-keyword">private</span> Dog dog;    <span class="hljs-keyword">private</span> String name;}</code></pre></div><p>å¼¹å¹•è¯„è®ºï¼š</p><p>å¦‚æœxmlæ–‡ä»¶ä¸­åŒä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªbeanä½¿ç”¨ï¼ŒAutowiredæ— æ³•æŒ‰ç±»å‹æ‰¾åˆ°ï¼Œå¯ä»¥ç”¨@QualifieræŒ‡å®šidæŸ¥æ‰¾</p><h4 id="7-2-3ã€-Resource"><a href="#7-2-3ã€-Resource" class="headerlink" title="7.2.3ã€@Resource"></a>7.2.3ã€@Resource</h4><p><strong>é»˜è®¤æ˜¯byNameæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyType</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>{    Resource(name=<span class="hljs-string">"cat"</span>)    <span class="hljs-keyword">private</span> Cat cat;    Resource(name=<span class="hljs-string">"dog"</span>)    <span class="hljs-keyword">private</span> Dog dog;    <span class="hljs-keyword">private</span> String name;}</code></pre></div><p>å¼¹å¹•è¯„è®ºï¼š</p><p>Autowiredæ˜¯byTypeï¼Œ@Autowired+@Qualifier = byType || byName</p><p>Autowiredæ˜¯å…ˆbyteType,å¦‚æœå”¯ä¸€å‰‡æ³¨å…¥ï¼Œå¦åˆ™byNameæŸ¥æ‰¾ã€‚resourceæ˜¯å…ˆbyname,ä¸ç¬¦åˆå†ç»§ç»­byType</p><h4 id="åŒºåˆ«ï¼š"><a href="#åŒºåˆ«ï¼š" class="headerlink" title="åŒºåˆ«ï¼š"></a>åŒºåˆ«ï¼š</h4><p>@Resourceå’Œ@Autowiredçš„åŒºåˆ«ï¼š</p><ul><li>éƒ½æ˜¯ç”¨æ¥è‡ªåŠ¨è£…é…çš„ï¼Œéƒ½å¯ä»¥æ”¾åœ¨å±æ€§å­—æ®µä¸Š</li><li>@Autowiredé€šè¿‡byTypeçš„æ–¹å¼å®ç°ï¼Œè€Œä¸”å¿…é¡»è¦æ±‚è¿™ä¸ªå¯¹è±¡å­˜åœ¨ï¼ã€å¸¸ç”¨ã€‘</li><li>@Resourceé»˜è®¤é€šè¿‡bynameçš„æ–¹å¼å®ç°ï¼Œå¦‚æœæ‰¾ä¸åˆ°åå­—ï¼Œåˆ™é€šè¿‡byTypeå®ç°ï¼å¦‚æœä¸¤ä¸ªéƒ½æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œå°±æŠ¥é”™ï¼ã€å¸¸ç”¨ã€‘</li><li>æ‰§è¡Œé¡ºåºä¸åŒï¼š@Autowiredé€šè¿‡byTypeçš„æ–¹å¼å®ç°ã€‚@Resourceé»˜è®¤é€šè¿‡bynameçš„æ–¹å¼å®ç°</li></ul><h2 id="8ã€ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8ã€ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8ã€ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8ã€ä½¿ç”¨æ³¨è§£å¼€å‘</h2><p>åœ¨spring4ä¹‹åï¼Œä½¿ç”¨æ³¨è§£å¼€å‘ï¼Œå¿…é¡»è¦ä¿è¯aopåŒ…çš„å¯¼å…¥<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDIyMDE5MjQ0OTAucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200802201924490"><br>ä½¿ç”¨æ³¨è§£éœ€è¦å¯¼å…¥contexçš„çº¦æŸ</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">    <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span></span><span class="hljs-tag">    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/context</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><h3 id="8-1ã€bean"><a href="#8-1ã€bean" class="headerlink" title="8.1ã€bean"></a>8.1ã€bean</h3><p>å¼¹å¹•è¯„è®ºï¼š<br>æœ‰äº†&lt; context:component-scan&gt;ï¼Œå¦ä¸€ä¸ª&lt; context:annotation-config/&gt;æ ‡ç­¾å¯ä»¥ç§»é™¤æ‰ï¼Œå› ä¸ºå·²ç»è¢«åŒ…å«è¿›å»äº†ã€‚</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æŒ‡å®šè¦æ‰«æçš„åŒ…ï¼Œè¿™ä¸ªåŒ…ä¸‹é¢çš„æ³¨è§£æ‰ä¼šç”Ÿæ•ˆ</span><span class="hljs-comment">åˆ«åªæ‰«ä¸€ä¸ªcom.kuang.pojoåŒ…--&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.kuang"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span>1234//@Component ç»„ä»¶//ç­‰ä»·äº<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">classs</span>"<span class="hljs-attr">pojo.User</span>"/&gt;</span> @Componentpublic class User {       public String name ="ç§¦ç–†";}</code></pre></div><h3 id="8-2ã€å±æ€§å¦‚ä½•æ³¨å…¥-value"><a href="#8-2ã€å±æ€§å¦‚ä½•æ³¨å…¥-value" class="headerlink" title="8.2ã€å±æ€§å¦‚ä½•æ³¨å…¥@value"></a>8.2ã€å±æ€§å¦‚ä½•æ³¨å…¥@value</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{     <span class="hljs-comment">//ç›¸å½“äº&lt;property name="name" value="kuangshen"/&gt; </span>    <span class="hljs-meta">@value</span>(<span class="hljs-string">"kuangshen"</span>)     <span class="hljs-keyword">public</span> String name;         <span class="hljs-comment">//ä¹Ÿå¯ä»¥æ”¾åœ¨setæ–¹æ³•ä¸Šé¢</span>    <span class="hljs-comment">//@value("kuangshen")</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{         <span class="hljs-keyword">this</span>.name = name;     }}</code></pre></div><h3 id="8-3ã€è¡ç”Ÿçš„æ³¨è§£"><a href="#8-3ã€è¡ç”Ÿçš„æ³¨è§£" class="headerlink" title="8.3ã€è¡ç”Ÿçš„æ³¨è§£"></a>8.3ã€è¡ç”Ÿçš„æ³¨è§£</h3><p>@Componentæœ‰å‡ ä¸ªè¡ç”Ÿæ³¨è§£ï¼Œä¼šæŒ‰ç…§webå¼€å‘ä¸­ï¼Œmvcæ¶æ„ä¸­åˆ†å±‚ã€‚</p><ul><li>dao ï¼ˆ@Repositoryï¼‰</li><li>serviceï¼ˆ@Serviceï¼‰</li><li>controllerï¼ˆ@Controllerï¼‰</li></ul><p><strong>è¿™å››ä¸ªæ³¨è§£çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä»£è¡¨å°†æŸä¸ªç±»æ³¨å†Œåˆ°å®¹å™¨ä¸­</strong></p><h3 id="8-4ã€è‡ªåŠ¨è£…é…ç½®"><a href="#8-4ã€è‡ªåŠ¨è£…é…ç½®" class="headerlink" title="8.4ã€è‡ªåŠ¨è£…é…ç½®"></a>8.4ã€è‡ªåŠ¨è£…é…ç½®</h3><p>@Autowiredï¼šé»˜è®¤æ˜¯byTypeæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyName</p><p>@Nullableï¼šå­—æ®µæ ‡è®°äº†è¿™ä¸ªæ³¨è§£ï¼Œè¯´æ˜è¯¥å­—æ®µå¯ä»¥ä¸ºç©º</p><p>@Resourceï¼šé»˜è®¤æ˜¯byNameæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyType</p><h3 id="8-5ã€ä½œç”¨åŸŸ-scope"><a href="#8-5ã€ä½œç”¨åŸŸ-scope" class="headerlink" title="8.5ã€ä½œç”¨åŸŸ@scope"></a>8.5ã€ä½œç”¨åŸŸ@scope</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//åŸå‹æ¨¡å¼prototypeï¼Œå•ä¾‹æ¨¡å¼singleton</span><span class="hljs-comment">//scope("prototype")ç›¸å½“äº&lt;bean scope="prototype"&gt;&lt;/bean&gt;</span><span class="hljs-meta">@Component</span> <span class="hljs-meta">@scope</span>(<span class="hljs-string">"prototype"</span>)<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{         <span class="hljs-comment">//ç›¸å½“äº&lt;property name="name" value="kuangshen"/&gt; </span>    <span class="hljs-meta">@value</span>(<span class="hljs-string">"kuangshen"</span>)     <span class="hljs-keyword">public</span> String name;         <span class="hljs-comment">//ä¹Ÿå¯ä»¥æ”¾åœ¨setæ–¹æ³•ä¸Šé¢</span>    <span class="hljs-meta">@value</span>(<span class="hljs-string">"kuangshen"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{         <span class="hljs-keyword">this</span>.name = name;     }}</code></pre></div><h3 id="8-6ã€å°ç»“"><a href="#8-6ã€å°ç»“" class="headerlink" title="8.6ã€å°ç»“"></a>8.6ã€å°ç»“</h3><p><strong>xmlä¸æ³¨è§£ï¼š</strong></p><ul><li>xmlæ›´åŠ ä¸‡èƒ½ï¼Œç»´æŠ¤ç®€å•ï¼Œé€‚ç”¨äºä»»ä½•åœºåˆ</li><li>æ³¨è§£ï¼Œä¸æ˜¯è‡ªå·±çš„ç±»ä½¿ç”¨ä¸äº†ï¼Œç»´æŠ¤å¤æ‚</li></ul><p><strong>æœ€ä½³å®è·µï¼š</strong></p><ul><li>xmlç”¨æ¥ç®¡ç†bean</li><li>æ³¨è§£åªç”¨æ¥å®Œæˆå±æ€§çš„æ³¨å…¥</li><li>è¦å¼€å¯æ³¨è§£æ”¯æŒ</li></ul><h2 id="9ã€ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring"><a href="#9ã€ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring" class="headerlink" title="9ã€ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring"></a>9ã€ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring</h2><p>ä¸ä½¿ç”¨Springçš„xmlé…ç½®ï¼Œå®Œå…¨äº¤ç»™javaæ¥åšï¼</p><p>Springçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œåœ¨spring4ä¹‹åï¼Œï¼Œï¼Œå®ƒæˆä¸ºäº†æ ¸å¿ƒåŠŸèƒ½</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDIyMTU3NTI4NjgucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200802215752868"><br><strong>å®ä½“ç±»ï¼špojoçš„User.java</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//è¿™é‡Œè¿™ä¸ªæ³¨è§£çš„æ„æ€,å°±æ˜¯è¯´æ˜è¿™ä¸ªç±»è¢«Springæ¥ç®¡äº†,æ³¨å†Œåˆ°äº†å®¹å™¨ä¸­ </span><span class="hljs-meta">@component</span> <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{     <span class="hljs-keyword">private</span> String name;        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{     <span class="hljs-keyword">return</span> name;     }     <span class="hljs-comment">//å±æ€§æ³¨å…¥å€¼</span>    <span class="hljs-meta">@value</span>(<span class="hljs-string">"QINJIANG')  </span><span class="hljs-string">    public void setName(String name) { </span><span class="hljs-string">    this.name = name; </span><span class="hljs-string">    } </span><span class="hljs-string">    @Override </span><span class="hljs-string">    public String toString() { </span><span class="hljs-string">        return "</span>user{<span class="hljs-string">" + </span><span class="hljs-string">        "</span>name=<span class="hljs-string">'" + name + '</span>\<span class="hljs-string">''</span>+         <span class="hljs-string">'}'</span>;     } }</code></pre></div><p>å¼¹å¹•è¯„è®ºï¼šè¦ä¹ˆä½¿ç”¨@Beanï¼Œè¦ä¹ˆä½¿ç”¨@Componentå’ŒComponentScanï¼Œä¸¤ç§æ•ˆæœä¸€æ ·</p><p><strong>é…ç½®æ–‡ä»¶ï¼šconfigä¸­çš„kuang.java</strong></p><p>@Import(KuangConfig2.class)ï¼Œç”¨@importæ¥åŒ…å«KuangConfig2.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//è¿™ä¸ªä¹Ÿä¼šSpringå®¹å™¨æ‰˜ç®¡,æ³¨å†Œåˆ°å®¹å™¨ä¸­,å› ä¸ºä»–æœ¬ç±³å°±æ˜¯ä¸€ä¸ª@Component </span><span class="hljs-comment">// @Configurationè¡¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»,å°±åƒæˆ‘ä»¬ä¹‹å‰çœ‹çš„beans.xmlï¼Œç±»ä¼¼äº&lt;beans&gt;æ ‡ç­¾</span><span class="hljs-meta">@Configuration</span> <span class="hljs-meta">@componentScan</span>(<span class="hljs-string">"com.Kuang.pojo"</span>) <span class="hljs-comment">//å¼€å¯æ‰«æ</span><span class="hljs-comment">//@Import(KuangConfig2.class)</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KuangConfig</span> </span>{     <span class="hljs-comment">//æ³¨å†Œä¸€ä¸ªbean , å°±ç›¸å½“äºæˆ‘ä»¬ä¹‹å‰å†™çš„ä¸€ä¸ªbean æ ‡ç­¾ </span>    <span class="hljs-comment">//è¿™ä¸ªæ–¹æ³•çš„åå­—,å°±ç›¸å½“äºbean æ ‡ç­¾ä¸­çš„ id å±æ€§ -&gt;getUser</span>    <span class="hljs-comment">//è¿™ä¸ªæ–¹æ³•çš„è¿”åŒå€¼,å°±ç›¸å½“äºbean æ ‡ç­¾ä¸­çš„class å±æ€§ -&gt;User</span>        <span class="hljs-comment">//@Bean </span>    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">getUser</span><span class="hljs-params">()</span></span>{     <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> User(); <span class="hljs-comment">//å°±æ˜¯è¿”å›è¦æ³¨å…¥åˆ°beançš„å¯¹è±¡! </span>    } }</code></pre></div><p>å¼¹å¹•è¯„è®ºï¼šComponentScanã€@Component(â€œpojoâ€) è¿™ä¸¤ä¸ªæ³¨è§£é…åˆä½¿ç”¨</p><p><strong>æµ‹è¯•ç±»</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>{     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[ ] args)</span> </span>{     <span class="hljs-comment">//å¦‚æœå®Œå…¨ä½¿ç”¨äº†é…ç½®ç±»æ–¹å¼å»åš,æˆ‘ä»¬å°±åªèƒ½é€šè¿‡ Annotationconfig ä¸Šä¸‹æ–‡æ¥è·å–å®¹å™¨,é€šè¿‡é…ç½®ç±»çš„classå¯¹è±¡åŠ è½½! </span>    ApplicationContext context = <span class="hljs-keyword">new</span> AnnotationConfigApplicationContext(KuangConfig.Class); <span class="hljs-comment">//classå¯¹è±¡</span>    User getUser =(User)context.getBean( <span class="hljs-string">"getUser"</span>); <span class="hljs-comment">//æ–¹æ³•ågetUser</span>    System.out.Println(getUser.getName());     } }</code></pre></div><p><strong>ä¼šåˆ›å»ºä¸¤ä¸ªç›¸åŒå¯¹è±¡é—®é¢˜çš„è¯´æ˜ï¼š</strong></p><p><strong>å¼¹å¹•æ€»ç»“ - -&gt; @Beanæ˜¯ç›¸å½“äº&lt; bean&gt;æ ‡ç­¾åˆ›å»ºçš„å¯¹è±¡ï¼Œè€Œæˆ‘ä»¬ä¹‹å‰å­¦çš„@Componentæ˜¯é€šè¿‡springè‡ªåŠ¨åˆ›å»ºçš„è¿™ä¸ªè¢«æ³¨è§£å£°æ˜çš„å¯¹è±¡ï¼Œæ‰€ä»¥è¿™é‡Œç›¸å½“äºæœ‰ä¸¤ä¸ªUserå¯¹è±¡è¢«åˆ›å»ºäº†ã€‚ä¸€ä¸ªæ˜¯beanæ ‡ç­¾åˆ›å»ºçš„ï¼ˆ@Beanï¼‰ï¼Œä¸€ä¸ªæ˜¯é€šè¿‡æ‰«æç„¶åä½¿ç”¨@Componentï¼Œspringè‡ªåŠ¨åˆ›å»ºçš„Userå¯¹è±¡ï¼Œæ‰€ä»¥è¿™é‡Œå»æ‰@Beanè¿™äº›ä¸œè¥¿ï¼Œç„¶åå¼€å¯æ‰«æã€‚ä¹‹ååœ¨Userå¤´ä¸Šç”¨@Componentå³å¯è¾¾åˆ°springè‡ªåŠ¨åˆ›å»ºUserå¯¹è±¡äº†</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//è¿™ä¸ªä¹Ÿä¼šSpringå®¹å™¨æ‰˜ç®¡,æ³¨å†Œåˆ°å®¹å™¨ä¸­,å› ä¸ºä»–æœ¬ç±³å°±æ˜¯ä¸€ä¸ª@Component </span><span class="hljs-comment">// @Configurationè¡¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»,å°±åƒæˆ‘ä»¬ä¹‹å‰çœ‹çš„beans.xmlï¼Œç±»ä¼¼äº&lt;beans&gt;æ ‡ç­¾</span><span class="hljs-meta">@Configuration</span> <span class="hljs-meta">@componentScan</span>(<span class="hljs-string">"com.Kuang.pojo"</span>) <span class="hljs-comment">//å¼€å¯æ‰«æ</span><span class="hljs-comment">//@Import(KuangConfig2.class)</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KuangConfig</span> </span>{     <span class="hljs-comment">//æ³¨å†Œä¸€ä¸ªbean , å°±ç›¸å½“äºæˆ‘ä»¬ä¹‹å‰å†™çš„ä¸€ä¸ªbean æ ‡ç­¾ </span>    <span class="hljs-comment">//è¿™ä¸ªæ–¹æ³•çš„åå­—,å°±ç›¸å½“äºbean æ ‡ç­¾ä¸­çš„ id å±æ€§ -&gt;getUser</span>    <span class="hljs-comment">//è¿™ä¸ªæ–¹æ³•çš„è¿”åŒå€¼,å°±ç›¸å½“äºbean æ ‡ç­¾ä¸­çš„class å±æ€§ -&gt;User</span>        <span class="hljs-comment">//@Bean </span>    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">getUser</span><span class="hljs-params">()</span></span>{     <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> User(); <span class="hljs-comment">//å°±æ˜¯è¿”å›è¦æ³¨å…¥åˆ°beançš„å¯¹è±¡! </span>    } }</code></pre></div><p>å¼¹å¹•è¯„è®ºï¼šComponentScanã€@Component(â€œpojoâ€) è¿™ä¸¤ä¸ªæ³¨è§£é…åˆä½¿ç”¨</p><p><strong>æµ‹è¯•ç±»</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>{     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[ ] args)</span> </span>{     <span class="hljs-comment">//å¦‚æœå®Œå…¨ä½¿ç”¨äº†é…ç½®ç±»æ–¹å¼å»åš,æˆ‘ä»¬å°±åªèƒ½é€šè¿‡ Annotationconfig ä¸Šä¸‹æ–‡æ¥è·å–å®¹å™¨,é€šè¿‡é…ç½®ç±»çš„classå¯¹è±¡åŠ è½½! </span>    ApplicationContext context = <span class="hljs-keyword">new</span> AnnotationConfigApplicationContext(KuangConfig.Class); <span class="hljs-comment">//classå¯¹è±¡</span>    User getUser =(User)context.getBean( <span class="hljs-string">"getUser"</span>); <span class="hljs-comment">//æ–¹æ³•ågetUser</span>    System.out.Println(getUser.getName());     } }</code></pre></div><p><strong>ä¼šåˆ›å»ºä¸¤ä¸ªç›¸åŒå¯¹è±¡é—®é¢˜çš„è¯´æ˜ï¼š</strong></p><p><strong>å¼¹å¹•æ€»ç»“ - -&gt; @Beanæ˜¯ç›¸å½“äº&lt; bean&gt;æ ‡ç­¾åˆ›å»ºçš„å¯¹è±¡ï¼Œè€Œæˆ‘ä»¬ä¹‹å‰å­¦çš„@Componentæ˜¯é€šè¿‡springè‡ªåŠ¨åˆ›å»ºçš„è¿™ä¸ªè¢«æ³¨è§£å£°æ˜çš„å¯¹è±¡ï¼Œæ‰€ä»¥è¿™é‡Œç›¸å½“äºæœ‰ä¸¤ä¸ªUserå¯¹è±¡è¢«åˆ›å»ºäº†ã€‚ä¸€ä¸ªæ˜¯beanæ ‡ç­¾åˆ›å»ºçš„ï¼ˆ@Beanï¼‰ï¼Œä¸€ä¸ªæ˜¯é€šè¿‡æ‰«æç„¶åä½¿ç”¨@Componentï¼Œspringè‡ªåŠ¨åˆ›å»ºçš„Userå¯¹è±¡ï¼Œæ‰€ä»¥è¿™é‡Œå»æ‰@Beanè¿™äº›ä¸œè¥¿ï¼Œç„¶åå¼€å¯æ‰«æã€‚ä¹‹ååœ¨Userå¤´ä¸Šç”¨@Componentå³å¯è¾¾åˆ°springè‡ªåŠ¨åˆ›å»ºUserå¯¹è±¡äº†</strong></p><h2 id="10ã€ä»£ç†æ¨¡å¼"><a href="#10ã€ä»£ç†æ¨¡å¼" class="headerlink" title="10ã€ä»£ç†æ¨¡å¼"></a>10ã€ä»£ç†æ¨¡å¼</h2><p>ä¸ºä»€ä¹ˆè¦å­¦ä»£ç†æ¨¡å¼ï¼Ÿ</p><p>å› ä¸ºè¿™ä¸ªå°±æ˜¯SpringAOPçš„åº•å±‚ï¼ã€SpringAOP å’Œ SpringMVCã€‘</p><p>åˆ†ç±»ï¼š</p><ul><li>åŠ¨æ€ä»£ç†</li><li>é™æ€ä»£ç†</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMDE0Mjc4NDYucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803101427846"></p><h3 id="10-1ã€é™æ€ä»£ç†"><a href="#10-1ã€é™æ€ä»£ç†" class="headerlink" title="10.1ã€é™æ€ä»£ç†"></a>10.1ã€é™æ€ä»£ç†</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMDE2MjE4NjgucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803101621868"><br>ä»£ç æ­¥éª¤ï¼š</p><p>1ã€æ¥å£</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Host</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rent</span><span class="hljs-params">()</span></span>;}</code></pre></div><p>2ã€çœŸå®è§’è‰²</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HostMaster</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Host</span></span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rent</span><span class="hljs-params">()</span> </span>{System.out.println(<span class="hljs-string">"æˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­"</span>);}}</code></pre></div><p>3ã€ä»£ç†è§’è‰²</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Proxy</span> </span>{<span class="hljs-keyword">public</span> Host host;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Proxy</span><span class="hljs-params">()</span> </span>{}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Proxy</span><span class="hljs-params">(Host host)</span> </span>{<span class="hljs-keyword">super</span>();<span class="hljs-keyword">this</span>.host = host;}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rent</span><span class="hljs-params">()</span> </span>{seeHouse();host.rent();fee();sign();}<span class="hljs-comment">//çœ‹æˆ¿</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">seeHouse</span><span class="hljs-params">()</span> </span>{System.out.println(<span class="hljs-string">"çœ‹æˆ¿å­"</span>);}<span class="hljs-comment">//æ”¶è´¹</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">fee</span><span class="hljs-params">()</span> </span>{System.out.println(<span class="hljs-string">"æ”¶ä¸­ä»‹è´¹"</span>);}<span class="hljs-comment">//åˆåŒ</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sign</span><span class="hljs-params">()</span> </span>{System.out.println(<span class="hljs-string">"ç­¾åˆåŒ"</span>);}}</code></pre></div><p>4ã€å®¢æˆ·ç«¯è®¿é—®ä»£ç†è§’è‰²</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> holle4_proxy;<span class="hljs-keyword">import</span> pojo.Host;<span class="hljs-keyword">import</span> pojo.HostMaster;<span class="hljs-keyword">import</span> pojo.Proxy;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">My</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<span class="hljs-comment">//æˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­</span>Host host = <span class="hljs-keyword">new</span> HostMaster();<span class="hljs-comment">//ä¸­ä»‹å¸®æˆ¿ä¸œå‡ºç§Ÿæˆ¿å­ï¼Œä½†ä¹Ÿæ”¶å–ä¸€å®šè´¹ç”¨ï¼ˆå¢åŠ ä¸€äº›æˆ¿ä¸œä¸åšçš„æ“ä½œï¼‰</span>Proxy proxy = <span class="hljs-keyword">new</span> Proxy(host);<span class="hljs-comment">//çœ‹ä¸åˆ°æˆ¿ä¸œï¼Œä½†é€šè¿‡ä»£ç†ï¼Œè¿˜æ˜¯ç§Ÿåˆ°äº†æˆ¿å­</span>proxy.rent();}}</code></pre></div><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMDUyMjk0NzgucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803105229478"><br>ä»£ç ç¿»å€ï¼šå‡ åä¸ªçœŸå®è§’è‰²å°±å¾—å†™å‡ åä¸ªä»£ç†</p><p>AOPæ¨ªå‘å¼€å‘</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMTE1Mzk2MjEucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803111539621"></p><h3 id="10-2ã€åŠ¨æ€ä»£ç†"><a href="#10-2ã€åŠ¨æ€ä»£ç†" class="headerlink" title="10.2ã€åŠ¨æ€ä»£ç†"></a>10.2ã€åŠ¨æ€ä»£ç†</h3><p>åŠ¨æ€ä»£ç†å’Œé™æ€è§’è‰²ä¸€æ ·ï¼ŒåŠ¨æ€ä»£ç†åº•å±‚æ˜¯åå°„æœºåˆ¶</p><p>åŠ¨æ€ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸æ˜¯æˆ‘ä»¬ç›´æ¥å†™å¥½çš„ï¼</p><p>åŠ¨æ€ä»£ç†(ä¸¤å¤§ç±»)ï¼šåŸºäºæ¥å£ï¼ŒåŸºäºç±»</p><ul><li>åŸºäºæ¥å£ï¼šJDKçš„åŠ¨æ€ä»£ç†ã€ä½¿ç”¨ingã€‘</li><li>åŸºäºç±»ï¼šcglib</li><li>javaå­—èŠ‚ç å®ç°ï¼šjavasisit</li></ul><p>äº†è§£ä¸¤ä¸ªç±»<br>1ã€Proxyï¼šä»£ç†<br>2ã€InvocationHandlerï¼šè°ƒç”¨å¤„ç†ç¨‹åº<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMTI2MTk4NjgucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803112619868"></p><p>å®ä¾‹ï¼š</p><p>æ¥å£ Host.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//æ¥å£</span><span class="hljs-keyword">package</span> pojo2;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Host</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rent</span><span class="hljs-params">()</span></span>;}</code></pre></div><p>æ¥å£Hostå®ç°ç±» HostMaster.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//æ¥å£å®ç°ç±»</span><span class="hljs-keyword">package</span> pojo2;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HostMaster</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Host</span></span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rent</span><span class="hljs-params">()</span> </span>{System.out.println(<span class="hljs-string">"æˆ¿ä¸œè¦ç§Ÿæˆ¿å­"</span>);}}</code></pre></div><p>ä»£ç†è§’è‰²çš„å¤„ç†ç¨‹åºç±» ProxyInvocationHandler.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo2;<span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;<span class="hljs-keyword">import</span> java.lang.reflect.Method;<span class="hljs-keyword">import</span> java.lang.reflect.Proxy;<span class="hljs-comment">///ç”¨è¿™ä¸ªç±»ï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç†</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProxyInvocationHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">InvocationHandler</span> </span>{<span class="hljs-comment">// Foo f =(Foo) Proxy.NewProxyInstance(Foo. Class.GetClassLoader(),</span><span class="hljs-comment">// new Class&lt;?&gt;[] { Foo.Class },</span><span class="hljs-comment">// handler);</span><span class="hljs-comment">// è¢«ä»£ç†çš„æ¥å£</span><span class="hljs-keyword">public</span> HostMaster hostMaster ;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setHostMaster</span><span class="hljs-params">(HostMaster hostMaster)</span> </span>{<span class="hljs-keyword">this</span>.hostMaster = hostMaster;}<span class="hljs-comment">// å¾—åˆ°ç”Ÿæˆçš„ä»£ç†ç±» </span><span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">getProxy</span><span class="hljs-params">()</span> </span>{<span class="hljs-comment">// newProxyInstance() -&gt; ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œå°±ä¸ç”¨å†å†™å…·ä½“çš„ä»£ç†ç±»äº†</span><span class="hljs-comment">// this.getClass().getClassLoader() -&gt; æ‰¾åˆ°åŠ è½½ç±»çš„ä½ç½®</span><span class="hljs-comment">// hostMaster.getClass().getInterfaces() -&gt; ä»£ç†çš„å…·ä½“æ¥å£</span><span class="hljs-comment">// this -&gt; ä»£è¡¨äº†æ¥å£InvocationHandlerçš„å®ç°ç±»ProxyInvocationHandler</span><span class="hljs-keyword">return</span> Proxy.newProxyInstance(<span class="hljs-keyword">this</span>.getClass().getClassLoader(), hostMaster.getClass().getInterfaces(), <span class="hljs-keyword">this</span>);<span class="hljs-comment">// å¤„ç†ä»£ç†å®ä¾‹å¹¶è¿”å›ç»“æœ</span><span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable </span>{seeHouse();<span class="hljs-comment">// åŠ¨æ€ä»£ç†çš„æœ¬è´¨ï¼Œå°±æ˜¯ä½¿ç”¨åå°„æœºåˆ¶å®ç°çš„</span>        <span class="hljs-comment">// invoke()æ‰§è¡Œå®ƒçœŸæ­£è¦æ‰§è¡Œçš„æ–¹æ³•</span>Object result = method.invoke(hostMaster, args);fee();<span class="hljs-keyword">return</span> result;}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">seeHouse</span><span class="hljs-params">()</span> </span>{System.out.println(<span class="hljs-string">"çœ‹æˆ¿å­"</span>);}<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">fee</span><span class="hljs-params">()</span> </span>{System.out.println(<span class="hljs-string">"æ”¶ä¸­ä»‹è´¹"</span>);}}</code></pre></div><p>ç”¨æˆ·ç±» My2.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> holle4_proxy;<span class="hljs-keyword">import</span> pojo2.Host;<span class="hljs-keyword">import</span> pojo2.Host2;<span class="hljs-keyword">import</span> pojo2.HostMaster;<span class="hljs-keyword">import</span> pojo2.ProxyInvocationHandler;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">My2</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{        <span class="hljs-comment">//çœŸå®è§’è‰²</span>HostMaster hostMaster = <span class="hljs-keyword">new</span> HostMaster();        <span class="hljs-comment">//ä»£ç†è§’è‰²ï¼Œç°åœ¨æ²¡æœ‰ï¼›ç”¨ä»£ç†è§’è‰²çš„å¤„ç†ç¨‹åºæ¥å®ç°Hostæ¥å£çš„è°ƒç”¨</span>ProxyInvocationHandler pih = <span class="hljs-keyword">new</span> ProxyInvocationHandler();                <span class="hljs-comment">//pih -&gt; HostMasteræ¥å£ç±» -&gt; Hostæ¥å£</span>pih.setHostMaster(hostMaster);        <span class="hljs-comment">//è·å–newProxyInstanceåŠ¨æ€ç”Ÿæˆä»£ç†ç±»</span>Host proxy = (Host) pih.getProxy();proxy.rent();}}</code></pre></div><p>å¼¹å¹•è¯„è®ºï¼š<br>ä»€ä¹ˆæ—¶å€™è°ƒç”¨invokeæ–¹æ³•çš„?<br>ä»£ç†å®ä¾‹è°ƒç”¨æ–¹æ³•æ—¶invokeæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼Œå¯ä»¥debugè¯•è¯•</p><p>æ”¹ä¸º<strong>ä¸‡èƒ½ä»£ç†ç±»</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">///ç”¨è¿™ä¸ªç±»ï¼Œè‡ªåŠ¨ç”Ÿä»£ç†</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProxyInvocationHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">InvocationHandler</span> </span>{    <span class="hljs-comment">// Foo f =(Foo) Proxy.NewProxyInstance(Foo. Class.GetClassLoader(),</span>    <span class="hljs-comment">// new Class&lt;?&gt;[] { Foo.Class },</span>    <span class="hljs-comment">// handler);</span>    <span class="hljs-comment">// è¢«ä»£ç†çš„æ¥å£</span>    <span class="hljs-keyword">public</span> Object target;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setTarget</span><span class="hljs-params">(Object target)</span> </span>{        <span class="hljs-keyword">this</span>.target = target;    }    <span class="hljs-comment">// å¾—åˆ°ç”Ÿæˆçš„ä»£ç†ç±» -&gt; å›ºå®šçš„ä»£ç </span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">getProxy</span><span class="hljs-params">()</span> </span>{        <span class="hljs-comment">// newProxyInstance() -&gt; ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œå°±ä¸ç”¨å†å†™å…·ä½“çš„ä»£ç†ç±»äº†</span>        <span class="hljs-comment">// this.getClass().getClassLoader() -&gt; æ‰¾åˆ°åŠ è½½ç±»çš„ä½ç½®</span>        <span class="hljs-comment">// hostMaster.getClass().getInterfaces() -&gt; ä»£ç†çš„å…·ä½“æ¥å£</span>        <span class="hljs-comment">// this -&gt; ä»£è¡¨äº†æ¥å£InvocationHandlerçš„å®ç°ç±»ProxyInvocationHandler</span>        <span class="hljs-keyword">return</span> Proxy.newProxyInstance(<span class="hljs-keyword">this</span>.getClass().getClassLoader(),                target.getClass().getInterfaces(), <span class="hljs-keyword">this</span>);    }    <span class="hljs-comment">// å¤„ç†ä»£ç†å®ä¾‹å¹¶è¿”å›ç»“æœ</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable </span>{        <span class="hljs-comment">//å‰ç½®é€šçŸ¥</span>        pre();        <span class="hljs-comment">//æ‰“å°æ—¥å¿—,é€šè¿‡åå°„çš„æ–¹å¼</span>        log(method.getName());        <span class="hljs-comment">// åŠ¨æ€ä»£ç†çš„æœ¬è´¨ï¼Œå°±æ˜¯ä½¿ç”¨åå°„æœºåˆ¶å®ç°çš„</span>        <span class="hljs-comment">// invoke()æ‰§è¡Œå®ƒçœŸæ­£è¦æ‰§è¡Œçš„æ–¹æ³•</span>        Object result = method.invoke(target, args);        <span class="hljs-comment">//åç½®é€šçŸ¥</span>        post();        <span class="hljs-keyword">return</span> result;    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">pre</span><span class="hljs-params">()</span> </span>{        System.out.println(<span class="hljs-string">"[å‰ç½®é€šçŸ¥]"</span>);    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">post</span><span class="hljs-params">()</span> </span>{        System.out.println(<span class="hljs-string">"[åç½®é€šçŸ¥]"</span>);    }    <span class="hljs-comment">//æ—¥å¿—æ‰“å°</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">log</span><span class="hljs-params">(String msg)</span> </span>{        System.out.println(<span class="hljs-string">"[Debug]æ‰§è¡Œäº†"</span> + msg + <span class="hljs-string">"æ–¹æ³•"</span>);    }}</code></pre></div><p>æµ‹è¯•ç±»ï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{        <span class="hljs-comment">//çœŸå®è§’è‰²</span>        UserServiceImpl userService = <span class="hljs-keyword">new</span> UserServiceImpl();        <span class="hljs-comment">//ä»£ç†è§’è‰²,ä¸å­˜åœ¨</span>        ProxyInvocationHandler proxyInvocationHandler = <span class="hljs-keyword">new</span> ProxyInvocationHandler();        <span class="hljs-comment">//è®¾ç½®è¦ä»£ç†çš„å¯¹è±¡</span>        proxyInvocationHandler.setTarget(userService);        <span class="hljs-comment">//åŠ¨æ€ç”Ÿäº§ä»£ç†ç±»</span>        UserService proxy = (UserService) proxyInvocationHandler.getProxy();        <span class="hljs-comment">//æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span>        proxy.add();    }}</code></pre></div><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMzMwMzU0ODQlMjAtJTIwJUU1JThBJUE4JUU2JTgwJTgxJUU0JUJCJUEzJUU3JTkwJTg2LnBuZw?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803133035484"></p><h2 id="11ã€AOP"><a href="#11ã€AOP" class="headerlink" title="11ã€AOP"></a>11ã€AOP</h2><h3 id="11-1ã€ä»€ä¹ˆæ˜¯AOP"><a href="#11-1ã€ä»€ä¹ˆæ˜¯AOP" class="headerlink" title="11.1ã€ä»€ä¹ˆæ˜¯AOP"></a>11.1ã€ä»€ä¹ˆæ˜¯AOP</h3><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMzQ1MDIxNjklMjAtJTIwQU9QLnBuZw?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803134502169"></p><p><img src="https://s1.ax1x.com/2020/08/28/dIUZkV.png" srcset="/blog/img/loading.gif" alt="dIUZkV.png"></p><h3 id="11-2ã€AOPåœ¨Springä¸­çš„ä½¿ç”¨"><a href="#11-2ã€AOPåœ¨Springä¸­çš„ä½¿ç”¨" class="headerlink" title="11.2ã€AOPåœ¨Springä¸­çš„ä½¿ç”¨"></a>11.2ã€AOPåœ¨Springä¸­çš„ä½¿ç”¨</h3><p>æä¾›å£°æ˜å¼äº‹åŠ¡ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰åˆ‡é¢</p><ul><li>æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼šè·¨è¶Šåº”ç”¨ç¨‹åºå¤šä¸ªæ¨¡å—çš„æ–¹æ³•æˆ–åŠŸèƒ½ã€‚å³æ˜¯ï¼Œä¸æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘æ— å…³çš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„éƒ¨åˆ†ï¼Œå°±æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚å¦‚æ—¥å¿—ï¼Œå®‰å…¨ï¼Œç¼“å­˜ï¼Œäº‹åŠ¡ç­‰ç­‰â€¦</li><li>åˆ‡é¢(Aspect)ï¼šæ¨ªåˆ‡å…³æ³¨ç‚¹ è¢«æ¨¡å—åŒ–çš„ç‰¹æ®Šå¯¹è±¡ã€‚å³ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ã€‚ï¼ˆLogç±»ï¼‰</li><li>é€šçŸ¥(Advice)ï¼šåˆ‡é¢å¿…é¡»è¦å®Œæˆçš„å·¥ä½œã€‚å³ï¼Œå®ƒæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚ï¼ˆLogç±»ä¸­çš„æ–¹æ³•ï¼‰</li><li>ç›®æ ‡(Target)ï¼šè¢«é€šçŸ¥å¯¹è±¡ã€‚ï¼ˆç”Ÿæˆçš„ä»£ç†ç±»)</li><li>ä»£ç†(Proxy)ï¼šå‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„å¯¹è±¡ã€‚ï¼ˆç”Ÿæˆçš„ä»£ç†ç±»ï¼‰</li><li>åˆ‡å…¥ç‚¹(PointCut)ï¼šåˆ‡é¢é€šçŸ¥æ‰§è¡Œçš„â€åœ°ç‚¹â€çš„å®šä¹‰ã€‚ï¼ˆæœ€åä¸¤ç‚¹ï¼šåœ¨å“ªä¸ªåœ°æ–¹æ‰§è¡Œï¼Œæ¯”å¦‚ï¼šmethod.invoke()ï¼‰</li><li>è¿æ¥ç‚¹(JointPoint)ï¼šä¸åˆ‡å…¥ç‚¹åŒ¹é…çš„æ‰§è¡Œç‚¹ã€‚</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxNTQwNDM5MDkucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803154043909"><br>SpringAOPä¸­ï¼Œé€šè¿‡Adviceå®šä¹‰æ¨ªåˆ‡é€»è¾‘ï¼ŒSpringä¸­æ”¯æŒ5ç§ç±»å‹çš„Advice:</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxMzU5Mzc0MzUucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803135937435"><br><strong>å³AOPåœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå»å¢åŠ æ–°çš„åŠŸèƒ½ã€‚</strong>ï¼ˆä»£ç†ï¼‰</p><h3 id="11-3ã€ä½¿ç”¨Springå®ç°AOP"><a href="#11-3ã€ä½¿ç”¨Springå®ç°AOP" class="headerlink" title="11.3ã€ä½¿ç”¨Springå®ç°AOP"></a>11.3ã€ä½¿ç”¨Springå®ç°AOP</h3><p>ã€é‡ç‚¹ã€‘</p><ul><li>ä½¿ç”¨AOPç»‡å…¥ï¼Œéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–åŒ…ï¼</li></ul><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div><h4 id="11-3-1ã€æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŸç”Ÿspringæ¥å£"><a href="#11-3-1ã€æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŸç”Ÿspringæ¥å£" class="headerlink" title="11.3.1ã€æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŸç”Ÿspringæ¥å£"></a>11.3.1ã€æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŸç”Ÿspringæ¥å£</h4><p>springAPIæ¥å£å®ç°</p><p>éœ€è¦å…ˆå¯¼å…¥aopçº¦æŸ</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>applicationContext.xml</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!--æ³¨å†Œbean--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"userservice"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"service.UserServiceImpl"</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"log"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"log.Log"</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"afterLog"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"log.AfterLog"</span>/&gt;</span>    <span class="hljs-comment">&lt;!--æ–¹å¼ä¸€ï¼Œä½¿ç”¨åŸç”ŸSpring APIæ¥å£--&gt;</span>    <span class="hljs-comment">&lt;!--é…ç½®aop,è¿˜éœ€è¦å¯¼å…¥aopçº¦æŸ--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span>        <span class="hljs-comment">&lt;!--åˆ‡å…¥ç‚¹ï¼šexpression:è¡¨è¾¾å¼ï¼Œexecutionï¼ˆè¦æ‰§è¡Œçš„ä½ç½®ï¼‰--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"pointcut"</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">"execution(* service.UserServiceImpl.*(..))"</span>/&gt;</span>        <span class="hljs-comment">&lt;!--UserServiceImpl.*(..) -ã€‹ UserServiceImplç±»ä¸‹çš„æ‰€ä»¥æ–¹æ³•(å‚æ•°)--&gt;</span>        <span class="hljs-comment">&lt;!--æ‰§è¡Œç¯ç»•å¢åŠ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">"log"</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">"pointcut"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">"afterLog"</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">"pointcut"</span>/&gt;</span>        <span class="hljs-comment">&lt;!-- ç¯ç»•,åœ¨id="pointcut"çš„å‰ååˆ‡å…¥ --&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p><code>execution(è¿”å›ç±»å‹ï¼Œç±»åï¼Œæ–¹æ³•å(å‚æ•°))</code> -&gt; <code>execution(* com.service.*,*(â€¦))</code></p><p>UserService.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> service;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserService</span> </span>{       <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">()</span> </span>;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">()</span> </span>;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>;}</code></pre></div><p>UserService çš„å®ç°ç±» UserServiceImp.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> service;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserService</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>{        System.out.println(<span class="hljs-string">"addå¢"</span>);    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">()</span> </span>{        System.out.println(<span class="hljs-string">"deleteåˆ "</span>);    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span> </span>{        System.out.println(<span class="hljs-string">"updateæ”¹"</span>);    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">()</span> </span>{        System.out.println(<span class="hljs-string">"queryæŸ¥"</span>);    }}</code></pre></div><p>å‰ç½®Log.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> log;<span class="hljs-keyword">import</span> org.springframework.aop.MethodBeforeAdvice;<span class="hljs-keyword">import</span> java.lang.reflect.Method;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Log</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">MethodBeforeAdvice</span> </span>{    <span class="hljs-comment">//methodï¼šè¦æ‰§è¡Œçš„ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•</span>    <span class="hljs-comment">//argsï¼šå‚æ•°</span>    <span class="hljs-comment">//targetï¼šç›®æ ‡å¯¹è±¡</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">(Method method, Object[] args, Object target)</span> <span class="hljs-keyword">throws</span> Throwable </span>{        System.out.println(target.getClass().getName()+<span class="hljs-string">"çš„"</span>+method.getName()+<span class="hljs-string">"è¢«æ‰§è¡Œäº†"</span>);    }}</code></pre></div><p>åç½®AfterLog.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> log;<span class="hljs-keyword">import</span> java.lang.reflect.Method;<span class="hljs-keyword">import</span> org.springframework.aop.AfterReturningAdvice;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AfterLog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">AfterReturningAdvice</span> </span>{    <span class="hljs-comment">//returnVaule: è¿”å›å€¼</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">afterReturning</span><span class="hljs-params">(Object returnValue, Method method, Object[] args, Object target)</span> <span class="hljs-keyword">throws</span> Throwable </span>{    System.out.println(<span class="hljs-string">"æ‰§è¡Œäº†"</span>+method.getName()+<span class="hljs-string">"æ–¹æ³•ï¼Œè¿”å›å€¼æ˜¯"</span>+returnValue);    }}</code></pre></div><p>æµ‹è¯•ç±»MyTest5</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<span class="hljs-keyword">import</span> service.UserService;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest5</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{        ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"applicationContext.xml"</span>);        <span class="hljs-comment">//æ³¨æ„:åŠ¨æ€ä»£ç†ä»£ç†çš„æ˜¯æ¥å£</span>        UserService userService = (UserService) context.getBean(<span class="hljs-string">"userservice"</span>);        userService.add();    }}</code></pre></div><h4 id="11-3-2ã€æ–¹æ³•äºŒï¼šè‡ªå®šä¹‰ç±»å®ç°AOP"><a href="#11-3-2ã€æ–¹æ³•äºŒï¼šè‡ªå®šä¹‰ç±»å®ç°AOP" class="headerlink" title="11.3.2ã€æ–¹æ³•äºŒï¼šè‡ªå®šä¹‰ç±»å®ç°AOP"></a>11.3.2ã€æ–¹æ³•äºŒï¼šè‡ªå®šä¹‰ç±»å®ç°AOP</h4><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">      <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">   https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">   http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">   https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span>   <span class="hljs-comment">&lt;!--æ³¨å†Œbean--&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"userservice"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"service.UserServiceImpl"</span>/&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"log"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"log.Log"</span>/&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"afterLog"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"log.AfterLog"</span>/&gt;</span>   <span class="hljs-comment">&lt;!-- æ–¹å¼äºŒï¼Œè‡ªå®šä¹‰ --&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"diy"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"diy.DiyPointcut"</span>/&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span>       <span class="hljs-comment">&lt;!--è‡ªå®šä¹‰åˆ‡é¢--&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspect</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"diy"</span>&gt;</span>           <span class="hljs-comment">&lt;!--åˆ‡å…¥ç‚¹--&gt;</span>           <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"point"</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">"execution(* service.UserServiceImpl.*(..))"</span>/&gt;</span>           <span class="hljs-tag">&lt;<span class="hljs-name">aop:before</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"before"</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">"point"</span>/&gt;</span>           <span class="hljs-tag">&lt;<span class="hljs-name">aop:after</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"after"</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">"point"</span>/&gt;</span>       <span class="hljs-tag">&lt;/<span class="hljs-name">aop:aspect</span>&gt;</span>   <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> diy;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DiyPointcut</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">()</span></span>{        System.out.println(<span class="hljs-string">"æ’å…¥åˆ°å‰é¢"</span>);    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">after</span><span class="hljs-params">()</span></span>{        System.out.println(<span class="hljs-string">"æ’å…¥åˆ°åé¢"</span>);    }}</code></pre></div><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//æµ‹è¯•</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest5</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{        ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"applicationContext.xml"</span>);        <span class="hljs-comment">//æ³¨æ„:åŠ¨æ€ä»£ç†ä»£ç†çš„æ˜¯æ¥å£</span>        UserService userService = (UserService) context.getBean(<span class="hljs-string">"userservice"</span>);        userService.add();    }}</code></pre></div><h4 id="11-3-3ã€æ–¹æ³•ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°"><a href="#11-3-3ã€æ–¹æ³•ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°" class="headerlink" title="11.3.3ã€æ–¹æ³•ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°"></a>11.3.3ã€æ–¹æ³•ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°</h4><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!-- æ³¨å†Œ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"userservice"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"service.UserServiceImpl"</span>/&gt;</span>    <span class="hljs-comment">&lt;!--æ–¹å¼ä¸‰ï¼Œä½¿ç”¨æ³¨è§£å®ç°--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"diyAnnotation"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"diy.DiyAnnotation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>        <span class="hljs-comment">&lt;!-- å¼€å¯è‡ªåŠ¨ä»£ç† </span><span class="hljs-comment">å®ç°æ–¹å¼ï¼šé»˜è®¤JDK (proxy-targer-class="fasle")</span><span class="hljs-comment">     cglib (proxy-targer-class="true")--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">aop:aspectj-autoproxy</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>DiyAnnotation.java</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> diy;<span class="hljs-keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;<span class="hljs-keyword">import</span> org.aspectj.lang.annotation.After;<span class="hljs-keyword">import</span> org.aspectj.lang.annotation.Around;<span class="hljs-keyword">import</span> org.aspectj.lang.annotation.Aspect;<span class="hljs-keyword">import</span> org.aspectj.lang.annotation.Before;<span class="hljs-meta">@Aspect</span>  <span class="hljs-comment">//æ ‡æ³¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªåˆ‡é¢</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DiyAnnotation</span> </span>{    <span class="hljs-meta">@Before</span>(<span class="hljs-string">"execution(* service.UserServiceImpl.*(..))"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">()</span></span>{        System.out.println(<span class="hljs-string">"=====æ–¹æ³•æ‰§è¡Œå‰====="</span>);    }    <span class="hljs-meta">@After</span>(<span class="hljs-string">"execution(* service.UserServiceImpl.*(..))"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">after</span><span class="hljs-params">()</span></span>{        System.out.println(<span class="hljs-string">"=====æ–¹æ³•æ‰§è¡Œå====="</span>);    }    <span class="hljs-comment">//åœ¨ç¯ç»•å¢å¼ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»™åœ°æš–ç®¡ä¸€ä¸ªå‚æ•°ï¼Œä»£è¡¨æˆ‘ä»¬è¦è·å–åˆ‡å…¥çš„ç‚¹</span>    <span class="hljs-meta">@Around</span>(<span class="hljs-string">"execution(* service.UserServiceImpl.*(..))"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">around</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> <span class="hljs-keyword">throws</span> Throwable </span>{        System.out.println(<span class="hljs-string">"ç¯ç»•å‰"</span>);        Object proceed = joinPoint.proceed();        System.out.println(<span class="hljs-string">"ç¯ç»•å"</span>);    }}</code></pre></div><p>æµ‹è¯•</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest5</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{        ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"applicationContext.xml"</span>);        <span class="hljs-comment">//æ³¨æ„:åŠ¨æ€ä»£ç†ä»£ç†çš„æ˜¯æ¥å£</span>        UserService userService = (UserService) context.getBean(<span class="hljs-string">"userservice"</span>);        userService.add();    }}</code></pre></div><p>è¾“å‡ºç»“æœï¼š</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd29fYmVsbC9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvaW1hZ2UvaW1hZ2UtMjAyMDA4MDMxNzU2NDIwNjQucG5n?x-oss-process=image/format,png" srcset="/blog/img/loading.gif" alt="image-20200803175642064"></p><h2 id="12ã€æ•´åˆmybatis"><a href="#12ã€æ•´åˆmybatis" class="headerlink" title="12ã€æ•´åˆmybatis"></a>12ã€æ•´åˆmybatis</h2><blockquote><p>ã€æé†’ã€‘ï¼š</p><p>æœ¬èŠ‚çŸ¥è¯†å¯†åº¦å¤§ï¼Œæ—¶é—´é•¿ï¼Œéœ€è¦å¤šçœ‹å‡ éè§†é¢‘ï¼ŒåŠ æ·±ç†è§£</p><p>è§†é¢‘é“¾æ¥ï¼š<a href="https://www.bilibili.com/video/BV1WE411d7Dv?p=23" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1WE411d7Dv?p=23</a></p></blockquote><p><strong>æ­¥éª¤ï¼š</strong></p><ol><li>å¯¼å…¥ç›¸å…³jar</li></ol><ul><li>junit</li><li>mybatis</li><li>mysqlæ•°æ®åº“</li><li>springç›¸å…³çš„</li><li>aopç»‡å…¥</li><li>mybatis-springã€newã€‘</li></ul><ol start="2"><li>ç¼–å†™é…ç½®æ–‡ä»¶</li><li>æµ‹è¯•</li></ol><p>mybatis-springå®˜ç½‘ï¼š<a href="https://mybatis.org/spring/zh/" target="_blank" rel="noopener">https://mybatis.org/spring/zh/</a></p><h3 id="12-0ã€å›å¿†Mybatis"><a href="#12-0ã€å›å¿†Mybatis" class="headerlink" title="12.0ã€å›å¿†Mybatis"></a>12.0ã€å›å¿†Mybatis</h3><p><strong>mybatisçš„é…ç½®æµç¨‹ï¼š</strong></p><ol><li>ç¼–å†™å®ä½“ç±»</li><li>ç¼–å†™æ ¸å¿ƒé…ç½®æ–‡ä»¶</li><li>ç¼–å†™æ¥å£</li><li>ç¼–å†™Mapper.xmi</li><li>æµ‹è¯•</li></ol><p><strong>å®ä¾‹ï¼š</strong></p><ol><li>å¯¼å…¥ç›¸å…³jarï¼Œpom.xmlï¼š</li></ol><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-study<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.melodyhub<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-10-mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-comment">&lt;!--&lt;version&gt;5.1.47&lt;/version&gt;--&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.19<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-comment">&lt;!--Springæ“ä½œæ•°æ®åº“çš„è¯ï¼Œéœ€è¦ä¸€ä¸ªspring-jdbc--&gt;</span>        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.5.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>    <span class="hljs-comment">&lt;!--åœ¨buildä¸­é…ç½®resourcesï¼Œæ¥é˜²æ­¢èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜--&gt;</span>    <span class="hljs-comment">&lt;!-- Mavenè§£å†³é™æ€èµ„æºè¿‡æ»¤é—®é¢˜ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>                <span class="hljs-comment">&lt;!--&lt;filtering&gt;false&lt;/filtering&gt;--&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>                <span class="hljs-comment">&lt;!--&lt;filtering&gt;true&lt;/filtering&gt;--&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span></code></pre></div><ol start="2"><li>ç¼–å†™å®ä½“ç±»ï¼ŒUser.javaï¼š</li></ol><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.melodyhub.pojo;<span class="hljs-keyword">import</span> lombok.Data;<span class="hljs-meta">@Data</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> String pwd;}</code></pre></div><ol start="3"><li>ç¼–å†™æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œresources/mybatis-config.xmlï¼š</li></ol><div class="hljs"><pre><code class="hljs xml-dtd">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;&lt;!DOCTYPE configuration        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;&lt;!--configuration æ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;&lt;configuration&gt;    &lt;!--å¼€å¯æ—¥å¿—--&gt;    &lt;!--&lt;settings&gt;        &lt;setting name="logImpl" value="STDOUT_LOGGING" /&gt;    &lt;/settings&gt;--&gt;    &lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å --&gt;    &lt;typeAliases&gt;        &lt;package name="com.melodyhub.pojo"/&gt;    &lt;/typeAliases&gt;        &lt;!--environments å¯é…ç½®å¤šä¸ªç¯å¢ƒ--&gt;    &lt;environments default="development"&gt;        &lt;!--å¤šä¸ªç¯å¢ƒï¼Œä¸åŒid--&gt;        &lt;environment id="development"&gt;            &lt;!--äº‹åŠ¡ç®¡ç†--&gt;            &lt;transactionManager type="JDBC"/&gt;            &lt;dataSource type="POOLED"&gt;                &lt;!--&lt;property name="driver" value="com.mysql.jdbc.Driver"/&gt;--&gt;                &lt;property name="driver" value="com.mysql.cj.jdbc.Driver"/&gt;                &lt;property name="url" value="jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=GMT%2B8&amp;autoReconnect=true"/&gt;                &lt;property name="username" value="root"/&gt;                &lt;property name="password" value="root"/&gt;            &lt;/dataSource&gt;        &lt;/environment&gt;    &lt;/environments&gt;    &lt;!--æ¯ä¸€ä¸ªMapper.xmléƒ½éœ€è¦åœ¨MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼ï¼ï¼--&gt;    &lt;mappers&gt;        &lt;mapper class="com.melodyhub.mapper.UserMapper"/&gt;        &lt;!--&lt;mapper resource="com/melodyhub/mapper/UserMapper.xml"/&gt;--&gt;    &lt;/mappers&gt;&lt;/configuration&gt;</code></pre></div><ol start="4"><li>ç¼–å†™æ¥å£ï¼ŒUserMapper.xmlï¼š</li></ol><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.melodyhub.mapper;<span class="hljs-keyword">import</span> com.melodyhub.pojo.User;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">selectUser</span><span class="hljs-params">()</span></span>;}</code></pre></div><ol start="5"><li>ç¼–å†™æ¥å£é…ç½®æ–‡ä»¶ï¼ŒUserMapper.xmlï¼š</li></ol><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span><span class="hljs-meta">&lt;!DOCTYPE mapper</span><span class="hljs-meta">        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"</span><span class="hljs-meta">        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.melodyhub.mapper.UserMapper"</span>&gt;</span>    <span class="hljs-comment">&lt;!-- ç»‘å®šæ¥å£ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectUser"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"user"</span>&gt;</span>        select * from mybatis.user;    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></code></pre></div><ol start="6"><li>æµ‹è¯•ï¼Œtest/java/MyTest.javaï¼š</li></ol><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.melodyhub.mapper.UserMapper;<span class="hljs-keyword">import</span> com.melodyhub.pojo.User;<span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;<span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;<span class="hljs-keyword">import</span> org.junit.Test;<span class="hljs-keyword">import</span> org.apache.ibatis.io.Resources;<span class="hljs-keyword">import</span> java.io.IOException;<span class="hljs-keyword">import</span> java.io.InputStream;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>{    <span class="hljs-meta">@Test</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>{        String resource = <span class="hljs-string">"mybatis-config.xml"</span>;        InputStream inputStream = Resources.getResourceAsStream(resource);        SqlSessionFactory sqlSessionFactory = <span class="hljs-keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);        SqlSession sqlSession = sqlSessionFactory.openSession(<span class="hljs-keyword">true</span>);        UserMapper mapper = sqlSession.getMapper(UserMapper<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;        List&lt;User&gt; userList = mapper.selectUser();        <span class="hljs-keyword">for</span> (User user : userList) {            System.out.println(user);        }    }}</code></pre></div><ol start="7"><li>ç»“æœï¼š</li></ol><div class="hljs"><pre><code class="hljs java">User(id=<span class="hljs-number">1</span>, name=ç‹‚ç¥, pwd=<span class="hljs-number">123456</span>)User(id=<span class="hljs-number">2</span>, name=å¼ ä¸‰, pwd=abcdef)User(id=<span class="hljs-number">3</span>, name=æå››, pwd=<span class="hljs-number">987654</span>)Process finished with exit code <span class="hljs-number">0</span></code></pre></div><h3 id="12-1ã€mybatis-spring-æ–¹å¼ä¸€"><a href="#12-1ã€mybatis-spring-æ–¹å¼ä¸€" class="headerlink" title="12.1ã€mybatis-spring-æ–¹å¼ä¸€"></a>12.1ã€mybatis-spring-æ–¹å¼ä¸€</h3><ol><li>ç¼–å†™æ•°æ®æºé…ç½®</li><li><code>sqISessionFactory</code></li><li><code>sqISessionTemplate</code>ï¼ˆç›¸å½“äº<code>sqISession</code>ï¼‰</li><li>éœ€è¦ç»™æ¥å£åŠ å®ç°ç±»ã€newã€‘</li><li>å°†è‡ªå·±å†™çš„å®ç°ç±»ï¼Œæ³¨å…¥åˆ°Springä¸­</li><li>æµ‹è¯•ï¼</li></ol><p><strong>æ•°æ®æºï¼š</strong></p><ul><li><p><code>DataSource</code>ï¼šä½¿ç”¨Springçš„æ•°å¸®æºæ›¿æ¢Mybatisçš„é…ç½®</p></li><li><p>è¿™ä½¿ç”¨Springæä¾›çš„JDBCï¼š<code>org.springframework.jdbc.datasource</code></p></li></ul><ul><li>å…¶ä»–æ•°æ®æºï¼š<code>c3p0</code>ã€<code>dbcp</code>ã€<code>druid</code></li></ul><p><strong>ã€æ ¸å¿ƒå¯¹è±¡ã€‘ï¼š</strong></p><ul><li><code>sqISessionFactory</code></li></ul><blockquote><p>åœ¨åŸºç¡€çš„ MyBatis ç”¨æ³•ä¸­ï¼Œæ˜¯é€šè¿‡ <code>SqlSessionFactoryBuilder</code> æ¥åˆ›å»º <code>SqlSessionFactory</code> çš„ã€‚ è€Œåœ¨ MyBatis-Spring ä¸­ï¼Œåˆ™ä½¿ç”¨ <code>SqlSessionFactoryBean</code> æ¥åˆ›å»ºã€‚</p><p>æ–‡æ¡£ï¼š<a href="http://mybatis.org/spring/zh/factorybean.html" target="_blank" rel="noopener">http://mybatis.org/spring/zh/factorybean.html</a></p></blockquote><ul><li><code>sqISessionTemplate</code></li></ul><blockquote><p><code>SqlSessionTemplate</code> æ˜¯ MyBatis-Spring çš„æ ¸å¿ƒã€‚ä½œä¸º <code>SqlSession</code> çš„ä¸€ä¸ªå®ç°ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨å®ƒæ— ç¼ä»£æ›¿ä½ ä»£ç ä¸­å·²ç»åœ¨ä½¿ç”¨çš„ <code>SqlSession</code>ã€‚<code>SqlSessionTemplate</code> æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥è¢«å¤šä¸ª DAO æˆ–æ˜ å°„å™¨æ‰€å…±äº«ä½¿ç”¨ã€‚</p><p>å½“è°ƒç”¨ SQL æ–¹æ³•æ—¶ï¼ˆåŒ…æ‹¬ç”± <code>getMapper()</code> æ–¹æ³•è¿”å›çš„æ˜ å°„å™¨ä¸­çš„æ–¹æ³•ï¼‰ï¼Œ<code>SqlSessionTemplate</code> å°†ä¼šä¿è¯ä½¿ç”¨çš„ <code>SqlSession</code> ä¸å½“å‰ Spring çš„äº‹åŠ¡ç›¸å…³ã€‚æ­¤å¤–ï¼Œå®ƒç®¡ç† session çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…å«å¿…è¦çš„å…³é—­ã€æäº¤æˆ–å›æ»šæ“ä½œã€‚å¦å¤–ï¼Œå®ƒä¹Ÿè´Ÿè´£å°† MyBatis çš„å¼‚å¸¸ç¿»è¯‘æˆ Spring ä¸­çš„ <code>DataAccessExceptions</code>ã€‚</p><p>ç”±äºæ¨¡æ¿å¯ä»¥å‚ä¸åˆ° Spring çš„äº‹åŠ¡ç®¡ç†ä¸­ï¼Œå¹¶ä¸”ç”±äºå…¶æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥ä¾›å¤šä¸ªæ˜ å°„å™¨ç±»ä½¿ç”¨ï¼Œä½ åº”è¯¥<strong>æ€»æ˜¯</strong>ç”¨ <code>SqlSessionTemplate</code> æ¥æ›¿æ¢ MyBatis é»˜è®¤çš„ <code>DefaultSqlSession</code> å®ç°ã€‚åœ¨åŒä¸€åº”ç”¨ç¨‹åºä¸­çš„ä¸åŒç±»ä¹‹é—´æ··æ‚ä½¿ç”¨å¯èƒ½ä¼šå¼•èµ·æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p><p>å¯ä»¥ä½¿ç”¨ <code>SqlSessionFactory</code> ä½œä¸ºæ„é€ æ–¹æ³•çš„å‚æ•°æ¥åˆ›å»º <code>SqlSessionTemplate</code> å¯¹è±¡ã€‚</p><p>æ–‡æ¡£ï¼š<a href="http://mybatis.org/spring/zh/sqlsession.html" target="_blank" rel="noopener">http://mybatis.org/spring/zh/sqlsession.html</a></p></blockquote><p><img src="https://s1.ax1x.com/2020/09/06/wZTWmn.png" srcset="/blog/img/loading.gif" alt="wZTWmn.png"></p><p>å…ˆå¯¼å…¥jaråŒ…ï¼Œ</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-study<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.melodyhub<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-10-mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-comment">&lt;!--&lt;version&gt;5.1.47&lt;/version&gt;--&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.19<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-comment">&lt;!--Springæ“ä½œæ•°æ®åº“çš„è¯ï¼Œéœ€è¦ä¸€ä¸ªspring-jdbc--&gt;</span>        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.5.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>    <span class="hljs-comment">&lt;!--åœ¨buildä¸­é…ç½®resourcesï¼Œæ¥é˜²æ­¢èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜--&gt;</span>    <span class="hljs-comment">&lt;!-- Mavenè§£å†³é™æ€èµ„æºè¿‡æ»¤é—®é¢˜ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>                <span class="hljs-comment">&lt;!--&lt;filtering&gt;false&lt;/filtering&gt;--&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>                <span class="hljs-comment">&lt;!--&lt;filtering&gt;true&lt;/filtering&gt;--&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span></code></pre></div><blockquote><p>å…³äºè§£å†³<strong>â€œMavenè§£å†³é™æ€èµ„æºè¿‡æ»¤é—®é¢˜â€</strong>è¯¦è§ï¼š<a href="https://www.cnblogs.com/melodyjerry/p/13586750.html" target="_blank" rel="noopener">Mavenä¸­é™æ€èµ„æºå’Œå­—èŠ‚ç æ–‡ä»¶çš„è¿‡æ»¤</a></p></blockquote><p><img src="https://s1.ax1x.com/2020/08/30/dqq7D0.png" srcset="/blog/img/loading.gif" alt="dqq7D0.png"><br><strong>ç¼–å†™é¡ºåºï¼š</strong></p><p><em>User -&gt; UserMapper -&gt; UserMapper.xml -&gt; spring-dao.xml -&gt; UserServiceImpl -&gt; applicationContext.xml -&gt; MyTest6</em></p><p><strong>ä»£ç æ­¥éª¤ï¼š</strong></p><p>pojoå®ä½“ç±» Userï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.melodyhub.pojo;<span class="hljs-keyword">import</span> lombok.Data;<span class="hljs-meta">@Data</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> String pwd;}</code></pre></div><p>mapperç›®å½•ä¸‹çš„ UserMapperã€UserMapperImplã€UserMapper.xml</p><p>æ¥å£UserMapperï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.melodyhub.mapper;<span class="hljs-keyword">import</span> com.melodyhub.pojo.User;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">selectUser</span><span class="hljs-params">()</span></span>;}</code></pre></div><p>UserMapperImplï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.melodyhub.mapper;<span class="hljs-keyword">import</span> com.melodyhub.pojo.User;<span class="hljs-keyword">import</span> org.mybatis.spring.SqlSessionTemplate;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserMapper</span> </span>{    <span class="hljs-comment">//æˆ‘ä»¬çš„æ‰€æœ‰æ“ä½œï¼Œåœ¨åŸæ¥éƒ½ä½¿ç”¨sqlSessionæ¥æ‰§è¡Œï¼Œç°åœ¨éƒ½ä½¿ç”¨SqlSessionTemplateï¼›</span>    <span class="hljs-keyword">private</span> SqlSessionTemplate sqlSession;    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSqlSession</span><span class="hljs-params">(SqlSessionTemplate sqlSession)</span> </span>{        <span class="hljs-keyword">this</span>.sqlSession = sqlSession;    }    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">selectUser</span><span class="hljs-params">()</span> </span>{        UserMapper userMapper = sqlSession.getMapper(UserMapper<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;        <span class="hljs-keyword">return</span> userMapper.selectUser();    }}</code></pre></div><p>UserMapper.xmlï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span><span class="hljs-meta">&lt;!DOCTYPE mapper</span><span class="hljs-meta">        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"</span><span class="hljs-meta">        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.melodyhub.mapper.UserMapper"</span>&gt;</span>    <span class="hljs-comment">&lt;!-- ç»‘å®šæ¥å£ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectUser"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"user"</span>&gt;</span>        select * from mybatis.user;    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></code></pre></div><p>resourceç›®å½•ä¸‹çš„ mybatis-config.xmlã€spring-dao.xmlã€applicationContext.xml</p><p>mybatis-config.xmlï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span><span class="hljs-meta">&lt;!DOCTYPE configuration</span><span class="hljs-meta">        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"</span><span class="hljs-meta">        "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;</span><span class="hljs-comment">&lt;!--configuration æ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>    <span class="hljs-comment">&lt;!--å¼€å¯æ—¥å¿—--&gt;</span>    <span class="hljs-comment">&lt;!--&lt;settings&gt;</span><span class="hljs-comment">        &lt;setting name="logImpl" value="STDOUT_LOGGING" /&gt;</span><span class="hljs-comment">    &lt;/settings&gt;--&gt;</span>    <span class="hljs-comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.melodyhub.pojo"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span>        <span class="hljs-comment">&lt;!--environments å¯é…ç½®å¤šä¸ªç¯å¢ƒ--&gt;</span>    <span class="hljs-comment">&lt;!--é…ç½®äº†Spring-Dao.xmlåï¼Œè¿™å—å¯ä»¥ç›´æ¥æ³¨é‡Šæ‰äº†ï¼šdataSource</span><span class="hljs-comment">    &lt;environments default="development"&gt;</span><span class="hljs-comment">        &amp;lt;!&amp;ndash;å¤šä¸ªç¯å¢ƒï¼Œä¸åŒid&amp;ndash;&amp;gt;</span><span class="hljs-comment">        &lt;environment id="development"&gt;</span><span class="hljs-comment">            &amp;lt;!&amp;ndash;äº‹åŠ¡ç®¡ç†&amp;ndash;&amp;gt;</span><span class="hljs-comment">            &lt;transactionManager type="JDBC"/&gt;</span><span class="hljs-comment">            &lt;dataSource type="POOLED"&gt;</span><span class="hljs-comment">                &amp;lt;!&amp;ndash;&lt;property name="driver" value="com.mysql.jdbc.Driver"/&gt;&amp;ndash;&amp;gt;</span><span class="hljs-comment">                &lt;property name="driver" value="com.mysql.cj.jdbc.Driver"/&gt;</span><span class="hljs-comment">                &lt;property name="url" value="jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;serverTimezone=GMT%2B8&amp;amp;autoReconnect=true"/&gt;</span><span class="hljs-comment">                &lt;property name="username" value="root"/&gt;</span><span class="hljs-comment">                &lt;property name="password" value="root"/&gt;</span><span class="hljs-comment">            &lt;/dataSource&gt;</span><span class="hljs-comment">        &lt;/environment&gt;</span><span class="hljs-comment">    &lt;/environments&gt;--&gt;</span>    <span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.xmléƒ½éœ€è¦åœ¨MyBatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼ï¼ï¼--&gt;</span>    <span class="hljs-comment">&lt;!-- é…ç½®äº†Spring-Dao.xmlåï¼Œè¿™å—å¯ä»¥ç›´æ¥æ³¨é‡Šæ‰äº†ï¼šç»‘å®šMybatisé…ç½®æ–‡ä»¶</span><span class="hljs-comment">    &lt;mappers&gt;</span><span class="hljs-comment">        &lt;mapper class="com.melodyhub.mapper.UserMapper"/&gt;</span><span class="hljs-comment">        &amp;lt;!&amp;ndash;&lt;mapper resource="com/melodyhub/mapper/UserMapper.xml"/&gt;&amp;ndash;&amp;gt;</span><span class="hljs-comment">    &lt;/mappers&gt;--&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span></code></pre></div><p>spring-dao.xmlï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!--DataSource:ä½¿ç”¨Springçš„æ•°å¸®æºæ›¿æ¢Mybatisçš„é…ç½® å…¶ä»–æ•°æ®æºï¼šc3p0ã€dbcpã€druid</span><span class="hljs-comment">        è¿™ä½¿ç”¨Springæä¾›çš„JDBC: org.springframework.jdbc.datasource --&gt;</span>    <span class="hljs-comment">&lt;!--dataSource --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span></span><span class="hljs-tag">                  <span class="hljs-attr">value</span>=<span class="hljs-string">"com.mysql.cj.jdbc.Driver"</span> /&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;serverTimezone=GMT%2B8&amp;amp;autoReconnect=true"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!--sqlSessionFactory--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dataSource"</span> /&gt;</span>        <span class="hljs-comment">&lt;!--ç»‘å®š Mybatis é…ç½®æ–‡ä»¶--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"configLocation"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"classpath:mybatis-config.xml"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"mapperLocations"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"classpath:com/melodyhub/mapper/*.xml"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!-- sqlSessionTemplate å°±æ˜¯ä¹‹å‰ä½¿ç”¨çš„ï¼šsqlsession --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sqlSession"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span>        <span class="hljs-comment">&lt;!-- åªèƒ½ä½¿ç”¨æ„é€ å™¨æ³¨å…¥sqlSessionFactory åŸå› ï¼šå®ƒæ²¡æœ‰setæ–¹æ³•--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"sqlSessionFactory"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>applicationContext.xmlï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!--å¯¼å…¥å…¶ä»–é…ç½®æ–‡ä»¶--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"spring-dao.xml"</span>/&gt;</span>    <span class="hljs-comment">&lt;!--&lt;import resource="spring-mvc.xml"/&gt;--&gt;</span>    <span class="hljs-comment">&lt;!--mybatis-spring æ–¹å¼1--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"userMapper"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.melodyhub.mapper.UserMapperImpl"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"sqlSession"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"sqlSession"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>æµ‹è¯•ç±»ï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.melodyhub.mapper.UserMapper;<span class="hljs-keyword">import</span> com.melodyhub.pojo.User;<span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;<span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;<span class="hljs-keyword">import</span> org.junit.Test;<span class="hljs-keyword">import</span> org.apache.ibatis.io.Resources;<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<span class="hljs-keyword">import</span> java.io.IOException;<span class="hljs-keyword">import</span> java.io.InputStream;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>{    <span class="hljs-meta">@Test</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span> </span>{        ClassPathXmlApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"applicationContext.xml"</span>);        UserMapper userMapper = context.getBean(<span class="hljs-string">"userMapper"</span>, UserMapper<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;        <span class="hljs-keyword">for</span> (User user : userMapper.selectUser()) {            System.out.println(user);        }    }}</code></pre></div><h3 id="12-2ã€mybatis-spring-æ–¹å¼äºŒ"><a href="#12-2ã€mybatis-spring-æ–¹å¼äºŒ" class="headerlink" title="12.2ã€mybatis-spring-æ–¹å¼äºŒ"></a>12.2ã€mybatis-spring-æ–¹å¼äºŒ</h3><ul><li><code>SqlSessionDaoSupport</code></li></ul><blockquote><p><code>SqlSessionDaoSupport</code> æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ”¯æŒç±»ï¼Œç”¨æ¥ä¸ºä½ æä¾› <code>SqlSession</code>ã€‚è°ƒç”¨ <code>getSqlSession()</code> æ–¹æ³•ä½ ä¼šå¾—åˆ°ä¸€ä¸ª <code>SqlSessionTemplate</code>ï¼Œä¹‹åå¯ä»¥ç”¨äºæ‰§è¡Œ SQL æ–¹æ³•ï¼Œå°±åƒä¸‹é¢è¿™æ ·:</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDaoImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SqlSessionDaoSupport</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserDao</span> </span>{  <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">getUser</span><span class="hljs-params">(String userId)</span> </span>{    <span class="hljs-keyword">return</span> getSqlSession().selectOne(<span class="hljs-string">"org.mybatis.spring.sample.mapper.UserMapper.getUser"</span>, userId);  }}</code></pre></div><p>åœ¨è¿™ä¸ªç±»é‡Œé¢ï¼Œé€šå¸¸æ›´å€¾å‘äºä½¿ç”¨ <code>MapperFactoryBean</code>ï¼Œå› ä¸ºå®ƒä¸éœ€è¦é¢å¤–çš„ä»£ç ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ éœ€è¦åœ¨ DAO ä¸­åšå…¶å®ƒé MyBatis çš„å·¥ä½œæˆ–éœ€è¦ä¸€ä¸ªéæŠ½è±¡çš„å®ç°ç±»ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±å¾ˆæœ‰ç”¨äº†ã€‚</p><p><code>SqlSessionDaoSupport</code> éœ€è¦é€šè¿‡å±æ€§è®¾ç½®ä¸€ä¸ª <code>sqlSessionFactory</code> æˆ– <code>SqlSessionTemplate</code>ã€‚å¦‚æœä¸¤ä¸ªå±æ€§éƒ½è¢«è®¾ç½®äº†ï¼Œé‚£ä¹ˆ <code>SqlSessionFactory</code> å°†è¢«å¿½ç•¥ã€‚</p><p>å‡è®¾ç±» <code>UserMapperImpl</code> æ˜¯ <code>SqlSessionDaoSupport</code> çš„å­ç±»ï¼Œå¯ä»¥ç¼–å†™å¦‚ä¸‹çš„ Spring é…ç½®æ¥æ‰§è¡Œè®¾ç½®ï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"userDao"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.sample.dao.UserDaoImpl"</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"sqlSessionFactory"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div><p>æ–‡æ¡£ï¼š<a href="http://mybatis.org/spring/zh/sqlsession.html" target="_blank" rel="noopener">http://mybatis.org/spring/zh/sqlsession.html</a></p></blockquote><p>UserServiceImpl2.javaï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.melodyhub.mapper;<span class="hljs-keyword">import</span> com.melodyhub.pojo.User;<span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<span class="hljs-keyword">import</span> org.mybatis.spring.support.SqlSessionDaoSupport;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperImpl2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SqlSessionDaoSupport</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserMapper</span> </span>{    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">selectUser</span><span class="hljs-params">()</span> </span>{        <span class="hljs-comment">/*</span><span class="hljs-comment">        SqlSession sqlSession = getSqlSession();</span><span class="hljs-comment">        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);</span><span class="hljs-comment">        return userMapper.selectUser();</span><span class="hljs-comment">        */</span>        <span class="hljs-keyword">return</span> getSqlSession().getMapper(UserMapper<span class="hljs-class">.<span class="hljs-keyword">class</span>).<span class="hljs-title">selectUser</span>()</span>;    }}</code></pre></div><p>spring-dao.xmlï¼š<code>SqlSessionTemplate</code>å¯ä»¥ä¸å†™äº†</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!--DataSource:ä½¿ç”¨Springçš„æ•°å¸®æºæ›¿æ¢Mybatisçš„é…ç½® å…¶ä»–æ•°æ®æºï¼šc3p0ã€dbcpã€druid</span><span class="hljs-comment">        è¿™ä½¿ç”¨Springæä¾›çš„JDBC: org.springframework.jdbc.datasource --&gt;</span>    <span class="hljs-comment">&lt;!--dataSource --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span></span><span class="hljs-tag">                  <span class="hljs-attr">value</span>=<span class="hljs-string">"com.mysql.cj.jdbc.Driver"</span> /&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;serverTimezone=GMT%2B8&amp;amp;autoReconnect=true"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!--sqlSessionFactory--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"dataSource"</span> /&gt;</span>        <span class="hljs-comment">&lt;!--ç»‘å®š Mybatis é…ç½®æ–‡ä»¶--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"configLocation"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"classpath:mybatis-config.xml"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"mapperLocations"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"classpath:com/melodyhub/mapper/*.xml"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!-- æ–¹æ³•äºŒï¼šSqlSessionTemplate å¯ä»¥ä¸å†™äº†--&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>applicationContext.xmlï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!--å¯¼å…¥å…¶ä»–é…ç½®æ–‡ä»¶--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"spring-dao.xml"</span>/&gt;</span>    <span class="hljs-comment">&lt;!--&lt;import resource="spring-mvc.xml"/&gt;--&gt;</span>    <span class="hljs-comment">&lt;!--mybatis-spring æ–¹å¼-2--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"userMapper2"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.melodyhub.mapper.UserMapperImpl2"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"sqlSessionFactory"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>æµ‹è¯•ï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest6</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"applicationContext.xml"</span>);UserMapper userMapper = (UserMapper) context.getBean(<span class="hljs-string">"userMapper2"</span>);<span class="hljs-keyword">for</span> (User user : userMapper.getUser()) {System.out.println(user);}}}</code></pre></div><h2 id="13-å£°æ˜å¼äº‹åŠ¡"><a href="#13-å£°æ˜å¼äº‹åŠ¡" class="headerlink" title="13. å£°æ˜å¼äº‹åŠ¡"></a>13. å£°æ˜å¼äº‹åŠ¡</h2><ul><li>æŠŠä¸€ç»„ä¸šåŠ¡å½“æˆä¸€ä¸ªä¸šåŠ¡æ¥åšï¼›è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼</li><li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œååˆ†çš„é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜</li><li>ç¡®ä¿å®Œæ•´æ€§å’Œä¸€è‡´æ€§</li></ul><p>äº‹åŠ¡çš„ACIDåŸåˆ™ï¼š<br>1ã€åŸå­æ€§<br>2ã€éš”ç¦»æ€§<br>3ã€ä¸€è‡´æ€§<br>4ã€æŒä¹…æ€§</p><p>ACIDå‚è€ƒæ–‡ç« ï¼š<a href="https://www.cnblogs.com/melodyjerry/p/13621129.html" target="_blank" rel="noopener">https://www.cnblogs.com/melodyjerry/p/13621129.html</a></p><p>Springä¸­çš„äº‹åŠ¡ç®¡ç†</p><ul><li>å£°æ˜å¼äº‹åŠ¡ï¼šAOP</li><li>ç¼–ç¨‹å¼äº‹åŠ¡ï¼šéœ€è¦å†ä»£ç ä¸­ï¼Œè¿›è¡Œäº‹åŠ¡ç®¡ç†</li></ul><p><strong>å£°æ˜å¼äº‹åŠ¡</strong></p><p>å…ˆå¯¼å…¥jaråŒ…</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>    <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><span class="hljs-comment">&lt;!--åœ¨buildä¸­é…ç½®resourcesï¼Œæ¥é˜²æ­¢èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜--&gt;</span><span class="hljs-comment">&lt;!-- Mavenè§£å†³é™æ€èµ„æºè¿‡æ»¤é—®é¢˜ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span></code></pre></div><p><strong>ä»£ç æ­¥éª¤ï¼š</strong></p><p>pojoå®ä½“ç±» User</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> pojo;<span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<span class="hljs-keyword">import</span> lombok.Data;<span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<span class="hljs-meta">@Data</span><span class="hljs-meta">@AllArgsConstructor</span><span class="hljs-meta">@NoArgsConstructor</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<span class="hljs-keyword">private</span> String name;<span class="hljs-keyword">private</span> String pwd;}</code></pre></div><p>mapperç›®å½•ä¸‹çš„ UserMapperã€UserMapperImplã€UserMapper.xml</p><p>æ¥å£UserMapper</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> mapper;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Param;<span class="hljs-keyword">import</span> pojo.User;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">getUser</span><span class="hljs-params">()</span></span>;<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">insertUser</span><span class="hljs-params">(User user)</span></span>; <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">delUser</span><span class="hljs-params">(@Param(<span class="hljs-string">"id"</span>)</span> <span class="hljs-keyword">int</span> id)</span>; }</code></pre></div><p>UserMapperImpl</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> mapper;<span class="hljs-keyword">import</span> pojo.User;<span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<span class="hljs-keyword">import</span> org.mybatis.spring.support.SqlSessionDaoSupport;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SqlSessionDaoSupport</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserMapper</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">getUser</span><span class="hljs-params">()</span> </span>{    User user = <span class="hljs-keyword">new</span> User(<span class="hljs-number">5</span>,<span class="hljs-string">"ä½ å¥½"</span>,<span class="hljs-string">"ok"</span>);    insertUser(user);    delUser(<span class="hljs-number">5</span>);        SqlSession sqlSession = getSqlSession();        UserMapper mapper = sqlSession.getMapper(UserMapper<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;        <span class="hljs-keyword">return</span> mapper.getUser();        <span class="hljs-comment">//æˆ–è€…return  getSqlSession().getMapper(UserMapper.class).getUser();</span>    }    <span class="hljs-comment">//æ’å…¥</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">insertUser</span><span class="hljs-params">(User user)</span> </span>{<span class="hljs-keyword">return</span> getSqlSession().getMapper(UserMapper<span class="hljs-class">.<span class="hljs-keyword">class</span>).<span class="hljs-title">insertUser</span>(<span class="hljs-title">user</span>)</span>;}<span class="hljs-comment">//åˆ é™¤</span><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">delUser</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>{<span class="hljs-keyword">return</span> getSqlSession().getMapper(UserMapper<span class="hljs-class">.<span class="hljs-keyword">class</span>).<span class="hljs-title">delUser</span>(<span class="hljs-title">id</span>)</span>;}}</code></pre></div><p>UserMapper.xml</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span><span class="hljs-meta">&lt;!DOCTYPE mapper</span><span class="hljs-meta">        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"</span><span class="hljs-meta">        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span>        <span class="hljs-comment">&lt;!-- ç»‘å®šæ¥å£ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"mapper.UserMapper"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"getUser"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"pojo.User"</span>&gt;</span>select * from mybatis.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"insertUser"</span>  <span class="hljs-attr">parameterType</span>=<span class="hljs-string">"pojo.User"</span> &gt;</span>insert into  mybatis.mybatis (id,name,pwd) values (#{id},#{name},#{pwd})<span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"delUser"</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">"_int"</span>&gt;</span>deleteAAAAA from mybatis.mybatis where id = #{id}<span class="hljs-comment">&lt;!-- deleteAAAAAæ˜¯æ•…æ„å†™é”™çš„ --&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></code></pre></div><p>resourceç›®å½•ä¸‹çš„ mybatis-config.xmlã€spring-dao.xmlã€applicationContext.xml</p><p>mybatis-config.xml</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span><span class="hljs-meta">&lt;!DOCTYPE configuration</span><span class="hljs-meta">  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"</span><span class="hljs-meta">  "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;</span><span class="hljs-comment">&lt;!-- configuration --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><span class="hljs-comment">&lt;!--å¼€å¯æ—¥å¿—--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logImpl"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"STDOUT_LOGGING"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><span class="hljs-comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"pojo"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span></code></pre></div><p>spring-dao.xmlï¼ˆå·²å¯¼å…¥çº¦æŸï¼‰</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:tx</span>=<span class="hljs-string">"http://www.springframework.org/schema/tx"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/tx</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/tx/spring-tx.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span><span class="hljs-comment">&lt;!--data source --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"datasource"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"driverClassName"</span></span><span class="hljs-tag"><span class="hljs-attr">value</span>=<span class="hljs-string">"com.mysql.cj.jdbc.Driver"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jdbc:mysql://127.0.0.1:3306/mybatis?useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;serverTimezone=Asia/Shanghai"</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"root"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-comment">&lt;!--sqlSessionFactory--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dataSource"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"datasource"</span> /&gt;</span>        <span class="hljs-comment">&lt;!--ç»‘å®š mybatis é…ç½®æ–‡ä»¶--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"configLocation"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"classpath:mybatis-config.xml"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"mapperLocations"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"classpath:mapper/*.xml"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-comment">&lt;!--å£°æ˜å¼äº‹åŠ¡--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"transactionManager"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"datasource"</span> /&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-comment">&lt;!--ç»“åˆaopå®ç°äº‹åŠ¡ç»‡å…¥--&gt;</span>    <span class="hljs-comment">&lt;!--é…ç½®äº‹åŠ¡çš„é€šçŸ¥ç±»--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">tx:advice</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"txAdvice"</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">"transactionManager"</span>&gt;</span>        <span class="hljs-comment">&lt;!--ç»™å“ªäº›æ–¹æ³•é…ç½®äº‹åŠ¡--&gt;</span>        <span class="hljs-comment">&lt;!--æ–°ä¸œè¥¿ï¼šé…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§ propagation--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">tx:attributes</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"add"</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">"REQUIRED"</span>/&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"delete"</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">"REQUIRED"</span>/&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"update"</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">"REQUIRED"</span>/&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"query"</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">"true"</span>/&gt;</span>            <span class="hljs-comment">&lt;!-- *å·åŒ…å«ä¸Šé¢4ä¸ªæ–¹æ³•ï¼š</span><span class="hljs-comment">            &lt;tx:method name="*" propagation="REQUIRED"/&gt; --&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">tx:attributes</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">tx:advice</span>&gt;</span>    <span class="hljs-comment">&lt;!--é…ç½®äº‹åŠ¡åˆ‡å…¥--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"txpointcut"</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">"execution(* mapper.*.*(..))"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">"txAdvice"</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">"txpointcut"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>applicationContext.xml</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag"><span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">"http://www.springframework.org/schema/aop"</span></span><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">http://www.springframework.org/schema/aop</span></span><span class="hljs-tag"><span class="hljs-string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"spring-dao.xml"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"userMapper"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mapper.UserMapperImpl"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"sqlSessionFactory"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>æµ‹è¯•ç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<span class="hljs-keyword">import</span> mapper.UserMapper;<span class="hljs-keyword">import</span> pojo.User;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest7</span> </span>{<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">"applicationContext.xml"</span>);UserMapper userMapper = (UserMapper) context.getBean(<span class="hljs-string">"userMapper"</span>);<span class="hljs-keyword">for</span> (User user : userMapper.getUser()) {System.out.println(user);}}}</code></pre></div><p><strong>æ€è€ƒï¼š</strong><br>ä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡ï¼Ÿ</p><ul><li>å¦‚æœä¸é…ç½®äº‹åŠ¡ï¼Œå¯èƒ½å­˜åœ¨æ•°æ®æäº¤ä¸ä¸€è‡´çš„æƒ…å†µä¸‹ï¼›</li><li>å¦‚æœä¸åœ¨springä¸­å»é…ç½®å£°æ˜å¼äº‹åŠ¡ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨ä»£ç ä¸­æ‰‹åŠ¨é…ç½®äº‹åŠ¡ï¼</li><li>äº‹åŠ¡åœ¨é¡¹ç›®çš„å¼€å‘ä¸­éå¸¸é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§é—®é¢˜ï¼</li></ul><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è§†é¢‘ï¼š&lt;a href=&quot;https://www.bilibili.com/video/BV1WE411d7Dv&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.bilibili.com/video/BV1WE411d7Dv&lt;/a&gt;&lt;/
      
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaWeb" scheme="https://melodyjerry.github.io/blog/tags/JavaWeb/"/>
    
      <category term="SSM" scheme="https://melodyjerry.github.io/blog/tags/SSM/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç‹‚ç¥è¯´Javaã€‘SpringMVCç¬”è®°å­˜æ¡£</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/27/%E3%80%90%E7%8B%82%E7%A5%9E%E8%AF%B4Java%E3%80%91SpringMVC%E7%AC%94%E8%AE%B0%E5%AD%98%E6%A1%A3/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/27/%E3%80%90%E7%8B%82%E7%A5%9E%E8%AF%B4Java%E3%80%91SpringMVC%E7%AC%94%E8%AE%B0%E5%AD%98%E6%A1%A3/</id>
    <published>2020-08-27T05:52:05.512Z</published>
    <updated>2020-09-18T04:43:03.304Z</updated>
    
    <content type="html"><![CDATA[<p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1aE41167Tu" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1aE41167Tu</a></p><a id="more"></a><hr><h1 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h1><p>ssm: mybatis + Spring + SpringMVC MVCä¸‰å±‚æ¶æ„</p><p>JavaSE:è®¤çœŸå­¦ä¹ , è€å¸ˆå¸¦ï¼Œå…¥é—¨å¿«<br>JavaWeb:è®¤çœŸå­¦ä¹ ,è€å¸ˆå¸¦,å…¥é—¨å¿«<br>SSMæ¡†æ¶:ç ”ç©¶å®˜æ–¹æ–‡æ¡£ï¼Œé”»ç‚¼è‡ªå­¦èƒ½åŠ›ï¼Œé”»ç‚¼ç¬”è®°èƒ½åŠ›ï¼Œé”»ç‚¼é¡¹ç›®èƒ½åŠ›</p><p>SpringMVC + Vue + SpringBoot + SpringCloud + Linux</p><p>SSM = JavaWebåšé¡¹ç›®;</p><p>Spring: IOCå’ŒAPO</p><p>SpringMVC: SpringMVCçš„æ‰§è¡Œæµç¨‹!</p><p>SpringMVC : SSMæ¡†æ¶æ•´åˆ!</p><p>Spring</p><p>MVC:æ¨¡å‹(dao, service) è§†å›¾ (jsp)æ§åˆ¶å™¨ (Servlet)<br>dao<br>service<br>servlet :è½¬å‘ï¼Œé‡å®šå‘<br>jsp/html</p><p>å‰ç«¯æ•°æ®ä¼ è¾“å®ä½“ç±»</p><p>å®ä½“ç±»:ç”¨æˆ·åï¼Œå¯†ç ï¼Œç”Ÿæ—¥ï¼Œçˆ±å¥½ï¼Œâ€¦ 20ä¸ª</p><p>å‰ç«¯:ç”¨æˆ·åå¯†ç </p><p>pojo: User<br>vo: UserVo<br>dto:</p><p><strong>JSP:æœ¬è´¨å°±æ˜¯ä¸€ä¸ªServlet</strong></p><p>å‡è®¾:ä½ çš„é¡¹ç›®çš„æ¶æ„ï¼Œæ˜¯è®¾è®¡å¥½çš„ï¼Œè¿˜æ˜¯æ¼”è¿›çš„?</p><ul><li>Alibaba PHP</li><li>éšç€ç”¨æˆ·å¤§ï¼Œ Java</li><li>ç‹åšå» IOE MySQL</li><li>MySQL : MySQLâ€“&gt; AliSQL. AliRedis</li><li>Allinone â€“å¾®æœåŠ¡</li></ul><p>MVC :</p><p>MWM: M V VM ViewModel :åŒå‘ç»‘å®š</p><h2 id="1ã€ä»€ä¹ˆæ˜¯MVC"><a href="#1ã€ä»€ä¹ˆæ˜¯MVC" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯MVC"></a>1ã€ä»€ä¹ˆæ˜¯MVC</h2><ul><li>MVCæ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚</li><li>æ˜¯å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚</li><li>MVCä¸»è¦ä½œç”¨æ˜¯<strong>é™ä½äº†è§†å›¾ä¸ä¸šåŠ¡é€»è¾‘é—´çš„åŒå‘å¶åˆ</strong>ã€‚</li><li>MVCä¸æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œ<strong>MVCæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼</strong>ã€‚å½“ç„¶ä¸åŒçš„MVCå­˜åœ¨å·®å¼‚ã€‚</li></ul><p><strong>Modelï¼ˆæ¨¡å‹ï¼‰ï¼š</strong>æ•°æ®æ¨¡å‹ï¼Œæä¾›è¦å±•ç¤ºçš„æ•°æ®ï¼Œå› æ­¤åŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é¢†åŸŸæ¨¡å‹æˆ–JavaBeanç»„ä»¶ï¼ˆåŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼‰ï¼Œä¸è¿‡ç°åœ¨ä¸€èˆ¬éƒ½åˆ†ç¦»å¼€æ¥ï¼šValue Objectï¼ˆæ•°æ®Daoï¼‰ å’Œ æœåŠ¡å±‚ï¼ˆè¡Œä¸ºServiceï¼‰ã€‚ä¹Ÿå°±æ˜¯æ¨¡å‹æä¾›äº†æ¨¡å‹æ•°æ®æŸ¥è¯¢å’Œæ¨¡å‹æ•°æ®çš„çŠ¶æ€æ›´æ–°ç­‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®å’Œä¸šåŠ¡ã€‚</p><p><strong>Viewï¼ˆè§†å›¾ï¼‰ï¼š</strong>è´Ÿè´£è¿›è¡Œæ¨¡å‹çš„å±•ç¤ºï¼Œä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬è§åˆ°çš„ç”¨æˆ·ç•Œé¢ï¼Œå®¢æˆ·æƒ³çœ‹åˆ°çš„ä¸œè¥¿ã€‚</p><p><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š</strong>æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå§”æ‰˜ç»™æ¨¡å‹è¿›è¡Œå¤„ç†ï¼ˆçŠ¶æ€æ”¹å˜ï¼‰ï¼Œå¤„ç†å®Œæ¯•åæŠŠè¿”å›çš„æ¨¡å‹æ•°æ®è¿”å›ç»™è§†å›¾ï¼Œç”±è§†å›¾è´Ÿè´£å±•ç¤ºã€‚ ä¹Ÿå°±æ˜¯è¯´æ§åˆ¶å™¨åšäº†ä¸ªè°ƒåº¦å‘˜çš„å·¥ä½œã€‚</p><p><strong>æœ€å…¸å‹çš„MVCå°±æ˜¯JSP + servlet + javabeançš„æ¨¡å¼ã€‚</strong></p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331221325100-1165356814.png" srcset="/blog/img/loading.gif" alt="img"></p><h3 id="1-1ã€Model1æ—¶ä»£"><a href="#1-1ã€Model1æ—¶ä»£" class="headerlink" title="1.1ã€Model1æ—¶ä»£"></a>1.1ã€Model1æ—¶ä»£</h3><ul><li>åœ¨webæ—©æœŸçš„å¼€å‘ä¸­ï¼Œé€šå¸¸é‡‡ç”¨çš„éƒ½æ˜¯Model1ã€‚</li><li>Model1ä¸­ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å±‚ï¼Œè§†å›¾å±‚å’Œæ¨¡å‹å±‚ã€‚</li></ul><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331221347503-978638377.png" srcset="/blog/img/loading.gif" alt="img"></p><p>Model1ä¼˜ç‚¹ï¼šæ¶æ„ç®€å•ï¼Œæ¯”è¾ƒé€‚åˆå°å‹é¡¹ç›®å¼€å‘ï¼›</p><p>Model1ç¼ºç‚¹ï¼šJSPèŒè´£ä¸å•ä¸€ï¼ŒèŒè´£è¿‡é‡ï¼Œä¸ä¾¿äºç»´æŠ¤ï¼›</p><h3 id="1-2ã€Model2æ—¶ä»£"><a href="#1-2ã€Model2æ—¶ä»£" class="headerlink" title="1.2ã€Model2æ—¶ä»£"></a>1.2ã€Model2æ—¶ä»£</h3><p>Model2æŠŠä¸€ä¸ªé¡¹ç›®åˆ†æˆä¸‰éƒ¨åˆ†ï¼ŒåŒ…æ‹¬<strong>è§†å›¾ã€æ§åˆ¶ã€æ¨¡å‹ã€‚</strong></p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331221406483-639584230.png" srcset="/blog/img/loading.gif" alt="img"></p><p>ç”¨æˆ·å‘è¯·æ±‚</p><ol><li>Servletæ¥æ”¶è¯·æ±‚æ•°æ®ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•</li><li>ä¸šåŠ¡å¤„ç†å®Œæ¯•ï¼Œè¿”å›æ›´æ–°åçš„æ•°æ®ç»™servlet</li><li>servletè½¬å‘åˆ°JSPï¼Œç”±JSPæ¥æ¸²æŸ“é¡µé¢</li><li>å“åº”ç»™å‰ç«¯æ›´æ–°åçš„é¡µé¢</li></ol><p><strong>èŒè´£åˆ†æï¼š</strong></p><p><strong>Controllerï¼šæ§åˆ¶å™¨</strong></p><ol><li>å–å¾—è¡¨å•æ•°æ®</li><li>è°ƒç”¨ä¸šåŠ¡é€»è¾‘</li><li>è½¬å‘æŒ‡å®šçš„é¡µé¢</li></ol><p><strong>Modelï¼šæ¨¡å‹</strong></p><ol><li>ä¸šåŠ¡é€»è¾‘</li><li>ä¿å­˜æ•°æ®çš„çŠ¶æ€</li></ol><p><strong>Viewï¼šè§†å›¾</strong></p><ol><li>æ˜¾ç¤ºé¡µé¢</li></ol><p>Model2è¿™æ ·ä¸ä»…æé«˜çš„ä»£ç çš„å¤ç”¨ç‡ä¸é¡¹ç›®çš„æ‰©å±•æ€§ï¼Œä¸”å¤§å¤§é™ä½äº†é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬ã€‚Model 1æ¨¡å¼çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œé€‚ç”¨äºå¿«é€Ÿå¼€å‘å°è§„æ¨¡é¡¹ç›®ï¼ŒModel1ä¸­JSPé¡µé¢èº«å…¼Viewå’ŒControllerä¸¤ç§è§’è‰²ï¼Œå°†æ§åˆ¶é€»è¾‘å’Œè¡¨ç°é€»è¾‘æ··æ‚åœ¨ä¸€èµ·ï¼Œä»è€Œå¯¼è‡´ä»£ç çš„é‡ç”¨æ€§éå¸¸ä½ï¼Œå¢åŠ äº†åº”ç”¨çš„æ‰©å±•æ€§å’Œç»´æŠ¤çš„éš¾åº¦ã€‚Model2æ¶ˆé™¤äº†Model1çš„ç¼ºç‚¹ã€‚</p><h3 id="1-3ã€å›é¡¾Servlet"><a href="#1-3ã€å›é¡¾Servlet" class="headerlink" title="1.3ã€å›é¡¾Servlet"></a>1.3ã€å›é¡¾Servlet</h3><ol><li><p>æ–°å»ºä¸€ä¸ªMavenå·¥ç¨‹å½“åšçˆ¶å·¥ç¨‹ï¼ pomä¾èµ–ï¼</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.9.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></code></pre></div></li><li><p>å»ºç«‹ä¸€ä¸ªMoudleï¼šspringmvc-01-servlet ï¼Œ æ·»åŠ Web appçš„æ”¯æŒï¼</p></li><li><p>å¯¼å…¥servlet å’Œ jsp çš„ jar ä¾èµ–</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div></li><li><p>ç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.servlet;<span class="hljs-comment">//å®ç°Servletæ¥å£</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>{    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>{        <span class="hljs-comment">//å–å¾—å‚æ•°</span>        String method = req.getParameter(<span class="hljs-string">"method"</span>);        <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">"add"</span>)){            req.getSession().setAttribute(<span class="hljs-string">"msg"</span>,<span class="hljs-string">"æ‰§è¡Œäº†addæ–¹æ³•"</span>);        }        <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">"delete"</span>)){            req.getSession().setAttribute(<span class="hljs-string">"msg"</span>,<span class="hljs-string">"æ‰§è¡Œäº†deleteæ–¹æ³•"</span>);        }        <span class="hljs-comment">//ä¸šåŠ¡é€»è¾‘</span>        <span class="hljs-comment">//è§†å›¾è·³è½¬</span>        req.getRequestDispatcher(<span class="hljs-string">"/WEB-INF/jsp/hello.jsp"</span>).forward(req,resp);    }    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>{        doGet(req,resp);    }}</code></pre></div></li><li><p>ç¼–å†™Hello.jspï¼Œåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºhello.jsp</p> <div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Kuangshen&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    ${msg}&lt;/body&gt;&lt;/html&gt;</code></pre></div></li><li><p>åœ¨web.xmlä¸­æ³¨å†ŒServlet</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">"4.0"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.kuang.servlet.HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/user<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre></div></li><li><p>é…ç½®Tomcatï¼Œå¹¶å¯åŠ¨æµ‹è¯•</p><ul><li>localhost:8080/user?method=add</li><li>localhost:8080/user?method=delete</li></ul></li><li><p>è®¿é—®ç»“æœ</p><p> <img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331212910583-2051430940.png" srcset="/blog/img/loading.gif" alt="img"></p></li></ol><p><strong>MVCæ¡†æ¶è¦åšå“ªäº›äº‹æƒ…</strong></p><ol><li>å°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³• .</li><li>å°è£…ç”¨æˆ·æäº¤çš„æ•°æ® .</li><li>å¤„ç†è¯·æ±‚â€“è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†â€“å°è£…å“åº”æ•°æ® .</li><li>å°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ® .</li></ol><p><strong>è¯´æ˜ï¼š</strong></p><p>å¸¸è§çš„æœåŠ¡å™¨ç«¯MVCæ¡†æ¶æœ‰ï¼šStrutsã€Spring MVCã€ASP.NET MVCã€Zend Frameworkã€JSFï¼›å¸¸è§å‰ç«¯MVCæ¡†æ¶ï¼švueã€angularjsã€reactã€backboneï¼›ç”±MVCæ¼”åŒ–å‡ºäº†å¦å¤–ä¸€äº›æ¨¡å¼å¦‚ï¼šMVPã€MVVM ç­‰ç­‰â€¦.</p><h2 id="2ã€ä»€ä¹ˆæ˜¯SpringMVC"><a href="#2ã€ä»€ä¹ˆæ˜¯SpringMVC" class="headerlink" title="2ã€ä»€ä¹ˆæ˜¯SpringMVC"></a>2ã€ä»€ä¹ˆæ˜¯SpringMVC</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331222018441-1850931217.png" srcset="/blog/img/loading.gif" alt="img"></p><p>Spring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡çº§Webæ¡†æ¶ã€‚</p><p>æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web" target="_blank" rel="noopener">https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web</a></p><p><strong>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringMVCå‘¢?</strong></p><p>Spring MVCçš„ç‰¹ç‚¹ï¼š</p><ol><li>è½»é‡çº§ï¼Œç®€å•æ˜“å­¦</li><li>é«˜æ•ˆ , åŸºäºè¯·æ±‚å“åº”çš„MVCæ¡†æ¶</li><li>ä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ</li><li>çº¦å®šä¼˜äºé…ç½®</li><li>åŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰</li><li>ç®€æ´çµæ´»</li></ol><p>Springçš„webæ¡†æ¶å›´ç»•<strong>DispatcherServlet</strong> [ è°ƒåº¦Servlet ] è®¾è®¡ã€‚</p><p>DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´ï¼›</p><p>æ­£å› ä¸ºSpringMVCå¥½ , ç®€å• , ä¾¿æ· , æ˜“å­¦ , å¤©ç”Ÿå’ŒSpringæ— ç¼é›†æˆ(ä½¿ç”¨SpringIoCå’ŒAop) , ä½¿ç”¨çº¦å®šä¼˜äºé…ç½® . èƒ½å¤Ÿè¿›è¡Œç®€å•çš„junitæµ‹è¯• . æ”¯æŒRestfulé£æ ¼ .å¼‚å¸¸å¤„ç† , æœ¬åœ°åŒ– , å›½é™…åŒ– , æ•°æ®éªŒè¯ , ç±»å‹è½¬æ¢ , æ‹¦æˆªå™¨ ç­‰ç­‰â€¦â€¦æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¹  .</p><p><strong>æœ€é‡è¦çš„ä¸€ç‚¹è¿˜æ˜¯ç”¨çš„äººå¤š , ä½¿ç”¨çš„å…¬å¸å¤š .</strong></p><h3 id="ä¸­å¿ƒæ§åˆ¶å™¨"><a href="#ä¸­å¿ƒæ§åˆ¶å™¨" class="headerlink" title="ä¸­å¿ƒæ§åˆ¶å™¨"></a>ä¸­å¿ƒæ§åˆ¶å™¨</h3><p>Springçš„webæ¡†æ¶å›´ç»•DispatcherServletè®¾è®¡ã€‚ DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£çš„controllerå£°æ˜æ–¹å¼ã€‚</p><p>Spring MVCæ¡†æ¶åƒè®¸å¤šå…¶ä»–MVCæ¡†æ¶ä¸€æ ·, <strong>ä»¥è¯·æ±‚ä¸ºé©±åŠ¨</strong> , <strong>å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½</strong>ï¼Œ<strong>DispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)</strong>ã€‚</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331222037711-828417064.png" srcset="/blog/img/loading.gif" alt="img"></p><p>SpringMVCçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331222109176-906298972.png" srcset="/blog/img/loading.gif" alt="img"></p><h3 id="SpringMVCæ‰§è¡ŒåŸç†"><a href="#SpringMVCæ‰§è¡ŒåŸç†" class="headerlink" title="SpringMVCæ‰§è¡ŒåŸç†"></a>SpringMVCæ‰§è¡ŒåŸç†</h3><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331222126131-219513987.png" srcset="/blog/img/loading.gif" alt="img"></p><p>å›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç°ã€‚</p><p><strong>ç®€è¦åˆ†ææ‰§è¡Œæµç¨‹</strong></p><ol><li>DispatcherServletè¡¨ç¤ºå‰ç½®æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚<ul><li>æˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : <a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080/SpringMVC/hello</li><li><strong>å¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š</strong></li><li><a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080æœåŠ¡å™¨åŸŸå</li><li>SpringMVCéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹</li><li>helloè¡¨ç¤ºæ§åˆ¶å™¨</li><li>é€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨ã€‚</li></ul></li><li>HandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping,HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚</li><li>HandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler,å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ä¸ºï¼šhelloã€‚</li><li>HandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet,å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚</li><li>HandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚</li><li>Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚</li><li>Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter,å¦‚ModelAndViewã€‚</li><li>HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServletã€‚</li><li>DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚</li><li>è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚</li><li>DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚</li><li>æœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·ã€‚</li></ol><p>åœ¨è¿™é‡Œå…ˆå¬ä¸€éåŸç†ï¼Œä¸ç†è§£æ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä»¬é©¬ä¸Šæ¥å†™ä¸€ä¸ªå¯¹åº”çš„ä»£ç å®ç°å¤§å®¶å°±æ˜ç™½äº†ï¼Œå¦‚æœä¸æ˜ç™½ï¼Œé‚£å°±å†™10éï¼Œæ²¡æœ‰ç¬¨äººï¼Œåªæœ‰æ‡’äººï¼</p><h2 id="3ã€HelloSpringMVC-é…ç½®ç‰ˆ"><a href="#3ã€HelloSpringMVC-é…ç½®ç‰ˆ" class="headerlink" title="3ã€HelloSpringMVC(é…ç½®ç‰ˆ)"></a>3ã€HelloSpringMVC(é…ç½®ç‰ˆ)</h2><ol><li><p>æ–°å»ºä¸€ä¸ªMoudle ï¼Œ æ·»åŠ webçš„æ”¯æŒï¼</p></li><li><p>ç¡®å®šå¯¼å…¥äº†SpringMVC çš„ä¾èµ–ï¼</p></li><li><p>é…ç½®web.xml ï¼Œ æ³¨å†ŒDispatcherServlet</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">"4.0"</span>&gt;</span>    <span class="hljs-comment">&lt;!--1.æ³¨å†ŒDispatcherServlet--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>        <span class="hljs-comment">&lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>        <span class="hljs-comment">&lt;!--å¯åŠ¨çº§åˆ«-1--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>    <span class="hljs-comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span>    <span class="hljs-comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre></div></li><li><p>ç¼–å†™SpringMVC çš„ é…ç½®æ–‡ä»¶ï¼åç§°ï¼šspringmvc-servlet.xml : [servletname]-servlet.xmlè¯´æ˜ï¼Œè¿™é‡Œçš„åç§°è¦æ±‚æ˜¯æŒ‰ç…§å®˜æ–¹æ¥çš„</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">       http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div></li><li><p>æ·»åŠ  å¤„ç†æ˜ å°„å™¨</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"</span>/&gt;</span></code></pre></div></li><li><p>æ·»åŠ  å¤„ç†å™¨é€‚é…å™¨</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"</span>/&gt;</span></code></pre></div></li><li><p>æ·»åŠ  è§†å›¾è§£æå™¨</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"InternalResourceViewResolver"</span>&gt;</span>    <span class="hljs-comment">&lt;!--å‰ç¼€--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/WEB-INF/jsp/"</span>/&gt;</span>    <span class="hljs-comment">&lt;!--åç¼€--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div></li><li><p>ç¼–å†™æˆ‘ä»¬è¦æ“ä½œä¸šåŠ¡Controller ï¼Œè¦ä¹ˆå®ç°Controlleræ¥å£ï¼Œè¦ä¹ˆå¢åŠ æ³¨è§£ï¼›éœ€è¦è¿”å›ä¸€ä¸ªModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾ï¼›</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.controller;<span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.Controller;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<span class="hljs-comment">//æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥Controlleræ¥å£</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-comment">//ModelAndView æ¨¡å‹å’Œè§†å›¾</span>        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();        <span class="hljs-comment">//å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­ã€‚Model</span>        mv.addObject(<span class="hljs-string">"msg"</span>,<span class="hljs-string">"HelloSpringMVC1!ï¼Œæˆ‘æ˜¯æˆåš"</span>);        <span class="hljs-comment">//å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­</span>        mv.setViewName(<span class="hljs-string">"hello"</span>); <span class="hljs-comment">//: /WEB-INF/jsp/hello.jsp</span>        <span class="hljs-keyword">return</span> mv;    }    }</code></pre></div></li><li><p>å°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Handler--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"/hello"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.kuang.controller.HelloController"</span>/&gt;</span></code></pre></div></li><li><p>å†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼›</p><div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Kuangshen&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    ${msg}&lt;/body&gt;&lt;/html&gt;</code></pre></div></li><li><p>é…ç½®Tomcat å¯åŠ¨æµ‹è¯•ï¼</p></li></ol><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331222531691-1302265141.png" srcset="/blog/img/loading.gif" alt="img"></p><p><strong>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š</strong></p><ol><li><p>æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚</p></li><li><p>å¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼ï¼ˆä¸classesåŒçº§ç›®å½•ï¼‰</p><p> <img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331212956858-1274463802.png" srcset="/blog/img/loading.gif" alt="img"></p></li><li><p>é‡å¯Tomcat å³å¯è§£å†³ï¼</p></li></ol><p>å°ç»“ï¼šçœ‹è¿™ä¸ªä¼°è®¡å¤§éƒ¨åˆ†åŒå­¦éƒ½èƒ½ç†è§£å…¶ä¸­çš„åŸç†äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å®é™…å¼€å‘æ‰ä¸ä¼šè¿™ä¹ˆå†™ï¼Œä¸ç„¶å°±ç–¯äº†ï¼Œè¿˜å­¦è¿™ä¸ªç©æ„å¹²å˜›ï¼æˆ‘ä»¬æ¥çœ‹ä¸ªæ³¨è§£ç‰ˆå®ç°ï¼Œè¿™æ‰æ˜¯SpringMVCçš„ç²¾é«“ï¼Œåˆ°åº•æœ‰å¤šä¹ˆç®€å•ï¼Œçœ‹è¿™ä¸ªå›¾å°±çŸ¥é“äº†ã€‚</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331223102129-1564021137.png" srcset="/blog/img/loading.gif" alt="img"></p><h2 id="4ã€ä½¿ç”¨æ³¨è§£å¼€å‘SpringMVCï¼ˆæ³¨è§£ç‰ˆï¼‰"><a href="#4ã€ä½¿ç”¨æ³¨è§£å¼€å‘SpringMVCï¼ˆæ³¨è§£ç‰ˆï¼‰" class="headerlink" title="4ã€ä½¿ç”¨æ³¨è§£å¼€å‘SpringMVCï¼ˆæ³¨è§£ç‰ˆï¼‰"></a>4ã€ä½¿ç”¨æ³¨è§£å¼€å‘SpringMVCï¼ˆæ³¨è§£ç‰ˆï¼‰</h2><p><strong>ç¬¬ä¸€æ­¥:æ–°å»ºä¸€ä¸ªMoudle , æ·»åŠ webæ”¯æŒï¼</strong>å»ºç«‹åŒ…ç»“æ„ com.kuang.controller</p><p><strong>ç¬¬äºŒæ­¥:ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„</strong></p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span></code></pre></div><p><strong>ç¬¬ä¸‰æ­¥:åœ¨pom.xmlæ–‡ä»¶å¼•å…¥ç›¸å…³çš„ä¾èµ–</strong>ï¼š<br>ä¸»è¦æœ‰Springæ¡†æ¶æ ¸å¿ƒåº“ã€Spring MVCã€servlet , JSTLç­‰ã€‚æˆ‘ä»¬åœ¨çˆ¶ä¾èµ–ä¸­å·²ç»å¼•å…¥äº†ï¼</p><p><strong>ç¬¬å››æ­¥:é…ç½®web.xml</strong></p><p>æ³¨æ„ç‚¹ï¼š</p><ul><li><p>æ³¨æ„web.xmlç‰ˆæœ¬é—®é¢˜ï¼Œè¦æœ€æ–°ç‰ˆï¼</p></li><li><p>æ³¨å†ŒDispatcherServlet</p></li><li><p>å…³è”SpringMVCçš„é…ç½®æ–‡ä»¶</p></li><li><p>å¯åŠ¨çº§åˆ«ä¸º1</p></li><li><p>æ˜ å°„è·¯å¾„ä¸º / ã€ä¸è¦ç”¨/*ï¼Œä¼š404ã€‘</p>  <div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">"4.0"</span>&gt;</span>    <span class="hljs-comment">&lt;!--1.æ³¨å†Œservlet--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>        <span class="hljs-comment">&lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>        <span class="hljs-comment">&lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>    <span class="hljs-comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre></div>  <div class="hljs"><pre><code class="hljs java">/ å’Œ <span class="hljs-comment">/* çš„åŒºåˆ«ï¼š</span><span class="hljs-comment">&lt; url-pattern &gt; / &lt;/ url-pattern &gt; ä¸ä¼šåŒ¹é…åˆ°.jspï¼Œ åªé’ˆå¯¹æˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚ï¼›</span><span class="hljs-comment">å³ï¼š.jsp ä¸ä¼šè¿›å…¥springçš„ DispatcherServletç±» ã€‚</span><span class="hljs-comment">&lt; url-pattern &gt; /* &lt;/ url-pattern &gt; ä¼šåŒ¹é… *.jspï¼Œ</span><span class="hljs-comment">ä¼šå‡ºç°è¿”å› jspè§†å›¾ æ—¶å†æ¬¡è¿›å…¥springçš„DispatcherServlet ç±»ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°å¯¹åº”çš„controlleræ‰€ä»¥æŠ¥404é”™ã€‚</span></code></pre></div></li></ul><p><strong>ç¬¬äº”æ­¥:æ·»åŠ Spring MVCé…ç½®æ–‡ä»¶</strong></p><ul><li>è®©IOCçš„æ³¨è§£ç”Ÿæ•ˆ</li><li>é™æ€èµ„æºè¿‡æ»¤ ï¼šHTML . JS . CSS . å›¾ç‰‡ ï¼Œ è§†é¢‘ â€¦..</li><li>MVCçš„æ³¨è§£é©±åŠ¨</li><li>é…ç½®è§†å›¾è§£æå™¨</li></ul><p>åœ¨resourceç›®å½•ä¸‹æ·»åŠ springmvc-servlet.xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®çš„å½¢å¼ä¸Springå®¹å™¨é…ç½®åŸºæœ¬ç±»ä¼¼ï¼Œä¸ºäº†æ”¯æŒåŸºäºæ³¨è§£çš„IOCï¼Œè®¾ç½®äº†è‡ªåŠ¨æ‰«æåŒ…çš„åŠŸèƒ½ï¼Œå…·ä½“é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">"http://www.springframework.org/schema/mvc"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/context</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/context/spring-context.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/mvc</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.kuang.controller"</span>/&gt;</span>    <span class="hljs-comment">&lt;!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº è¿‡æ»¤æ‰ä¸€äº›é™æ€èµ„æºï¼Œå¦‚.css  .js  .html .mp3--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span>    <span class="hljs-comment">&lt;!--</span><span class="hljs-comment">    æ”¯æŒmvcæ³¨è§£é©±åŠ¨</span><span class="hljs-comment">        åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ³¨è§£æ¥å®Œæˆæ˜ å°„å…³ç³»</span><span class="hljs-comment">        è¦æƒ³ä½¿@RequestMappingæ³¨è§£ç”Ÿæ•ˆ</span><span class="hljs-comment">        å¿…é¡»å‘ä¸Šä¸‹æ–‡ä¸­æ³¨å†ŒDefaultAnnotationHandlerMapping</span><span class="hljs-comment">        å’Œä¸€ä¸ªAnnotationMethodHandlerAdapterå®ä¾‹</span><span class="hljs-comment">        è¿™ä¸¤ä¸ªå®ä¾‹åˆ†åˆ«åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«å¤„ç†ã€‚</span><span class="hljs-comment">        è€Œannotation-drivené…ç½®å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸Šè¿°ä¸¤ä¸ªå®ä¾‹çš„æ³¨å…¥ã€‚</span><span class="hljs-comment">     --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span>    <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span></span><span class="hljs-tag">          <span class="hljs-attr">id</span>=<span class="hljs-string">"internalResourceViewResolver"</span>&gt;</span>        <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/WEB-INF/jsp/"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span> /&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><p>åœ¨è§†å›¾è§£æå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥è®¿é—®ã€‚</p><p><strong>ç¬¬å…­æ­¥:åˆ›å»ºController</strong></p><p>ç¼–å†™ä¸€ä¸ªJavaæ§åˆ¶ç±»ï¼š com.kuang.controller.HelloController , æ³¨æ„ç¼–ç è§„èŒƒ</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.controller;<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<span class="hljs-keyword">import</span> org.springframework.ui.Model;<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<span class="hljs-meta">@Controller</span><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/HelloController"</span>)<span class="hljs-comment">//å¤šæ·»åŠ ä¸€çº§è®¿é—®</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>{    <span class="hljs-comment">//çœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello</span>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/hello"</span>)<span class="hljs-comment">//è¯·æ±‚è·¯å¾„</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello</span><span class="hljs-params">(Model model)</span> </span>{        <span class="hljs-comment">//å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“</span>        model.addAttribute(<span class="hljs-string">"msg"</span>, <span class="hljs-string">"hello,SpringMVCï¼Œæˆ‘æ˜¯æˆåš"</span>);        <span class="hljs-comment">//ä¼šè¢«è§†å›¾è§£æå™¨å¤„ç†ï¼Œweb-inf/jsp/hello.jsp</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"hello"</span>;    }}</code></pre></div><ul><li>@Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°ï¼›</li><li>@RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸æ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥æ˜¯/HelloController/helloï¼›</li><li>æ–¹æ³•ä¸­å£°æ˜Modelç±»å‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­ï¼›</li><li>æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åç¼€å˜æˆWEB-INF/jsp/<strong>hello</strong>.jspã€‚</li></ul><p><strong>ç¬¬ä¸ƒæ­¥:åˆ›å»ºè§†å›¾å±‚</strong></p><p>åœ¨WEB-INF/ jspç›®å½•ä¸­åˆ›å»ºhello.jsp ï¼Œ è§†å›¾å¯ä»¥ç›´æ¥å–å‡ºå¹¶å±•ç¤ºä»Controllerå¸¦å›çš„ä¿¡æ¯ï¼›</p><p>å¯ä»¥é€šè¿‡ELè¡¨ç¤ºå–å‡ºModelä¸­å­˜æ”¾çš„å€¼ï¼Œæˆ–è€…å¯¹è±¡ï¼›</p><div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;SpringMVC&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    ${msg}&lt;/body&gt;&lt;/html&gt;</code></pre></div><p><strong>ç¬¬å…«æ­¥:é…ç½®Tomcatè¿è¡Œ</strong></p><p>é…ç½®Tomcat ï¼Œ å¼€å¯æœåŠ¡å™¨ ï¼Œ è®¿é—® å¯¹åº”çš„è¯·æ±‚è·¯å¾„ï¼</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213100620-1365283722.png" srcset="/blog/img/loading.gif" alt="img"></p><p><strong>OKï¼Œè¿è¡ŒæˆåŠŸï¼</strong></p><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>å®ç°æ­¥éª¤å…¶å®éå¸¸çš„ç®€å•ï¼š</p><ol><li>æ–°å»ºä¸€ä¸ªwebé¡¹ç›®</li><li>å¯¼å…¥ç›¸å…³jaråŒ…</li><li>ç¼–å†™web.xml , æ³¨å†ŒDispatcherServlet</li><li>ç¼–å†™springmvcé…ç½®æ–‡ä»¶</li><li>æ¥ä¸‹æ¥å°±æ˜¯å»åˆ›å»ºå¯¹åº”çš„æ§åˆ¶ç±» , controller</li><li>æœ€åå®Œå–„å‰ç«¯è§†å›¾å’Œcontrollerä¹‹é—´çš„å¯¹åº”</li><li>æµ‹è¯•è¿è¡Œè°ƒè¯•.</li></ol><p>ä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶ï¼š</p><p><strong>å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨</strong></p><p>é€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦<strong>æ‰‹åŠ¨é…ç½®è§†å›¾è§£æå™¨</strong>ï¼Œè€Œ<strong>å¤„ç†å™¨æ˜ å°„å™¨</strong>å’Œ<strong>å¤„ç†å™¨é€‚é…å™¨</strong>åªéœ€è¦å¼€å¯<strong>æ³¨è§£é©±åŠ¨</strong>å³å¯ï¼Œè€Œçœå»äº†å¤§æ®µçš„xmlé…ç½®</p><h2 id="5ã€Controller-åŠ-RestFulé£æ ¼"><a href="#5ã€Controller-åŠ-RestFulé£æ ¼" class="headerlink" title="5ã€Controller åŠ RestFulé£æ ¼"></a>5ã€Controller åŠ RestFulé£æ ¼</h2><h3 id="æ§åˆ¶å™¨Controller"><a href="#æ§åˆ¶å™¨Controller" class="headerlink" title="æ§åˆ¶å™¨Controller"></a>æ§åˆ¶å™¨Controller</h3><ul><li>æ§åˆ¶å™¨å¤æ‚æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡æ¥å£å®šä¹‰æˆ–æ³¨è§£å®šä¹‰ä¸¤ç§æ–¹æ³•å®ç°ã€‚</li><li>æ§åˆ¶å™¨è´Ÿè´£è§£æç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡å‹ã€‚</li><li>åœ¨Spring MVCä¸­ä¸€ä¸ªæ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³•</li><li>åœ¨Spring MVCä¸­ï¼Œå¯¹äºControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§</li></ul><p>æˆ‘ä»¬æ¥çœ‹çœ‹æœ‰å“ªäº›æ–¹å¼å¯ä»¥å®ç°ï¼š</p><h3 id="å®ç°Controlleræ¥å£"><a href="#å®ç°Controlleræ¥å£" class="headerlink" title="å®ç°Controlleræ¥å£"></a>å®ç°Controlleræ¥å£</h3><p>Controlleræ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨org.springframework.web.servlet.mvcåŒ…ä¸‹ï¼Œæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼›</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//å®ç°è¯¥æ¥å£çš„ç±»è·å¾—æ§åˆ¶å™¨åŠŸèƒ½</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Controller</span> </span>{    <span class="hljs-comment">//å¤„ç†è¯·æ±‚ä¸”è¿”å›ä¸€ä¸ªæ¨¡å‹ä¸è§†å›¾å¯¹è±¡</span>    <span class="hljs-function">ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest var1, HttpServletResponse var2)</span> <span class="hljs-keyword">throws</span> Exception</span>;}</code></pre></div><p><strong>æµ‹è¯•</strong></p><ol><li><p>æ–°å»ºä¸€ä¸ªMoudleï¼Œspringmvc-04-controller ã€‚ å°†åˆšæ‰çš„03 æ‹·è´ä¸€ä»½, æˆ‘ä»¬è¿›è¡Œæ“ä½œï¼</p><ul><li>åˆ æ‰HelloController</li><li>mvcçš„é…ç½®æ–‡ä»¶åªç•™ä¸‹ è§†å›¾è§£æå™¨ï¼</li></ul></li><li><p>ç¼–å†™ä¸€ä¸ªControllerç±»ï¼ŒControllerTest1</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//å®šä¹‰æ§åˆ¶å™¨</span><span class="hljs-comment">//æ³¨æ„ç‚¹ï¼šä¸è¦å¯¼é”™åŒ…ï¼Œå®ç°Controlleræ¥å£ï¼Œé‡å†™æ–¹æ³•ï¼›</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span>        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();        mv.addObject(<span class="hljs-string">"msg"</span>,<span class="hljs-string">"Test1Controller"</span>);        mv.setViewName(<span class="hljs-string">"test"</span>);        <span class="hljs-keyword">return</span> mv;    }}</code></pre></div></li><li><p>ç¼–å†™å®Œæ¯•åï¼Œå»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„ç±»</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"/t1"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.kuang.controller.ControllerTest1"</span>/&gt;</span></code></pre></div></li><li><p>ç¼–å†™å‰ç«¯test.jspï¼Œæ³¨æ„åœ¨WEB-INF/jspç›®å½•ä¸‹ç¼–å†™ï¼Œå¯¹åº”æˆ‘ä»¬çš„è§†å›¾è§£æå™¨</p> <div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Kuangshen&lt;/title&gt;&lt;/head&gt;&lt;body&gt;    ${msg}&lt;/body&gt;&lt;/html&gt;</code></pre></div></li><li><p>é…ç½®Tomcatè¿è¡Œæµ‹è¯•ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰é¡¹ç›®å‘å¸ƒåé…ç½®çš„å°±æ˜¯ä¸€ä¸ª / ï¼Œæ‰€ä»¥è¯·æ±‚ä¸ç”¨åŠ é¡¹ç›®åï¼ŒOKï¼</p></li></ol><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213134363-472773058.png" srcset="/blog/img/loading.gif" alt="img"></p><p><strong>è¯´æ˜ï¼š</strong></p><ul><li>å®ç°æ¥å£Controllerå®šä¹‰æ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠæ³•</li><li>ç¼ºç‚¹æ˜¯ï¼šä¸€ä¸ªæ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼›</li></ul><h3 id="ä½¿ç”¨æ³¨è§£-Controller"><a href="#ä½¿ç”¨æ³¨è§£-Controller" class="headerlink" title="ä½¿ç”¨æ³¨è§£@Controller"></a>ä½¿ç”¨æ³¨è§£@Controller</h3><ul><li><p>@Controlleræ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆåœ¨è®²IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼‰ï¼›</p></li><li><p>Springå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ç»„ä»¶æ‰«æã€‚</p>  <div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.kuang.controller"</span>/&gt;</span></code></pre></div></li><li><p>å¢åŠ ä¸€ä¸ªControllerTest2ç±»ï¼Œä½¿ç”¨æ³¨è§£å®ç°ï¼›</p>  <div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//@Controlleræ³¨è§£çš„ç±»ä¼šè‡ªåŠ¨æ·»åŠ åˆ°Springä¸Šä¸‹æ–‡ä¸­</span><span class="hljs-comment">//ä»£è¡¨è¿™ä¸ªç±»ä¼šè¢«SpringæŒ‰ç®¡</span><span class="hljs-comment">//è¢«è¿™ä¸ªæ³¨è§£çš„ç±»ï¼Œä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦‚æœè¿”å›å€¼æ˜¯Stringï¼Œå¹¶ä¸”æœ‰å…·ä½“é¡µé¢å¯ä»¥è·³è½¬ï¼Œé‚£ä¹ˆå°±ä¼šè¢«è§†å›¾è§£æå™¨è§£æ;</span><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest2</span></span>{    <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/t2"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(Model model)</span></span>{        <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span>        model.addAttribute(<span class="hljs-string">"msg"</span>, <span class="hljs-string">"ControllerTest2"</span>);        <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;    }}</code></pre></div></li><li><p>è¿è¡Œtomcatæµ‹è¯•</p></li></ul><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213150942-1828421815.png" srcset="/blog/img/loading.gif" alt="img"></p><p><strong>å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„ä¸¤ä¸ªè¯·æ±‚éƒ½å¯ä»¥æŒ‡å‘ä¸€ä¸ªè§†å›¾ï¼Œä½†æ˜¯é¡µé¢ç»“æœçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»è¿™é‡Œå¯ä»¥çœ‹å‡ºè§†å›¾æ˜¯è¢«å¤ç”¨çš„ï¼Œè€Œæ§åˆ¶å™¨ä¸è§†å›¾ä¹‹é—´æ˜¯å¼±å¶åˆå…³ç³»ã€‚</strong></p><p>æ³¨è§£æ–¹å¼æ˜¯å¹³æ—¶ä½¿ç”¨çš„æœ€å¤šçš„æ–¹å¼ï¼é™¤äº†è¿™ä¸¤ç§ä¹‹å¤–è¿˜æœ‰å…¶ä»–çš„æ–¹å¼ï¼Œå¤§å®¶æƒ³è¦è‡ªå·±ç ”ç©¶çš„è¯ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„åšå®¢ï¼š<a href="https://www.cnblogs.com/hellokuangshen/p/11270742.html" target="_blank" rel="noopener">https://www.cnblogs.com/hellokuangshen/p/11270742.html</a></p><h3 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="RequestMapping"></a>RequestMapping</h3><p><strong>@RequestMapping</strong></p><ul><li><p>@RequestMappingæ³¨è§£ç”¨äºæ˜ å°„urlåˆ°æ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ã€‚</p></li><li><p>ä¸ºäº†æµ‹è¯•ç»“è®ºæ›´åŠ å‡†ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šä¸€ä¸ªé¡¹ç›®åæµ‹è¯• myweb</p></li><li><p>åªæ³¨è§£åœ¨æ–¹æ³•ä¸Šé¢</p>  <div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestController</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/h1"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span></span>{        <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;    }}</code></pre></div><p>  è®¿é—®è·¯å¾„ï¼š<a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080 / é¡¹ç›®å / h1</p></li><li><p>åŒæ—¶æ³¨è§£ç±»ä¸æ–¹æ³•</p>  <div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/admin"</span>)<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestController</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/h1"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span></span>{        <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;    }}</code></pre></div><p>  è®¿é—®è·¯å¾„ï¼š<a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080 / é¡¹ç›®å/ admin /h1 , éœ€è¦å…ˆæŒ‡å®šç±»çš„è·¯å¾„å†æŒ‡å®šæ–¹æ³•çš„è·¯å¾„ï¼›</p></li></ul><h2 id="6ã€RestFul-é£æ ¼-ç®€æ´ï¼Œé«˜æ•ˆï¼Œå®‰å…¨"><a href="#6ã€RestFul-é£æ ¼-ç®€æ´ï¼Œé«˜æ•ˆï¼Œå®‰å…¨" class="headerlink" title="6ã€RestFul é£æ ¼(ç®€æ´ï¼Œé«˜æ•ˆï¼Œå®‰å…¨)"></a>6ã€RestFul é£æ ¼(ç®€æ´ï¼Œé«˜æ•ˆï¼Œå®‰å…¨)</h2><p><strong>æ¦‚å¿µ</strong></p><p>Restfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§é£æ ¼ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶ã€‚</p><p><strong>åŠŸèƒ½</strong></p><ul><li>èµ„æºï¼šäº’è”ç½‘æ‰€æœ‰çš„äº‹ç‰©éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºèµ„æº</li><li>èµ„æºæ“ä½œï¼šä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚</li><li>åˆ†åˆ«å¯¹åº” æ·»åŠ ã€ åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚</li></ul><p><strong>ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æº</strong> ï¼šé€šè¿‡ä¸åŒçš„å‚æ•°æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼æ–¹æ³•å•ä¸€ï¼Œpost å’Œ get</p><ul><li><a href="http://127.0.0.1/item/queryItem.action?id=1" target="_blank" rel="noopener">http://127.0.0.1/item/queryItem.action?id=1</a> æŸ¥è¯¢,GET</li><li><a href="http://127.0.0.1/item/saveItem.action" target="_blank" rel="noopener">http://127.0.0.1/item/saveItem.action</a> æ–°å¢,POST</li><li><a href="http://127.0.0.1/item/updateItem.action" target="_blank" rel="noopener">http://127.0.0.1/item/updateItem.action</a> æ›´æ–°,POST</li><li><a href="http://127.0.0.1/item/deleteItem.action?id=1" target="_blank" rel="noopener">http://127.0.0.1/item/deleteItem.action?id=1</a> åˆ é™¤,GETæˆ–POST</li></ul><p><strong>ä½¿ç”¨RESTfulæ“ä½œèµ„æº</strong> ï¼š å¯ä»¥é€šè¿‡ä¸åŒçš„è¯·æ±‚æ–¹å¼æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼å¦‚ä¸‹ï¼šè¯·æ±‚åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯åŠŸèƒ½å¯ä»¥ä¸åŒï¼</p><ul><li><a href="http://127.0.0.1/item/1" target="_blank" rel="noopener">http://127.0.0.1/item/1</a> æŸ¥è¯¢,GET</li><li><a href="http://127.0.0.1/item" target="_blank" rel="noopener">http://127.0.0.1/item</a> æ–°å¢,POST</li><li><a href="http://127.0.0.1/item" target="_blank" rel="noopener">http://127.0.0.1/item</a> æ›´æ–°,PUT</li><li><a href="http://127.0.0.1/item/1" target="_blank" rel="noopener">http://127.0.0.1/item/1</a> åˆ é™¤,DELETE</li></ul><p><strong>å­¦ä¹ æµ‹è¯•</strong></p><ol><li><p>åœ¨æ–°å»ºä¸€ä¸ªç±» RestFulController</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestFulController</span> </span>{}</code></pre></div></li><li><p>åœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨ @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURIæ¨¡æ¿å˜é‡ä¸Šã€‚</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestFulController</span> </span>{    <span class="hljs-comment">//åŸæ¥çš„ :  http://localhost: 8080/add?a=1&amp;b=2</span>    <span class="hljs-comment">//RestFul :  http://localhost : 8080/add/1/2</span>        <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/commit/{p1}/{p2}"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(@PathVariable <span class="hljs-keyword">int</span> p1, @PathVariable <span class="hljs-keyword">int</span> p2, Model model)</span></span>{                <span class="hljs-keyword">int</span> result = p1+p2;        <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span>        model.addAttribute(<span class="hljs-string">"msg"</span>, <span class="hljs-string">"ç»“æœï¼š"</span>+result);        <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;            }    }</code></pre></div></li><li><p>æˆ‘ä»¬æ¥æµ‹è¯•è¯·æ±‚æŸ¥çœ‹ä¸‹<br> <img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213217087-619232504.png" srcset="/blog/img/loading.gif" alt="img"></p></li><li><p>æ€è€ƒï¼šä½¿ç”¨è·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ</p><ul><li><p>ä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼›</p></li><li><p>è·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚</p></li><li><p>é€šè¿‡è·¯å¾„å˜é‡çš„ç±»å‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/commit/1/aï¼Œåˆ™è·¯å¾„ä¸æ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202004/1905053-20200401214609681-1237588624.png" srcset="/blog/img/loading.gif" alt="img"></p></li></ul></li><li><p>æˆ‘ä»¬æ¥ä¿®æ”¹ä¸‹å¯¹åº”çš„å‚æ•°ç±»å‹ï¼Œå†æ¬¡æµ‹è¯•</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/commit/{p1}/{p2}"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(@PathVariable <span class="hljs-keyword">int</span> p1, @PathVariable String p2, Model model)</span></span>{    String result = p1+p2;    <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span>    model.addAttribute(<span class="hljs-string">"msg"</span>, <span class="hljs-string">"ç»“æœï¼š"</span>+result);    <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span>    <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;}</code></pre></div><p> <img src="https://img2020.cnblogs.com/blog/1905053/202004/1905053-20200401214657561-1298821776.png" srcset="/blog/img/loading.gif" alt="img"></p></li></ol><p><strong>ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹</strong></p><p>ç”¨äºçº¦æŸè¯·æ±‚çš„ç±»å‹ï¼Œå¯ä»¥æ”¶çª„è¯·æ±‚èŒƒå›´ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»å‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰</p><p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p><ul><li><p>å¢åŠ ä¸€ä¸ªæ–¹æ³•</p>  <div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯POSTè¯·æ±‚</span><span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">"/hello"</span>,method = {RequestMethod.POST})<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index2</span><span class="hljs-params">(Model model)</span></span>{    model.addAttribute(<span class="hljs-string">"msg"</span>, <span class="hljs-string">"hello!"</span>);    <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;}</code></pre></div></li><li><p>æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405ï¼š<br>  <img src="https://img2020.cnblogs.com/blog/1905053/202004/1905053-20200401214714976-802588010.png" srcset="/blog/img/loading.gif" alt="img"></p></li><li><p>å¦‚æœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº†ï¼›</p>  <div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯Getè¯·æ±‚</span><span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">"/hello"</span>,method = {RequestMethod.GET})<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index2</span><span class="hljs-params">(Model model)</span></span>{    model.addAttribute(<span class="hljs-string">"msg"</span>, <span class="hljs-string">"hello!"</span>);    <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;}</code></pre></div><p>  <img src="https://img2020.cnblogs.com/blog/1905053/202004/1905053-20200401214737681-664600385.png" srcset="/blog/img/loading.gif" alt="img"></p></li></ul><p><strong>å°ç»“ï¼š</strong></p><p>Spring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥åŠ PATCHã€‚</p><p><strong>æ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP GET ç±»å‹çš„ã€‚</strong></p><p>æ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š ç»„åˆæ³¨è§£</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@GetMapping</span><span class="hljs-meta">@PostMapping</span><span class="hljs-meta">@PutMapping</span><span class="hljs-meta">@DeleteMapping</span><span class="hljs-meta">@PatchMapping</span></code></pre></div><p>@GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestFulController</span> </span>{    <span class="hljs-comment">//åŸæ¥çš„ :  http://localhost: 8080/add?a=1&amp;b=2</span>    <span class="hljs-comment">//RestFul :  http://localhost : 8080/add/1/2</span>    <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span>    <span class="hljs-comment">//@RequestMapping(value = "/commit/{p1}/{p2}",method = RequestMethod.GET)</span>    <span class="hljs-comment">//@GetMapping("/commit/{p1}/{p2}")</span>    <span class="hljs-meta">@GetMapping</span>(path = <span class="hljs-string">"/commit/{p1}/{p2}"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(@PathVariable <span class="hljs-keyword">int</span> p1, @PathVariable <span class="hljs-keyword">int</span> p2, Model model)</span></span>{                <span class="hljs-keyword">int</span> result = p1+p2;        <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span>        model.addAttribute(<span class="hljs-string">"msg"</span>, <span class="hljs-string">"ç»“æœï¼š"</span>+result);        <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;      }    }</code></pre></div><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213251638-969968192.png" srcset="/blog/img/loading.gif" alt="img"></p><p>å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚</p><p>å¹³æ—¶ä½¿ç”¨çš„ä¼šæ¯”è¾ƒå¤šï¼</p><h3 id="å°é»„é¸­è°ƒè¯•æ³•"><a href="#å°é»„é¸­è°ƒè¯•æ³•" class="headerlink" title="å°é»„é¸­è°ƒè¯•æ³•"></a>å°é»„é¸­è°ƒè¯•æ³•</h3><p>åœºæ™¯ä¸€ï¼š<em>æˆ‘ä»¬éƒ½æœ‰è¿‡å‘åˆ«äººï¼ˆç”šè‡³å¯èƒ½å‘å®Œå…¨ä¸ä¼šç¼–ç¨‹çš„äººï¼‰æé—®åŠè§£é‡Šç¼–ç¨‹é—®é¢˜çš„ç»å†ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™å°±åœ¨æˆ‘ä»¬è§£é‡Šçš„è¿‡ç¨‹ä¸­è‡ªå·±å´æƒ³åˆ°äº†é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œç„¶åå¯¹æ–¹å´ä¸€è„¸èŒ«ç„¶ã€‚</em></p><p>åœºæ™¯äºŒï¼šä½ çš„åŒè¡Œè·‘æ¥é—®ä½ ä¸€ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å½“ä»–è‡ªå·±æŠŠé—®é¢˜è¯´å®Œï¼Œæˆ–è¯´åˆ°ä¸€åŠçš„æ—¶å€™å°±æƒ³å‡ºç­”æ¡ˆèµ°äº†ï¼Œç•™ä¸‹ä¸€è„¸èŒ«ç„¶çš„ä½ ã€‚</p><p>å…¶å®ä¸Šé¢ä¸¤ç§åœºæ™¯ç°è±¡å°±æ˜¯æ‰€è°“çš„å°é»„é¸­è°ƒè¯•æ³•ï¼ˆRubber Duck Debugingï¼‰ï¼Œåˆç§°æ©¡çš®é¸­è°ƒè¯•æ³•ï¼Œå®ƒæ˜¯æˆ‘ä»¬è½¯ä»¶å·¥ç¨‹ä¸­æœ€å¸¸ä½¿ç”¨è°ƒè¯•æ–¹æ³•ä¹‹ä¸€ã€‚</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202004/1905053-20200401214504256-745544113.png" srcset="/blog/img/loading.gif" alt="img"></p><p>æ­¤æ¦‚å¿µæ®è¯´æ¥è‡ªã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ã€‹ä¹¦ä¸­çš„ä¸€ä¸ªæ•…äº‹ï¼Œä¼ è¯´ç¨‹åºå¤§å¸ˆéšèº«æºå¸¦ä¸€åªå°é»„é¸­ï¼Œåœ¨è°ƒè¯•ä»£ç çš„æ—¶å€™ä¼šåœ¨æ¡Œä¸Šæ”¾ä¸Šè¿™åªå°é»„é¸­ï¼Œç„¶åè¯¦ç»†åœ°å‘é¸­å­è§£é‡Šæ¯è¡Œä»£ç ï¼Œç„¶åå¾ˆå¿«å°±å°†é—®é¢˜å®šä½ä¿®å¤äº†ã€‚</p><h2 id="7ã€SpringMVCï¼šç»“æœè·³è½¬ä¸‰ç§æ–¹å¼-è½¬å‘ã€é‡å®šå‘"><a href="#7ã€SpringMVCï¼šç»“æœè·³è½¬ä¸‰ç§æ–¹å¼-è½¬å‘ã€é‡å®šå‘" class="headerlink" title="7ã€SpringMVCï¼šç»“æœè·³è½¬ä¸‰ç§æ–¹å¼(è½¬å‘ã€é‡å®šå‘)"></a>7ã€SpringMVCï¼šç»“æœè·³è½¬ä¸‰ç§æ–¹å¼(è½¬å‘ã€é‡å®šå‘)</h2><h3 id="7-1ã€ModelAndView"><a href="#7-1ã€ModelAndView" class="headerlink" title="7.1ã€ModelAndView"></a>7.1ã€ModelAndView</h3><p>è®¾ç½®ModelAndViewå¯¹è±¡ , æ ¹æ®viewçš„åç§° , å’Œè§†å›¾è§£æå™¨è·³åˆ°æŒ‡å®šçš„é¡µé¢ .</p><p>é¡µé¢ : {è§†å›¾è§£æå™¨å‰ç¼€} + viewName +{è§†å›¾è§£æå™¨åç¼€}</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span></span><span class="hljs-tag">      <span class="hljs-attr">id</span>=<span class="hljs-string">"internalResourceViewResolver"</span>&gt;</span>    <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/WEB-INF/jsp/"</span> /&gt;</span>    <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div><p>å¯¹åº”çš„controllerç±»</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span>        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();        mv.addObject(<span class="hljs-string">"msg"</span>,<span class="hljs-string">"ControllerTest1"</span>);        mv.setViewName(<span class="hljs-string">"test"</span>);        <span class="hljs-keyword">return</span> mv;    }}</code></pre></div><h3 id="7-2ã€ServletAPI"><a href="#7-2ã€ServletAPI" class="headerlink" title="7.2ã€ServletAPI"></a>7.2ã€ServletAPI</h3><p>é€šè¿‡è®¾ç½®ServletAPI , ä¸éœ€è¦è§†å›¾è§£æå™¨ .</p><ol><li>é€šè¿‡HttpServletResponseè¿›è¡Œè¾“å‡º</li><li>é€šè¿‡HttpServletResponseå®ç°é‡å®šå‘</li><li>é€šè¿‡HttpServletResponseå®ç°è½¬å‘</li></ol><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResultGo</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/result/t1"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> IOException </span>{        rsp.getWriter().println(<span class="hljs-string">"Hello,Spring BY servlet API"</span>);    }    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/result/t2"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> IOException </span>{        rsp.sendRedirect(<span class="hljs-string">"/index.jsp"</span>);    }    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/result/t3"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test3</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-comment">//è½¬å‘</span>        req.setAttribute(<span class="hljs-string">"msg"</span>,<span class="hljs-string">"/result/t3"</span>);        req.getRequestDispatcher(<span class="hljs-string">"/WEB-INF/jsp/test.jsp"</span>).forward(req,rsp);    }}</code></pre></div><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213355173-975224060.png" srcset="/blog/img/loading.gif" alt="img"></p><h3 id="7-3ã€SpringMVC"><a href="#7-3ã€SpringMVC" class="headerlink" title="7.3ã€SpringMVC"></a>7.3ã€SpringMVC</h3><p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æ— éœ€è§†å›¾è§£æå™¨ï¼›</strong></p><p>æµ‹è¯•å‰ï¼Œéœ€è¦å°†è§†å›¾è§£æå™¨æ³¨é‡Šæ‰</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResultSpringMVC</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/rsm/t1"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test1</span><span class="hljs-params">()</span></span>{        <span class="hljs-comment">//è½¬å‘</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"/index.jsp"</span>;    }    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/rsm/t2"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test2</span><span class="hljs-params">()</span></span>{        <span class="hljs-comment">//è½¬å‘äºŒ</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"forward:/index.jsp"</span>;    }    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/rsm/t3"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test3</span><span class="hljs-params">()</span></span>{        <span class="hljs-comment">//é‡å®šå‘</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/index.jsp"</span>;    }}</code></pre></div><p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æœ‰è§†å›¾è§£æå™¨ï¼›</strong></p><p>é‡å®šå‘ , ä¸éœ€è¦è§†å›¾è§£æå™¨ , æœ¬è´¨å°±æ˜¯é‡æ–°è¯·æ±‚ä¸€ä¸ªæ–°åœ°æ–¹å˜› , æ‰€ä»¥æ³¨æ„è·¯å¾„é—®é¢˜.</p><p>å¯ä»¥é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªè¯·æ±‚å®ç° .</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResultSpringMVC2</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/rsm2/t1"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test1</span><span class="hljs-params">()</span></span>{        <span class="hljs-comment">//è½¬å‘</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;    }    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/rsm2/t2"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test2</span><span class="hljs-params">()</span></span>{        <span class="hljs-comment">//é‡å®šå‘</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/index.jsp"</span>;        <span class="hljs-comment">//return "redirect:hello.do"; //hello.doä¸ºå¦ä¸€ä¸ªè¯·æ±‚/</span>    }}</code></pre></div><h2 id="8ã€æ•°æ®å¤„ç†ï¼ˆæ¥æ”¶è¯·æ±‚å‚æ•°åŠæ•°æ®å›æ˜¾ï¼‰"><a href="#8ã€æ•°æ®å¤„ç†ï¼ˆæ¥æ”¶è¯·æ±‚å‚æ•°åŠæ•°æ®å›æ˜¾ï¼‰" class="headerlink" title="8ã€æ•°æ®å¤„ç†ï¼ˆæ¥æ”¶è¯·æ±‚å‚æ•°åŠæ•°æ®å›æ˜¾ï¼‰"></a>8ã€æ•°æ®å¤„ç†ï¼ˆæ¥æ”¶è¯·æ±‚å‚æ•°åŠæ•°æ®å›æ˜¾ï¼‰</h2><h3 id="å¤„ç†æäº¤æ•°æ®"><a href="#å¤„ç†æäº¤æ•°æ®" class="headerlink" title="å¤„ç†æäº¤æ•°æ®"></a>å¤„ç†æäº¤æ•°æ®</h3><p><strong>1ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´</strong></p><p>æäº¤æ•°æ® : <a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080/hello?name=kuangshen</p><p>å¤„ç†æ–¹æ³• :</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/hello"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(String name)</span></span>{    System.out.println(name);    <span class="hljs-keyword">return</span> <span class="hljs-string">"hello"</span>;}</code></pre></div><p>åå°è¾“å‡º : kuangshen</p><p><strong>2ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´</strong></p><p>æäº¤æ•°æ® : <a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080/hello?username=kuangshen</p><p>å¤„ç†æ–¹æ³• :</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//@RequestParam("username") : usernameæäº¤çš„åŸŸçš„åç§° .</span><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/hello"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(@RequestParam(<span class="hljs-string">"username"</span>)</span> String name)</span>{    System.out.println(name);    <span class="hljs-keyword">return</span> <span class="hljs-string">"hello"</span>;}</code></pre></div><p>åå°è¾“å‡º :</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213420413-895694643.png" srcset="/blog/img/loading.gif" alt="img"></p><p><strong>3ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</strong></p><p>è¦æ±‚æäº¤çš„è¡¨å•åŸŸå’Œå¯¹è±¡çš„å±æ€§åä¸€è‡´ , å‚æ•°ä½¿ç”¨å¯¹è±¡å³å¯</p><ol><li><p>å®ä½“ç±»</p> <div class="hljs"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;    <span class="hljs-comment">//æ„é€ </span>    <span class="hljs-comment">//get/set</span>    <span class="hljs-comment">//tostring()</span>}</code></pre></div></li><li><p>æäº¤æ•°æ® : <a href="http://localhost:8080/user?name=kuangshen&amp;id=1&amp;age=15" target="_blank" rel="noopener">http://localhost:8080/user?name=kuangshen&amp;id=1&amp;age=15</a></p></li><li><p>å¤„ç†æ–¹æ³• :</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/user"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">user</span><span class="hljs-params">(User user)</span></span>{    System.out.println(user);    <span class="hljs-keyword">return</span> <span class="hljs-string">"hello"</span>;}</code></pre></div><p> åå°è¾“å‡º : User { id=1, name=â€™kuangshenâ€™, age=15 }</p></li></ol><p><strong>è¯´æ˜ï¼šå¦‚æœä½¿ç”¨å¯¹è±¡çš„è¯ï¼Œå‰ç«¯ä¼ é€’çš„å‚æ•°åå’Œå¯¹è±¡åå¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™å°±æ˜¯nullã€‚</strong></p><h3 id="æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"><a href="#æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯" class="headerlink" title="æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"></a>æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯</h3><p><strong>ç¬¬ä¸€ç§ : é€šè¿‡ModelAndView</strong></p><p>æˆ‘ä»¬å‰é¢ä¸€ç›´éƒ½æ˜¯å¦‚æ­¤ . å°±ä¸è¿‡å¤šè§£é‡Š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span>        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();        mv.addObject(<span class="hljs-string">"msg"</span>,<span class="hljs-string">"ControllerTest1"</span>);        mv.setViewName(<span class="hljs-string">"test"</span>);        <span class="hljs-keyword">return</span> mv;    }}</code></pre></div><p><strong>ç¬¬äºŒç§ : é€šè¿‡ModelMap</strong></p><p>ModelMap</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/hello"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(@RequestParam(<span class="hljs-string">"username"</span>)</span> String name, ModelMap model)</span>{    <span class="hljs-comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span>    <span class="hljs-comment">//ç›¸å½“äºreq.setAttribute("name",name);</span>    model.addAttribute(<span class="hljs-string">"name"</span>,name);    System.out.println(name);    <span class="hljs-keyword">return</span> <span class="hljs-string">"hello"</span>;}</code></pre></div><p><strong>ç¬¬ä¸‰ç§ : é€šè¿‡Model</strong></p><p>Model</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/ct2/hello"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(@RequestParam(<span class="hljs-string">"username"</span>)</span> String name, Model model)</span>{    <span class="hljs-comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span>    <span class="hljs-comment">//ç›¸å½“äºreq.setAttribute("name",name);</span>    model.addAttribute(<span class="hljs-string">"msg"</span>,name);    System.out.println(name);    <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>;}</code></pre></div><h3 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h3><p>å°±å¯¹äºæ–°æ‰‹è€Œè¨€ç®€å•æ¥è¯´ä½¿ç”¨åŒºåˆ«å°±æ˜¯ï¼š</p><div class="hljs"><pre><code class="hljs properties"><span class="hljs-attr">Model</span> <span class="hljs-string">åªæœ‰å¯¥å¯¥å‡ ä¸ªæ–¹æ³•åªé€‚åˆç”¨äºå‚¨å­˜æ•°æ®ï¼Œç®€åŒ–äº†æ–°æ‰‹å¯¹äºModelå¯¹è±¡çš„æ“ä½œå’Œç†è§£ï¼›</span><span class="hljs-attr">ModelMap</span> <span class="hljs-string">ç»§æ‰¿äº† LinkedMap ï¼Œé™¤äº†å®ç°äº†è‡ªèº«çš„ä¸€äº›æ–¹æ³•ï¼ŒåŒæ ·çš„ç»§æ‰¿ LinkedMap çš„æ–¹æ³•å’Œç‰¹æ€§ï¼›</span><span class="hljs-attr">ModelAndView</span> <span class="hljs-string">å¯ä»¥åœ¨å‚¨å­˜æ•°æ®çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®è¿”å›çš„é€»è¾‘è§†å›¾ï¼Œè¿›è¡Œæ§åˆ¶å±•ç¤ºå±‚çš„è·³è½¬ã€‚</span></code></pre></div><p>å½“ç„¶æ›´å¤šçš„ä»¥åå¼€å‘è€ƒè™‘çš„æ›´å¤šçš„æ˜¯æ€§èƒ½å’Œä¼˜åŒ–ï¼Œå°±ä¸èƒ½å•å•ä»…é™äºæ­¤çš„äº†è§£ã€‚</p><p><strong>è¯·ä½¿ç”¨80%çš„æ—¶é—´æ‰“å¥½æ‰å®çš„åŸºç¡€ï¼Œå‰©ä¸‹18%çš„æ—¶é—´ç ”ç©¶æ¡†æ¶ï¼Œ2%çš„æ—¶é—´å»å­¦ç‚¹è‹±æ–‡ï¼Œæ¡†æ¶çš„å®˜æ–¹æ–‡æ¡£æ°¸è¿œæ˜¯æœ€å¥½çš„æ•™ç¨‹ã€‚</strong></p><h2 id="9ã€æ•°æ®å¤„ç†ï¼ˆä¹±ç é—®é¢˜ï¼‰"><a href="#9ã€æ•°æ®å¤„ç†ï¼ˆä¹±ç é—®é¢˜ï¼‰" class="headerlink" title="9ã€æ•°æ®å¤„ç†ï¼ˆä¹±ç é—®é¢˜ï¼‰"></a>9ã€æ•°æ®å¤„ç†ï¼ˆä¹±ç é—®é¢˜ï¼‰</h2><p>æµ‹è¯•æ­¥éª¤ï¼š</p><ol><li><p>æˆ‘ä»¬å¯ä»¥åœ¨é¦–é¡µç¼–å†™ä¸€ä¸ªæäº¤çš„è¡¨å•</p> <div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/e/t"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></code></pre></div></li><li><p>åå°ç¼–å†™å¯¹åº”çš„å¤„ç†ç±»</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Encoding</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/e/t"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">(Model model,String name)</span></span>{        model.addAttribute(<span class="hljs-string">"msg"</span>,name); <span class="hljs-comment">//è·å–è¡¨å•æäº¤çš„å€¼</span>        <span class="hljs-keyword">return</span> <span class="hljs-string">"test"</span>; <span class="hljs-comment">//è·³è½¬åˆ°testé¡µé¢æ˜¾ç¤ºè¾“å…¥çš„å€¼</span>    }}</code></pre></div></li><li><p>è¾“å…¥ä¸­æ–‡æµ‹è¯•ï¼Œå‘ç°ä¹±ç <br> <img src="https://img2020.cnblogs.com/blog/1905053/202004/1905053-20200402193540997-1854631524.png" srcset="/blog/img/loading.gif" alt="img"></p></li></ol><p>ä¸å¾—ä¸è¯´ï¼Œä¹±ç é—®é¢˜æ˜¯åœ¨æˆ‘ä»¬å¼€å‘ä¸­ååˆ†å¸¸è§çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯è®©æˆ‘ä»¬ç¨‹åºçŒ¿æ¯”è¾ƒå¤´å¤§çš„é—®é¢˜ï¼</p><p>ä»¥å‰ä¹±ç é—®é¢˜é€šè¿‡è¿‡æ»¤å™¨è§£å†³ , è€ŒSpringMVCç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¿‡æ»¤å™¨ , å¯ä»¥åœ¨web.xmlä¸­é…ç½® .</p><p>ä¿®æ”¹äº†xmlæ–‡ä»¶éœ€è¦é‡å¯æœåŠ¡å™¨ï¼</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--2.é…ç½®SpringMVCçš„ä¹±ç è¿‡æ»¤--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span></code></pre></div><p>æœ‰äº›æç«¯æƒ…å†µä¸‹.è¿™ä¸ªè¿‡æ»¤å™¨å¯¹getçš„æ”¯æŒä¸å¥½ .</p><p>å¤„ç†æ–¹æ³• :</p><ol><li><p>ä¿®æ”¹tomcaté…ç½®æ–‡ä»¶ ï¼š è®¾ç½®ç¼–ç ï¼</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">URIEncoding</span>=<span class="hljs-string">"utf-8"</span> <span class="hljs-attr">port</span>=<span class="hljs-string">"8080"</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">"HTTP/1.1"</span></span><span class="hljs-tag">           <span class="hljs-attr">connectionTimeout</span>=<span class="hljs-string">"20000"</span></span><span class="hljs-tag">           <span class="hljs-attr">redirectPort</span>=<span class="hljs-string">"8443"</span> /&gt;</span></code></pre></div></li><li><p>è‡ªå®šä¹‰è¿‡æ»¤å™¨</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.filter;<span class="hljs-keyword">import</span> javax.servlet.*;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequestWrapper;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<span class="hljs-keyword">import</span> java.io.IOException;<span class="hljs-keyword">import</span> java.io.UnsupportedEncodingException;<span class="hljs-keyword">import</span> java.util.Map;<span class="hljs-comment">/**</span><span class="hljs-comment"> * è§£å†³getå’Œpostè¯·æ±‚ å…¨éƒ¨ä¹±ç çš„è¿‡æ»¤å™¨</span><span class="hljs-comment"> */</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenericEncodingFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span> </span>{    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span> </span>{    }    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException </span>{        <span class="hljs-comment">//å¤„ç†responseçš„å­—ç¬¦ç¼–ç </span>        HttpServletResponse myResponse=(HttpServletResponse) response;        myResponse.setContentType(<span class="hljs-string">"text/html;charset=UTF-8"</span>);        <span class="hljs-comment">// è½¬å‹ä¸ºä¸åè®®ç›¸å…³å¯¹è±¡</span>        HttpServletRequest httpServletRequest = (HttpServletRequest) request;        <span class="hljs-comment">// å¯¹requeståŒ…è£…å¢å¼º</span>        HttpServletRequest myrequest = <span class="hljs-keyword">new</span> MyRequest(httpServletRequest);        chain.doFilter(myrequest, response);    }    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException </span>{    }}<span class="hljs-comment">//è‡ªå®šä¹‰requestå¯¹è±¡ï¼ŒHttpServletRequestçš„åŒ…è£…ç±»</span><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyRequest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServletRequestWrapper</span> </span>{    <span class="hljs-keyword">private</span> HttpServletRequest request;    <span class="hljs-comment">//æ˜¯å¦ç¼–ç çš„æ ‡è®°</span>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> hasEncode;    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå¯ä»¥ä¼ å…¥HttpServletRequestå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œä»¥ä¾¿å¯¹å…¶è¿›è¡Œè£…é¥°</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyRequest</span><span class="hljs-params">(HttpServletRequest request)</span> </span>{        <span class="hljs-keyword">super</span>(request);<span class="hljs-comment">// superå¿…é¡»å†™</span>        <span class="hljs-keyword">this</span>.request = request;    }    <span class="hljs-comment">// å¯¹éœ€è¦å¢å¼ºæ–¹æ³• è¿›è¡Œè¦†ç›–</span>    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> Map <span class="hljs-title">getParameterMap</span><span class="hljs-params">()</span> </span>{        <span class="hljs-comment">// å…ˆè·å¾—è¯·æ±‚æ–¹å¼</span>        String method = request.getMethod();        <span class="hljs-keyword">if</span> (method.equalsIgnoreCase(<span class="hljs-string">"post"</span>)) {            <span class="hljs-comment">// postè¯·æ±‚</span>            <span class="hljs-keyword">try</span> {                <span class="hljs-comment">// å¤„ç†postä¹±ç </span>                request.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);                <span class="hljs-keyword">return</span> request.getParameterMap();            } <span class="hljs-keyword">catch</span> (UnsupportedEncodingException e) {                e.printStackTrace();            }        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equalsIgnoreCase(<span class="hljs-string">"get"</span>)) {            <span class="hljs-comment">// getè¯·æ±‚</span>            Map&lt;String, String[]&gt; parameterMap = request.getParameterMap();            <span class="hljs-keyword">if</span> (!hasEncode) { <span class="hljs-comment">// ç¡®ä¿getæ‰‹åŠ¨ç¼–ç é€»è¾‘åªè¿è¡Œä¸€æ¬¡</span>                <span class="hljs-keyword">for</span> (String parameterName : parameterMap.keySet()) {                    String[] values = parameterMap.get(parameterName);                    <span class="hljs-keyword">if</span> (values != <span class="hljs-keyword">null</span>) {                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; values.length; i++) {                            <span class="hljs-keyword">try</span> {                                <span class="hljs-comment">// å¤„ç†getä¹±ç </span>                                values[i] = <span class="hljs-keyword">new</span> String(values[i]                                        .getBytes(<span class="hljs-string">"ISO-8859-1"</span>), <span class="hljs-string">"utf-8"</span>);                            } <span class="hljs-keyword">catch</span> (UnsupportedEncodingException e) {                                e.printStackTrace();                            }                        }                    }                }                hasEncode = <span class="hljs-keyword">true</span>;            }            <span class="hljs-keyword">return</span> parameterMap;        }        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.getParameterMap();    }    <span class="hljs-comment">//å–ä¸€ä¸ªå€¼</span>    <span class="hljs-meta">@Override</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getParameter</span><span class="hljs-params">(String name)</span> </span>{        Map&lt;String, String[]&gt; parameterMap = getParameterMap();        String[] values = parameterMap.get(name);        <span class="hljs-keyword">if</span> (values == <span class="hljs-keyword">null</span>) {            <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;        }        <span class="hljs-keyword">return</span> values[<span class="hljs-number">0</span>]; <span class="hljs-comment">// å–å›å‚æ•°çš„ç¬¬ä¸€ä¸ªå€¼</span>    }    <span class="hljs-comment">//å–æ‰€æœ‰å€¼</span>    <span class="hljs-meta">@Override</span>    <span class="hljs-keyword">public</span> String[] getParameterValues(String name) {        Map&lt;String, String[]&gt; parameterMap = getParameterMap();        String[] values = parameterMap.get(name);        <span class="hljs-keyword">return</span> values;    }}</code></pre></div></li></ol><p>è¿™ä¸ªä¹Ÿæ˜¯æˆ‘åœ¨ç½‘ä¸Šæ‰¾çš„ä¸€äº›å¤§ç¥å†™çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSpringMVCé»˜è®¤çš„ä¹±ç å¤„ç†å°±å·²ç»èƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³äº†ï¼</p><p><strong>ç„¶ååœ¨web.xmlä¸­é…ç½®è¿™ä¸ªè¿‡æ»¤å™¨å³å¯ï¼</strong></p><p>ä¹±ç é—®é¢˜ï¼Œéœ€è¦å¹³æ—¶å¤šæ³¨æ„ï¼Œåœ¨å°½å¯èƒ½èƒ½è®¾ç½®ç¼–ç çš„åœ°æ–¹ï¼Œéƒ½è®¾ç½®ä¸ºç»Ÿä¸€ç¼–ç  UTF-8ï¼</p><h2 id="10ã€JSONè®²è§£"><a href="#10ã€JSONè®²è§£" class="headerlink" title="10ã€JSONè®²è§£"></a>10ã€JSONè®²è§£</h2><h3 id="ä»€ä¹ˆæ˜¯JSONï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯JSONï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯JSONï¼Ÿ"></a>ä»€ä¹ˆæ˜¯JSONï¼Ÿ</h3><ul><li>JSON(JavaScript Object Notation, JS å¯¹è±¡æ ‡è®°) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ã€‚</li><li>é‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„<strong>æ–‡æœ¬æ ¼å¼</strong>æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ã€‚</li><li>ç®€æ´å’Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚</li><li>æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</li></ul><p>åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œä»»ä½•JavaScript æ”¯æŒçš„ç±»å‹éƒ½å¯ä»¥é€šè¿‡ JSON æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€æ•°ç»„ç­‰ã€‚çœ‹çœ‹ä»–çš„è¦æ±‚å’Œè¯­æ³•æ ¼å¼ï¼š</p><ul><li>å¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš”</li><li>èŠ±æ‹¬å·ä¿å­˜å¯¹è±¡</li><li>æ–¹æ‹¬å·ä¿å­˜æ•°ç»„</li></ul><p><strong>JSON é”®å€¼å¯¹</strong>æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼š</p><div class="hljs"><pre><code class="hljs json">{<span class="hljs-attr">"name"</span>: <span class="hljs-string">"QinJiang"</span>}{<span class="hljs-attr">"age"</span>: <span class="hljs-string">"3"</span>}{<span class="hljs-attr">"sex"</span>: <span class="hljs-string">"ç”·"</span>}</code></pre></div><p>å¾ˆå¤šäººæä¸æ¸…æ¥š JSON å’Œ JavaScript å¯¹è±¡çš„å…³ç³»ï¼Œç”šè‡³è¿è°æ˜¯è°éƒ½ä¸æ¸…æ¥šã€‚å…¶å®ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼š</p><ul><li><p>JSON æ˜¯ JavaScript å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ª JS å¯¹è±¡çš„ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>  <div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj = {<span class="hljs-attr">a</span>: <span class="hljs-string">'Hello'</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">'World'</span>}; <span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ³¨æ„é”®åä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨å¼•å·åŒ…è£¹çš„</span><span class="hljs-keyword">var</span> json = <span class="hljs-string">'{"a": "Hello", "b": "World"}'</span>; <span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></code></pre></div></li></ul><p><strong>JSON å’Œ JavaScript å¯¹è±¡äº’è½¬</strong></p><ul><li><p>è¦å®ç°ä»JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScript å¯¹è±¡ï¼Œä½¿ç”¨ JSON.parse() æ–¹æ³•ï¼š</p>  <div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-string">'{"a": "Hello", "b": "World"}'</span>); <span class="hljs-comment">//ç»“æœæ˜¯ {a: 'Hello', b: 'World'}</span></code></pre></div></li><li><p>è¦å®ç°ä»JavaScript å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ JSON.stringify() æ–¹æ³•ï¼š</p>  <div class="hljs"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> json = <span class="hljs-built_in">JSON</span>.stringify({<span class="hljs-attr">a</span>: <span class="hljs-string">'Hello'</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">'World'</span>});<span class="hljs-comment">//ç»“æœæ˜¯ '{"a": "Hello", "b": "World"}'</span></code></pre></div></li></ul><p><strong>ä»£ç æµ‹è¯•</strong></p><ol><li><p>æ–°å»ºä¸€ä¸ªmodule ï¼Œspringmvc-05-json ï¼Œ æ·»åŠ webçš„æ”¯æŒ</p></li><li><p>åœ¨webç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª json-1.html ï¼Œ ç¼–å†™æµ‹è¯•å†…å®¹</p> <div class="hljs"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JSON_ç§¦ç–†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="actionscript"><span class="hljs-comment">//ç¼–å†™ä¸€ä¸ªjsçš„å¯¹è±¡</span></span><span class="actionscript"><span class="hljs-keyword">var</span> user = {</span><span class="actionscript"> name:<span class="hljs-string">"æˆåš"</span>,</span> age:3,<span class="actionscript"> sex:<span class="hljs-string">"ç”·"</span></span>};<span class="actionscript"><span class="hljs-comment">//å°†jså¯¹è±¡è½¬æ¢æˆjsonå­—ç¬¦ä¸²</span></span><span class="javascript"><span class="hljs-keyword">var</span> str = <span class="hljs-built_in">JSON</span>.stringify(user);</span><span class="javascript"><span class="hljs-built_in">console</span>.log(str);</span><span class="actionscript"><span class="hljs-comment">//å°†jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºjså¯¹è±¡</span></span><span class="javascript"><span class="hljs-keyword">var</span> user2 = <span class="hljs-built_in">JSON</span>.parse(str);</span><span class="javascript"><span class="hljs-built_in">console</span>.log(user2.age,user2.name,user2.sex);</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div></li><li><p>åœ¨IDEAä¸­ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼</p><p> <img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213612113-1624858159.png" srcset="/blog/img/loading.gif" alt="img"></p></li></ol><h3 id="Controllerè¿”å›JSONæ•°æ®"><a href="#Controllerè¿”å›JSONæ•°æ®" class="headerlink" title="Controllerè¿”å›JSONæ•°æ®"></a>Controllerè¿”å›JSONæ•°æ®</h3><h3 id="1-jackson"><a href="#1-jackson" class="headerlink" title="1.jackson"></a>1.jackson</h3><ul><li><p>Jacksonåº”è¯¥æ˜¯ç›®å‰æ¯”è¾ƒå¥½çš„jsonè§£æå·¥å…·äº†</p></li><li><p>å½“ç„¶å·¥å…·ä¸æ­¢è¿™ä¸€ä¸ªï¼Œæ¯”å¦‚è¿˜æœ‰é˜¿é‡Œå·´å·´çš„ fastjson ç­‰ç­‰ã€‚</p></li><li><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨Jacksonï¼Œä½¿ç”¨å®ƒéœ€è¦å¯¼å…¥å®ƒçš„jaråŒ…ï¼›</p>  <div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.10.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div></li><li><p>é…ç½®SpringMVCéœ€è¦çš„é…ç½®<br>  <strong>web.xml</strong></p>  <div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">"4.0"</span>&gt;</span>    <span class="hljs-comment">&lt;!--1.æ³¨å†Œservlet--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>        <span class="hljs-comment">&lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>        <span class="hljs-comment">&lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>    <span class="hljs-comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre></div></li></ul><p><strong>springmvc-servlet.xml</strong></p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">"http://www.springframework.org/schema/mvc"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/context</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/context/spring-context.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/mvc</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.kuang.controller"</span>/&gt;</span>    <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span></span><span class="hljs-tag">          <span class="hljs-attr">id</span>=<span class="hljs-string">"internalResourceViewResolver"</span>&gt;</span>        <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/WEB-INF/jsp/"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span> /&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><ul><li><p>æˆ‘ä»¬éšä¾¿ç¼–å†™ä¸€ä¸ªUserçš„å®ä½“ç±»ï¼Œç„¶åæˆ‘ä»¬å»ç¼–å†™æˆ‘ä»¬çš„æµ‹è¯•Controllerï¼›</p>  <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.pojo;<span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<span class="hljs-keyword">import</span> lombok.Data;<span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<span class="hljs-comment">//éœ€è¦å¯¼å…¥lombok</span><span class="hljs-meta">@Data</span><span class="hljs-meta">@AllArgsConstructor</span><span class="hljs-meta">@NoArgsConstructor</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;    <span class="hljs-keyword">private</span> String sex;    }</code></pre></div></li><li><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ–°ä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯@ResponseBodyï¼Œä¸€ä¸ªæ˜¯ObjectMapperå¯¹è±¡ï¼Œæˆ‘ä»¬çœ‹ä¸‹å…·ä½“çš„ç”¨æ³•</p></li></ul><p>ç¼–å†™ä¸€ä¸ªControllerï¼›</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/json1"</span>)    <span class="hljs-meta">@ResponseBody</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>{        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span>        ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span>        User user = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†1å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span>        String str = mapper.writeValueAsString(user);        <span class="hljs-comment">//ç”±äº@ResponseBodyæ³¨è§£ï¼Œè¿™é‡Œä¼šå°†strè½¬æˆjsonæ ¼å¼è¿”å›ï¼›ååˆ†æ–¹ä¾¿</span>        <span class="hljs-keyword">return</span> str;    }}</code></pre></div><ul><li>é…ç½®Tomcat ï¼Œ å¯åŠ¨æµ‹è¯•ä¸€ä¸‹ï¼</li></ul><p><a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080/json1</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213642133-500236017.png" srcset="/blog/img/loading.gif" alt="img"></p><ul><li><p>å‘ç°å‡ºç°äº†ä¹±ç é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹ä»–çš„ç¼–ç æ ¼å¼ä¸ºutf-8ï¼Œä»¥åŠå®ƒè¿”å›çš„ç±»å‹ï¼›</p></li><li><p>é€šè¿‡@RequestMapingçš„produceså±æ€§æ¥å®ç°ï¼Œä¿®æ”¹ä¸‹ä»£ç </p>  <div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span><span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">"/json1"</span>,produces = <span class="hljs-string">"application/json;charset=utf-8"</span>)</code></pre></div></li><li><p>å†æ¬¡æµ‹è¯•ï¼Œ <a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080/json1 ï¼Œ ä¹±ç é—®é¢˜OKï¼</p><p>  <img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213702188-1592450222.png" srcset="/blog/img/loading.gif" alt="img"></p></li></ul><p>ã€æ³¨æ„ï¼šä½¿ç”¨jsonè®°å¾—å¤„ç†ä¹±ç é—®é¢˜ã€‘</p><h3 id="ä»£ç ä¼˜åŒ–"><a href="#ä»£ç ä¼˜åŒ–" class="headerlink" title="ä»£ç ä¼˜åŒ–"></a>ä»£ç ä¼˜åŒ–</h3><p><strong>ä¹±ç ç»Ÿä¸€è§£å†³</strong></p><p>ä¸Šä¸€ç§æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå¦‚æœé¡¹ç›®ä¸­æœ‰è®¸å¤šè¯·æ±‚åˆ™æ¯ä¸€ä¸ªéƒ½è¦æ·»åŠ ï¼Œå¯ä»¥é€šè¿‡Springé…ç½®ç»Ÿä¸€æŒ‡å®šï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½å»å¤„ç†äº†ï¼</p><p>æˆ‘ä»¬å¯ä»¥åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸Šæ·»åŠ ä¸€æ®µæ¶ˆæ¯StringHttpMessageConverterè½¬æ¢é…ç½®ï¼</p><div class="hljs"><pre><code class="hljs xml"> <span class="hljs-comment">&lt;!--JSONä¹±ç é—®é¢˜é…ç½®--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:message-converters</span> <span class="hljs-attr">register-defaults</span>=<span class="hljs-string">"true"</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.http.converter.StringHttpMessageConverter"</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"UTF-8"</span>/&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"objectMapper"</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean"</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"failOnEmptyBeans"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"false"</span>/&gt;</span>                <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:message-converters</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:annotation-driven</span>&gt;</span></code></pre></div><p><strong>è¿”å›jsonå­—ç¬¦ä¸²ç»Ÿä¸€è§£å†³</strong></p><p>åœ¨ç±»ä¸Šç›´æ¥ä½¿ç”¨ <strong>@RestController</strong> ï¼Œè¿™æ ·å­ï¼Œé‡Œé¢æ‰€æœ‰çš„æ–¹æ³•éƒ½åªä¼šè¿”å› json å­—ç¬¦ä¸²äº†ï¼Œä¸ç”¨å†æ¯ä¸€ä¸ªéƒ½æ·»åŠ @ResponseBody ï¼æˆ‘ä»¬åœ¨å‰åç«¯åˆ†ç¦»å¼€å‘ä¸­ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨ @RestController ï¼Œååˆ†ä¾¿æ·ï¼</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>{    <span class="hljs-comment">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span>    <span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">"/json1"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>{        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span>        ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span>        User user = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†1å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span>        String str = mapper.writeValueAsString(user);        <span class="hljs-comment">//ç”±äº@ResponseBodyæ³¨è§£ï¼Œè¿™é‡Œä¼šå°†strè½¬æˆjsonæ ¼å¼è¿”å›ï¼›ååˆ†æ–¹ä¾¿</span>        <span class="hljs-keyword">return</span> str;    }}</code></pre></div><p>å¯åŠ¨tomcatæµ‹è¯•ï¼Œç»“æœéƒ½æ­£å¸¸è¾“å‡ºï¼</p><h3 id="æµ‹è¯•é›†åˆè¾“å‡º"><a href="#æµ‹è¯•é›†åˆè¾“å‡º" class="headerlink" title="æµ‹è¯•é›†åˆè¾“å‡º"></a>æµ‹è¯•é›†åˆè¾“å‡º</h3><p>å¢åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/json2"</span>)<span class="hljs-meta">@ResponseBody</span><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>{    <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span>    ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();    <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span>    User user1 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†1å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);    User user2 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†2å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);    User user3 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†3å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);    User user4 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†4å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);    List&lt;User&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;User&gt;();    list.add(user1);    list.add(user2);    list.add(user3);    list.add(user4);    <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span>    String str = mapper.writeValueAsString(list);    <span class="hljs-keyword">return</span> str;}</code></pre></div><p>è¿è¡Œç»“æœ : ååˆ†å®Œç¾ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼</p><h3 id="è¾“å‡ºæ—¶é—´å¯¹è±¡"><a href="#è¾“å‡ºæ—¶é—´å¯¹è±¡" class="headerlink" title="è¾“å‡ºæ—¶é—´å¯¹è±¡"></a>è¾“å‡ºæ—¶é—´å¯¹è±¡</h3><p>å¢åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/json3"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>{    ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();    <span class="hljs-comment">//åˆ›å»ºæ—¶é—´ä¸€ä¸ªå¯¹è±¡ï¼Œjava.util.Date</span>    Date date = <span class="hljs-keyword">new</span> Date();    <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span>    String str = mapper.writeValueAsString(date);    <span class="hljs-keyword">return</span> str;}</code></pre></div><p>è¿è¡Œç»“æœ :</p><ul><li>é»˜è®¤æ—¥æœŸæ ¼å¼ä¼šå˜æˆä¸€ä¸ªæ•°å­—ï¼Œæ˜¯1970å¹´1æœˆ1æ—¥åˆ°å½“å‰æ—¥æœŸçš„æ¯«ç§’æ•°ï¼</li><li>Jackson é»˜è®¤æ˜¯ä¼šæŠŠæ—¶é—´è½¬æˆtimestampså½¢å¼</li></ul><p><strong>è§£å†³æ–¹æ¡ˆï¼šå–æ¶ˆtimestampså½¢å¼ ï¼Œ è‡ªå®šä¹‰æ—¶é—´æ ¼å¼</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/json4"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json4</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>{    ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();    <span class="hljs-comment">//ä¸ä½¿ç”¨æ—¶é—´æˆ³çš„æ–¹å¼</span>    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, <span class="hljs-keyword">false</span>);    <span class="hljs-comment">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡</span>    SimpleDateFormat sdf = <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);    <span class="hljs-comment">//æŒ‡å®šæ—¥æœŸæ ¼å¼</span>    mapper.setDateFormat(sdf);    Date date = <span class="hljs-keyword">new</span> Date();    String str = mapper.writeValueAsString(date);    <span class="hljs-keyword">return</span> str;}</code></pre></div><p>è¿è¡Œç»“æœ : æˆåŠŸçš„è¾“å‡ºäº†æ—¶é—´ï¼</p><p><strong><em>æ—¶é—´æˆ³æ ¼å¼åŒ–ï¼Œè€æ‰‹è‰ºä¸èƒ½ä¸¢</em></strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/json6"</span>)  <span class="hljs-meta">@ResponseBody</span>  <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json6</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>{      ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();      Date date = <span class="hljs-keyword">new</span> Date();      <span class="hljs-comment">//è‡ªå®šä¹‰æ—¥æœŸçš„æ ¼å¼</span>      SimpleDateFormat sdf = <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);      <span class="hljs-comment">// objectMapper,æ—¶é—´è§£æåçš„é»˜è®¤æ ¼å¼ä¸º: Timestamp, æ—¶é—´è£</span>      <span class="hljs-keyword">return</span> mapper.writeValueAsString(sdf.format(date));  }</code></pre></div><h3 id="æŠ½å–ä¸ºå·¥å…·ç±»"><a href="#æŠ½å–ä¸ºå·¥å…·ç±»" class="headerlink" title="æŠ½å–ä¸ºå·¥å…·ç±»"></a>æŠ½å–ä¸ºå·¥å…·ç±»</h3><p><strong>å¦‚æœè¦ç»å¸¸ä½¿ç”¨çš„è¯ï¼Œè¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›ä»£ç å°è£…åˆ°ä¸€ä¸ªå·¥å…·ç±»ä¸­ï¼›æˆ‘ä»¬å»ç¼–å†™ä¸‹</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.utils;<span class="hljs-keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.SerializationFeature;<span class="hljs-keyword">import</span> java.text.SimpleDateFormat;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JsonUtils</span> </span>{        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getJson</span><span class="hljs-params">(Object object)</span> </span>{        <span class="hljs-keyword">return</span> getJson(object,<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getJson</span><span class="hljs-params">(Object object,String dateFormat)</span> </span>{        ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();        <span class="hljs-comment">//ä¸ä½¿ç”¨æ—¶é—´å·®çš„æ–¹å¼</span>        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, <span class="hljs-keyword">false</span>);        <span class="hljs-comment">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡</span>        SimpleDateFormat sdf = <span class="hljs-keyword">new</span> SimpleDateFormat(dateFormat);        <span class="hljs-comment">//æŒ‡å®šæ—¥æœŸæ ¼å¼</span>        mapper.setDateFormat(sdf);        <span class="hljs-keyword">try</span> {            <span class="hljs-keyword">return</span> mapper.writeValueAsString(object);        } <span class="hljs-keyword">catch</span> (JsonProcessingException e) {            e.printStackTrace();        }        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;    }}</code></pre></div><p>æˆ‘ä»¬ä½¿ç”¨å·¥å…·ç±»ï¼Œä»£ç å°±æ›´åŠ ç®€æ´äº†ï¼</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/json5"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json5</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>{    Date date = <span class="hljs-keyword">new</span> Date();    String json = JsonUtils.getJson(date);    <span class="hljs-keyword">return</span> json;}</code></pre></div><p>å¤§å·¥å‘Šæˆï¼å®Œç¾ï¼</p><h3 id="2-FastJson"><a href="#2-FastJson" class="headerlink" title="2.FastJson"></a>2.FastJson</h3><p>fastjson.jaræ˜¯é˜¿é‡Œå¼€å‘çš„ä¸€æ¬¾ä¸“é—¨ç”¨äºJavaå¼€å‘çš„åŒ…ï¼Œå¯ä»¥æ–¹ä¾¿çš„å®ç°jsonå¯¹è±¡ä¸JavaBeanå¯¹è±¡çš„è½¬æ¢ï¼Œå®ç°JavaBeanå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ï¼Œå®ç°jsonå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢ã€‚å®ç°jsonçš„è½¬æ¢æ–¹æ³•å¾ˆå¤šï¼Œæœ€åçš„å®ç°ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>fastjson çš„ pomä¾èµ–ï¼</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.60<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div><p>fastjson ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼š</p><ul><li>ã€JSONObject ä»£è¡¨ json å¯¹è±¡ ã€‘<ul><li>JSONObjectå®ç°äº†Mapæ¥å£, çŒœæƒ³ JSONObjectåº•å±‚æ“ä½œæ˜¯ç”±Mapå®ç°çš„ã€‚</li><li>JSONObjectå¯¹åº”jsonå¯¹è±¡ï¼Œé€šè¿‡å„ç§å½¢å¼çš„get()æ–¹æ³•å¯ä»¥è·å–jsonå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œä¹Ÿå¯åˆ©ç”¨è¯¸å¦‚size()ï¼ŒisEmpty()ç­‰æ–¹æ³•è·å–â€é”®ï¼šå€¼â€å¯¹çš„ä¸ªæ•°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡å®ç°Mapæ¥å£å¹¶è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•å®Œæˆçš„ã€‚</li></ul></li><li>ã€JSONArray ä»£è¡¨ json å¯¹è±¡æ•°ç»„ã€‘<ul><li>å†…éƒ¨æ˜¯æœ‰Listæ¥å£ä¸­çš„æ–¹æ³•æ¥å®Œæˆæ“ä½œçš„ã€‚</li></ul></li><li>ã€JSON ä»£è¡¨ JSONObjectå’ŒJSONArrayçš„è½¬åŒ–ã€‘<ul><li>JSONç±»æºç åˆ†æä¸ä½¿ç”¨</li><li>ä»”ç»†è§‚å¯Ÿè¿™äº›æ–¹æ³•ï¼Œä¸»è¦æ˜¯å®ç°jsonå¯¹è±¡ï¼Œjsonå¯¹è±¡æ•°ç»„ï¼Œjavabeanå¯¹è±¡ï¼Œjsonå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸äº’è½¬åŒ–ã€‚</li></ul></li></ul><p><strong>ä»£ç æµ‹è¯•ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªFastJsonDemo ç±»</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.controller;<span class="hljs-keyword">import</span> com.alibaba.fastjson.JSON;<span class="hljs-keyword">import</span> com.alibaba.fastjson.JSONObject;<span class="hljs-keyword">import</span> com.kuang.pojo.User;<span class="hljs-keyword">import</span> java.util.ArrayList;<span class="hljs-keyword">import</span> java.util.List;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FastJsonDemo</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span>        User user1 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†1å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        User user2 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†2å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        User user3 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†3å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        User user4 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†4å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        List&lt;User&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;User&gt;();        list.add(user1);        list.add(user2);        list.add(user3);        list.add(user4);        System.out.println(<span class="hljs-string">"*******Javaå¯¹è±¡ è½¬ JSONå­—ç¬¦ä¸²*******"</span>);        String str1 = JSON.toJSONString(list);        System.out.println(<span class="hljs-string">"JSON.toJSONString(list)==&gt;"</span>+str1);        String str2 = JSON.toJSONString(user1);        System.out.println(<span class="hljs-string">"JSON.toJSONString(user1)==&gt;"</span>+str2);        System.out.println(<span class="hljs-string">"\n****** JSONå­—ç¬¦ä¸² è½¬ Javaå¯¹è±¡*******"</span>);        User jp_user1=JSON.parseObject(str2,User<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;        System.out.println(<span class="hljs-string">"JSON.parseObject(str2,User.class)==&gt;"</span>+jp_user1);        System.out.println(<span class="hljs-string">"\n****** Javaå¯¹è±¡ è½¬ JSONå¯¹è±¡ ******"</span>);        JSONObject jsonObject1 = (JSONObject) JSON.toJSON(user2);        System.out.println(<span class="hljs-string">"(JSONObject) JSON.toJSON(user2)==&gt;"</span>+jsonObject1.getString(<span class="hljs-string">"name"</span>));        System.out.println(<span class="hljs-string">"\n****** JSONå¯¹è±¡ è½¬ Javaå¯¹è±¡ ******"</span>);        User to_java_user = JSON.toJavaObject(jsonObject1, User<span class="hljs-class">.<span class="hljs-keyword">class</span>)</span>;        System.out.println(<span class="hljs-string">"JSON.toJavaObject(jsonObject1, User.class)==&gt;"</span>+to_java_user);    }}</code></pre></div><p>ä¾‹é¢˜ï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/json8"</span>)    <span class="hljs-meta">@ResponseBody</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json8</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>{        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span>        User user1 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†1å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        User user2 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†2å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        User user3 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†3å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        User user4 = <span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†4å·"</span>, <span class="hljs-number">3</span>, <span class="hljs-string">"ç”·"</span>);        List&lt;User&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;User&gt;();        list.add(user1);        list.add(user2);        list.add(user3);        list.add(user4);        <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span>        String str1 = JSON.toJSONString(list);        <span class="hljs-keyword">return</span> str1;    }</code></pre></div><p>æµ‹è¯•ï¼š</p><p><a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a>:8080/json8</p><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213729633-854108693.png" srcset="/blog/img/loading.gif" alt="img"></p><p>è¿™ç§å·¥å…·ç±»ï¼Œæˆ‘ä»¬åªéœ€è¦æŒæ¡ä½¿ç”¨å°±å¥½äº†ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™åœ¨æ ¹æ®å…·ä½“çš„ä¸šåŠ¡å»æ‰¾å¯¹åº”çš„å®ç°ã€‚å’Œä»¥å‰çš„commons-ioé‚£ç§å·¥å…·åŒ…ä¸€æ ·ï¼Œæ‹¿æ¥ç”¨å°±å¥½äº†ï¼</p><h2 id="11ã€AjaxæŠ€æœ¯"><a href="#11ã€AjaxæŠ€æœ¯" class="headerlink" title="11ã€AjaxæŠ€æœ¯"></a>11ã€AjaxæŠ€æœ¯</h2><h3 id="11-1ã€AJAXåˆä½“éªŒ"><a href="#11-1ã€AJAXåˆä½“éªŒ" class="headerlink" title="11.1ã€AJAXåˆä½“éªŒ"></a>11.1ã€AJAXåˆä½“éªŒ</h3><p>å¼‚æ­¥å¯ç†è§£ä¸ºå±€éƒ¨åˆ·æ–°ï¼ŒåŒæ­¥æŒ‡éœ€è¦æŒ‰éƒ¨å°±ç­åœ°å®Œæˆä¸€æ•´å¥—æµç¨‹</p><ul><li><strong>AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ã€‚</strong></li><li>AJAX æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚</li><li><strong>Ajax ä¸æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºæ›´å¥½æ›´å¿«ä»¥åŠäº¤äº’æ€§æ›´å¼ºçš„Webåº”ç”¨ç¨‹åºçš„æŠ€æœ¯ã€‚</strong></li><li>åœ¨ 2005 å¹´ï¼ŒGoogle é€šè¿‡å…¶ Google Suggest ä½¿ AJAX å˜å¾—æµè¡Œèµ·æ¥ã€‚Google Suggestèƒ½å¤Ÿè‡ªåŠ¨å¸®ä½ å®Œæˆæœç´¢å•è¯ã€‚</li><li>Google Suggest ä½¿ç”¨ AJAX åˆ›é€ å‡ºåŠ¨æ€æ€§æå¼ºçš„ web ç•Œé¢ï¼šå½“æ‚¨åœ¨è°·æ­Œçš„æœç´¢æ¡†è¾“å…¥å…³é”®å­—æ—¶ï¼ŒJavaScript ä¼šæŠŠè¿™äº›å­—ç¬¦å‘é€åˆ°æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæœç´¢å»ºè®®çš„åˆ—è¡¨ã€‚</li><li>å°±å’Œå›½å†…ç™¾åº¦çš„æœç´¢æ¡†ä¸€æ ·ï¼š<br>  <img src="https://blog.kuangstudy.com/usr/uploads/2019/10/3986165583.png" srcset="/blog/img/loading.gif" alt="1570200763067.png"></li><li>ä¼ ç»Ÿçš„ç½‘é¡µ(å³ä¸ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µ)ï¼Œæƒ³è¦æ›´æ–°å†…å®¹æˆ–è€…æäº¤ä¸€ä¸ªè¡¨å•ï¼Œéƒ½éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µã€‚</li><li>ä½¿ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µï¼Œé€šè¿‡åœ¨åå°æœåŠ¡å™¨è¿›è¡Œå°‘é‡çš„æ•°æ®äº¤æ¢ï¼Œå°±å¯ä»¥å®ç°å¼‚æ­¥å±€éƒ¨æ›´æ–°ã€‚</li><li>ä½¿ç”¨Ajaxï¼Œç”¨æˆ·å¯ä»¥åˆ›å»ºæ¥è¿‘æœ¬åœ°æ¡Œé¢åº”ç”¨çš„ç›´æ¥ã€é«˜å¯ç”¨ã€æ›´ä¸°å¯Œã€æ›´åŠ¨æ€çš„Webç”¨æˆ·ç•Œé¢ã€‚</li></ul><h3 id="ä¼ªé€ Ajax"><a href="#ä¼ªé€ Ajax" class="headerlink" title="ä¼ªé€ Ajax"></a>ä¼ªé€ Ajax</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰ç«¯çš„ä¸€ä¸ªæ ‡ç­¾æ¥ä¼ªé€ ä¸€ä¸ªajaxçš„æ ·å­ã€‚ iframeæ ‡ç­¾</p><ol><li><p>æ–°å»ºä¸€ä¸ªmodule ï¼š sspringmvc-06-ajax ï¼Œ å¯¼å…¥webæ”¯æŒï¼</p></li><li><p>ç¼–å†™ä¸€ä¸ª ajax-frame.html ä½¿ç”¨ iframe æµ‹è¯•ï¼Œæ„Ÿå—ä¸‹æ•ˆæœ</p> <div class="hljs"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>kuangshen<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="javascript"><span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{</span><span class="javascript"> <span class="hljs-keyword">var</span> myDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();</span><span class="javascript"> <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'currentTime'</span>).innerText = myDate.getTime();</span>};<span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LoadPage</span><span class="hljs-params">()</span></span>{</span><span class="javascript"> <span class="hljs-keyword">var</span> targetUrl =  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'url'</span>).value;</span><span class="javascript"> <span class="hljs-built_in">console</span>.log(targetUrl);</span><span class="javascript"> <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"iframePosition"</span>).src = targetUrl;</span>}<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¯·è¾“å…¥è¦åŠ è½½çš„åœ°å€ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"currentTime"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"url"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"https://www.baidu.com/"</span>/&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æäº¤"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"LoadPage()"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>åŠ è½½é¡µé¢ä½ç½®ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"iframePosition"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%;height: 500px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div></li><li><p>ä½¿ç”¨IDEAå¼€æµè§ˆå™¨æµ‹è¯•ä¸€ä¸‹ï¼</p></li></ol><p><strong>åˆ©ç”¨AJAXå¯ä»¥åšï¼š</strong></p><ul><li>æ³¨å†Œæ—¶ï¼Œè¾“å…¥ç”¨æˆ·åè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ã€‚</li><li>ç™»é™†æ—¶ï¼Œæç¤ºç”¨æˆ·åå¯†ç é”™è¯¯</li><li>åˆ é™¤æ•°æ®è¡Œæ—¶ï¼Œå°†è¡ŒIDå‘é€åˆ°åå°ï¼Œåå°åœ¨æ•°æ®åº“ä¸­åˆ é™¤ï¼Œæ•°æ®åº“åˆ é™¤æˆåŠŸåï¼Œåœ¨é¡µé¢DOMä¸­å°†æ•°æ®è¡Œä¹Ÿåˆ é™¤ã€‚</li><li>â€¦.ç­‰ç­‰</li></ul><h3 id="jQuery-ajax"><a href="#jQuery-ajax" class="headerlink" title="jQuery.ajax"></a>jQuery.ajax</h3><ul><li>çº¯JSåŸç”Ÿå®ç°Ajaxæˆ‘ä»¬ä¸å»è®²è§£è¿™é‡Œï¼Œç›´æ¥ä½¿ç”¨jqueryæä¾›çš„ï¼Œæ–¹ä¾¿å­¦ä¹ å’Œä½¿ç”¨ï¼Œé¿å…é‡å¤é€ è½®å­ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»äº†è§£ä¸‹JSåŸç”ŸXMLHttpRequest ï¼</li><li>Ajaxçš„æ ¸å¿ƒæ˜¯XMLHttpRequestå¯¹è±¡(XHR)ã€‚XHRä¸ºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚å’Œè§£ææœåŠ¡å™¨å“åº”æä¾›äº†æ¥å£ã€‚èƒ½å¤Ÿä»¥å¼‚æ­¥æ–¹å¼ä»æœåŠ¡å™¨è·å–æ–°æ•°æ®ã€‚</li><li>jQuery æä¾›å¤šä¸ªä¸ AJAX æœ‰å…³çš„æ–¹æ³•ã€‚</li><li>é€šè¿‡ jQuery AJAX æ–¹æ³•ï¼Œæ‚¨èƒ½å¤Ÿä½¿ç”¨ HTTP Get å’Œ HTTP Post ä»è¿œç¨‹æœåŠ¡å™¨ä¸Šè¯·æ±‚æ–‡æœ¬ã€HTMLã€XML æˆ– JSON â€“ åŒæ—¶æ‚¨èƒ½å¤ŸæŠŠè¿™äº›å¤–éƒ¨æ•°æ®ç›´æ¥è½½å…¥ç½‘é¡µçš„è¢«é€‰å…ƒç´ ä¸­ã€‚</li><li>jQuery ä¸æ˜¯ç”Ÿäº§è€…ï¼Œè€Œæ˜¯å¤§è‡ªç„¶æ¬è¿å·¥ã€‚</li><li>jQuery Ajaxæœ¬è´¨å°±æ˜¯ XMLHttpRequestï¼Œå¯¹ä»–è¿›è¡Œäº†å°è£…ï¼Œæ–¹ä¾¿è°ƒç”¨ï¼</li></ul><div class="hljs"><pre><code class="hljs mipsasm"><span class="hljs-keyword">jQuery.ajax(...)</span><span class="hljs-keyword"> </span>      éƒ¨åˆ†å‚æ•°ï¼š              urlï¼šè¯·æ±‚åœ°å€             typeï¼šè¯·æ±‚æ–¹å¼ï¼ŒGETã€POSTï¼ˆ<span class="hljs-number">1</span>.<span class="hljs-number">9</span>.<span class="hljs-number">0</span>ä¹‹åç”¨methodï¼‰          headersï¼šè¯·æ±‚å¤´             dataï¼šè¦å‘é€çš„æ•°æ®      contentTypeï¼šå³å°†å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨çš„å†…å®¹ç¼–ç ç±»å‹(é»˜è®¤: <span class="hljs-string">"application/x-www-form-urlencoded; charset=UTF-8"</span>)            asyncï¼šæ˜¯å¦å¼‚æ­¥          timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰       <span class="hljs-keyword">beforeSendï¼šå‘é€è¯·æ±‚å‰æ‰§è¡Œçš„å‡½æ•°(å…¨å±€)</span><span class="hljs-keyword"> </span>        completeï¼šå®Œæˆä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)          successï¼šæˆåŠŸä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)            errorï¼šå¤±è´¥ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)          acceptsï¼šé€šè¿‡è¯·æ±‚å¤´å‘é€ç»™æœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å½“å‰å®¢æˆ·ç«¯è¯¾æ¥å—çš„æ•°æ®ç±»å‹         dataTypeï¼šå°†æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®è½¬æ¢æˆæŒ‡å®šç±»å‹            <span class="hljs-string">"xml"</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆxmlæ ¼å¼           <span class="hljs-string">"text"</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼           <span class="hljs-string">"html"</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ï¼Œåœ¨æ’å…¥DOMä¸­æ—¶ï¼Œå¦‚æœåŒ…å«<span class="hljs-keyword">JavaScriptæ ‡ç­¾ï¼Œåˆ™ä¼šå°è¯•å»æ‰§è¡Œã€‚</span><span class="hljs-keyword"> </span>        <span class="hljs-string">"script"</span>: å°è¯•å°†è¿”å›å€¼å½“ä½œ<span class="hljs-keyword">JavaScriptå»æ‰§è¡Œï¼Œç„¶åå†å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼</span><span class="hljs-keyword"> </span>          <span class="hljs-string">"json"</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆç›¸åº”çš„<span class="hljs-keyword">JavaScriptå¯¹è±¡</span><span class="hljs-keyword"> </span>         <span class="hljs-string">"jsonp"</span>: <span class="hljs-keyword">JSONP </span>æ ¼å¼ä½¿ç”¨ <span class="hljs-keyword">JSONP </span>å½¢å¼è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚ <span class="hljs-string">"myurl?callback=?"</span> <span class="hljs-keyword">jQuery </span>å°†è‡ªåŠ¨æ›¿æ¢ ? ä¸ºæ­£ç¡®çš„å‡½æ•°åï¼Œä»¥æ‰§è¡Œå›è°ƒå‡½æ•°</code></pre></div><p><strong>æˆ‘ä»¬æ¥ä¸ªç®€å•çš„æµ‹è¯•ï¼Œä½¿ç”¨æœ€åŸå§‹çš„HttpServletResponseå¤„ç† , .æœ€ç®€å• , æœ€é€šç”¨</strong></p><ol><li><p>é…ç½®web.xml å’Œ springmvcçš„é…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶ä¸Šé¢æ¡ˆä¾‹çš„å³å¯ ã€è®°å¾—é™æ€èµ„æºè¿‡æ»¤å’Œæ³¨è§£é©±åŠ¨é…ç½®ä¸Šã€‘</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">"http://www.springframework.org/schema/mvc"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/context</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/context/spring-context.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/mvc</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.kuang.controller"</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span>    <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span></span><span class="hljs-tag">          <span class="hljs-attr">id</span>=<span class="hljs-string">"internalResourceViewResolver"</span>&gt;</span>        <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/WEB-INF/jsp/"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span> /&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div></li><li><p>ç¼–å†™ä¸€ä¸ªAjaxController</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AjaxController</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/a1"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ajax1</span><span class="hljs-params">(String name , HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException </span>{        <span class="hljs-keyword">if</span> (<span class="hljs-string">"admin"</span>.equals(name)){            response.getWriter().print(<span class="hljs-string">"true"</span>);        }<span class="hljs-keyword">else</span>{            response.getWriter().print(<span class="hljs-string">"false"</span>);        }    }}</code></pre></div></li><li><p>å¯¼å…¥jquery ï¼Œ å¯ä»¥ä½¿ç”¨åœ¨çº¿çš„CDN ï¼Œ ä¹Ÿå¯ä»¥ä¸‹è½½å¯¼å…¥</p> <div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://code.jquery.com/jquery-3.1.1.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"${pageContext.request.contextPath}/statics/js/jquery-3.1.1.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div></li><li><p>ç¼–å†™index.jspæµ‹è¯•</p> <div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;  &lt;head&gt;    &lt;title&gt;$Title$&lt;/title&gt;    &lt;%--&lt;script src="https://code.jquery.com/jquery-3.1.1.min.js"&gt;&lt;/script&gt;--%&gt;    &lt;script src="${pageContext.request.contextPath}/statics/js/jquery-3.1.1.min.js"&gt;&lt;/script&gt;    &lt;script&gt;        <span class="hljs-function">function <span class="hljs-title">a1</span><span class="hljs-params">()</span></span>{            $.post({                url:<span class="hljs-string">"${pageContext.request.contextPath}/a1"</span>,                data:{<span class="hljs-string">'name'</span>:$(<span class="hljs-string">"#txtName"</span>).val()},                success:function (data,status) {                    alert(data);                    alert(status);                }            });        }    &lt;/script&gt;  &lt;/head&gt;  &lt;body&gt;  &lt;%--onblurï¼šå¤±å»ç„¦ç‚¹è§¦å‘äº‹ä»¶--%&gt;  ç”¨æˆ·å:&lt;input type=<span class="hljs-string">"text"</span> id=<span class="hljs-string">"txtName"</span> onblur=<span class="hljs-string">"a1()"</span>/&gt;  &lt;/body&gt;&lt;/html&gt;</code></pre></div></li><li><p>å¯åŠ¨tomcatæµ‹è¯•ï¼ æ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œå½“æˆ‘ä»¬é¼ æ ‡ç¦»å¼€è¾“å…¥æ¡†çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹åˆ°å‘å‡ºäº†ä¸€ä¸ªajaxçš„è¯·æ±‚ï¼æ˜¯åå°è¿”å›ç»™æˆ‘ä»¬çš„ç»“æœï¼æµ‹è¯•æˆåŠŸï¼</p></li></ol><hr><h3 id="11-2ã€AJAXå¼‚æ­¥åŠ è½½æ•°æ®"><a href="#11-2ã€AJAXå¼‚æ­¥åŠ è½½æ•°æ®" class="headerlink" title="11.2ã€AJAXå¼‚æ­¥åŠ è½½æ•°æ®"></a>11.2ã€AJAXå¼‚æ­¥åŠ è½½æ•°æ®</h3><h3 id="Springmvcå®ç°"><a href="#Springmvcå®ç°" class="headerlink" title="Springmvcå®ç°"></a>Springmvcå®ç°</h3><p>å®ä½“ç±»user</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><span class="hljs-meta">@AllArgsConstructor</span><span class="hljs-meta">@NoArgsConstructor</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>{    <span class="hljs-keyword">private</span> String name;    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;    <span class="hljs-keyword">private</span> String sex;}</code></pre></div><p>æˆ‘ä»¬æ¥è·å–ä¸€ä¸ªé›†åˆå¯¹è±¡ï¼Œå±•ç¤ºåˆ°å‰ç«¯é¡µé¢</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/a2"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">ajax2</span><span class="hljs-params">()</span></span>{    List&lt;User&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;User&gt;();    list.add(<span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†1å·"</span>,<span class="hljs-number">3</span>,<span class="hljs-string">"ç”·"</span>));    list.add(<span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†2å·"</span>,<span class="hljs-number">3</span>,<span class="hljs-string">"ç”·"</span>));    list.add(<span class="hljs-keyword">new</span> User(<span class="hljs-string">"ç§¦ç–†3å·"</span>,<span class="hljs-number">3</span>,<span class="hljs-string">"ç”·"</span>));    <span class="hljs-keyword">return</span> list; <span class="hljs-comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†listè½¬æˆjsonæ ¼å¼è¿”å›</span>}</code></pre></div><p>å‰ç«¯é¡µé¢</p><div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;input type=<span class="hljs-string">"button"</span> id=<span class="hljs-string">"btn"</span> value=<span class="hljs-string">"è·å–æ•°æ®"</span>/&gt;&lt;table width=<span class="hljs-string">"80%"</span> align=<span class="hljs-string">"center"</span>&gt;    &lt;tr&gt;        &lt;td&gt;å§“å&lt;/td&gt;        &lt;td&gt;å¹´é¾„&lt;/td&gt;        &lt;td&gt;æ€§åˆ«&lt;/td&gt;    &lt;/tr&gt;    &lt;tbody id=<span class="hljs-string">"content"</span>&gt;    &lt;/tbody&gt;&lt;/table&gt;&lt;script src="${pageContext.request.contextPath}/statics/js/jquery-3.1.1.min.js"&gt;&lt;/script&gt;&lt;script&gt;    $(function () {        $(<span class="hljs-string">"#btn"</span>).click(function () {            $.post(<span class="hljs-string">"${pageContext.request.contextPath}/a2"</span>,function (data) {                console.log(data)                <span class="hljs-keyword">var</span> html=<span class="hljs-string">""</span>;                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt;data.length ; i++) {                    html+= <span class="hljs-string">"&lt;tr&gt;"</span> +                        <span class="hljs-string">"&lt;td&gt;"</span> + data[i].name + <span class="hljs-string">"&lt;/td&gt;"</span> +                        <span class="hljs-string">"&lt;td&gt;"</span> + data[i].age + <span class="hljs-string">"&lt;/td&gt;"</span> +                        <span class="hljs-string">"&lt;td&gt;"</span> + data[i].sex + <span class="hljs-string">"&lt;/td&gt;"</span> +                        <span class="hljs-string">"&lt;/tr&gt;"</span>                }                $(<span class="hljs-string">"#content"</span>).html(html);            });        })    })&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre></div><p><strong>æˆåŠŸå®ç°äº†æ•°æ®å›æ˜¾ï¼å¯ä»¥ä½“ä¼šä¸€ä¸‹Ajaxçš„å¥½å¤„ï¼</strong></p><h3 id="11-3ã€AJAXéªŒè¯ç”¨æˆ·åä½“éªŒ"><a href="#11-3ã€AJAXéªŒè¯ç”¨æˆ·åä½“éªŒ" class="headerlink" title="11.3ã€AJAXéªŒè¯ç”¨æˆ·åä½“éªŒ"></a>11.3ã€AJAXéªŒè¯ç”¨æˆ·åä½“éªŒ</h3><h3 id="æ³¨å†Œæç¤ºæ•ˆæœ"><a href="#æ³¨å†Œæç¤ºæ•ˆæœ" class="headerlink" title="æ³¨å†Œæç¤ºæ•ˆæœ"></a>æ³¨å†Œæç¤ºæ•ˆæœ</h3><p>æˆ‘ä»¬å†æµ‹è¯•ä¸€ä¸ªå°Demoï¼Œæ€è€ƒä¸€ä¸‹æˆ‘ä»¬å¹³æ—¶æ³¨å†Œæ—¶å€™ï¼Œè¾“å…¥æ¡†åé¢çš„å®æ—¶æç¤ºæ€ä¹ˆåšåˆ°çš„ï¼›å¦‚ä½•ä¼˜åŒ–</p><p>æˆ‘ä»¬å†™ä¸€ä¸ªController</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/a3"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">ajax3</span><span class="hljs-params">(String name,String pwd)</span></span>{    String msg = <span class="hljs-string">""</span>;    <span class="hljs-comment">//æ¨¡æ‹Ÿæ•°æ®åº“ä¸­å­˜åœ¨æ•°æ®</span>    <span class="hljs-keyword">if</span> (name!=<span class="hljs-keyword">null</span>){        <span class="hljs-keyword">if</span> (<span class="hljs-string">"admin"</span>.equals(name)){            msg = <span class="hljs-string">"OK"</span>;        }<span class="hljs-keyword">else</span> {            msg = <span class="hljs-string">"ç”¨æˆ·åè¾“å…¥é”™è¯¯"</span>;        }    }    <span class="hljs-keyword">if</span> (pwd!=<span class="hljs-keyword">null</span>){        <span class="hljs-keyword">if</span> (<span class="hljs-string">"123456"</span>.equals(pwd)){            msg = <span class="hljs-string">"OK"</span>;        }<span class="hljs-keyword">else</span> {            msg = <span class="hljs-string">"å¯†ç è¾“å…¥æœ‰è¯¯"</span>;        }    }    <span class="hljs-keyword">return</span> msg; <span class="hljs-comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†msgè½¬æˆjsonæ ¼å¼è¿”å›</span>}</code></pre></div><p>å‰ç«¯é¡µé¢ login.jsp</p><div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;ajax&lt;/title&gt;    &lt;script src="${pageContext.request.contextPath}/statics/js/jquery-3.1.1.min.js"&gt;&lt;/script&gt;    &lt;script&gt;        <span class="hljs-function">function <span class="hljs-title">a1</span><span class="hljs-params">()</span></span>{            $.post({                url:<span class="hljs-string">"${pageContext.request.contextPath}/a3"</span>,                data:{<span class="hljs-string">'name'</span>:$(<span class="hljs-string">"#name"</span>).val()},                success:function (data) {                    <span class="hljs-keyword">if</span> (data.toString()==<span class="hljs-string">'OK'</span>){                        $(<span class="hljs-string">"#userInfo"</span>).css(<span class="hljs-string">"color"</span>,<span class="hljs-string">"green"</span>);                    }<span class="hljs-keyword">else</span> {                        $(<span class="hljs-string">"#userInfo"</span>).css(<span class="hljs-string">"color"</span>,<span class="hljs-string">"red"</span>);                    }                    $(<span class="hljs-string">"#userInfo"</span>).html(data);                }            });        }        <span class="hljs-function">function <span class="hljs-title">a2</span><span class="hljs-params">()</span></span>{            $.post({                url:<span class="hljs-string">"${pageContext.request.contextPath}/a3"</span>,                data:{<span class="hljs-string">'pwd'</span>:$(<span class="hljs-string">"#pwd"</span>).val()},                success:function (data) {                    <span class="hljs-keyword">if</span> (data.toString()==<span class="hljs-string">'OK'</span>){                        $(<span class="hljs-string">"#pwdInfo"</span>).css(<span class="hljs-string">"color"</span>,<span class="hljs-string">"green"</span>);                    }<span class="hljs-keyword">else</span> {                        $(<span class="hljs-string">"#pwdInfo"</span>).css(<span class="hljs-string">"color"</span>,<span class="hljs-string">"red"</span>);                    }                    $(<span class="hljs-string">"#pwdInfo"</span>).html(data);                }            });        }    &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;    ç”¨æˆ·å:&lt;input type=<span class="hljs-string">"text"</span> id=<span class="hljs-string">"name"</span> onblur=<span class="hljs-string">"a1()"</span>/&gt;    &lt;span id="userInfo"&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;    å¯†ç :&lt;input type=<span class="hljs-string">"text"</span> id=<span class="hljs-string">"pwd"</span> onblur=<span class="hljs-string">"a2()"</span>/&gt;    &lt;span id="pwdInfo"&gt;&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</code></pre></div><p>ã€è®°å¾—å¤„ç†jsonä¹±ç é—®é¢˜ã€‘</p><p>æµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼ŒåŠ¨æ€è¯·æ±‚å“åº”ï¼Œå±€éƒ¨åˆ·æ–°ï¼Œå°±æ˜¯å¦‚æ­¤ï¼</p><p><img src="https://blog.kuangstudy.com/usr/uploads/2019/10/3300712039.png" srcset="/blog/img/loading.gif" alt="1570203565381.png"></p><h3 id="11-4ã€è¡¥å……ï¼Œè‡ªå·±çœ‹çœ‹"><a href="#11-4ã€è¡¥å……ï¼Œè‡ªå·±çœ‹çœ‹" class="headerlink" title="11.4ã€è¡¥å……ï¼Œè‡ªå·±çœ‹çœ‹"></a>11.4ã€è¡¥å……ï¼Œè‡ªå·±çœ‹çœ‹</h3><h3 id="è·å–baiduæ¥å£Demo"><a href="#è·å–baiduæ¥å£Demo" class="headerlink" title="è·å–baiduæ¥å£Demo"></a>è·å–baiduæ¥å£Demo</h3><div class="hljs"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE HTML&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Type"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"text/html; charset=utf-8"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JSONPç™¾åº¦æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">        <span class="hljs-selector-id">#q</span>{</span>            width: 500px;            height: 30px;<span class="css">            <span class="hljs-selector-tag">border</span><span class="hljs-selector-pseudo">:1px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#ddd</span>;</span>            line-height: 30px;            display: block;            margin: 0 auto;            padding: 0 10px;            font-size: 14px;        }<span class="css">        <span class="hljs-selector-id">#ul</span>{</span>            width: 520px;            list-style: none;            margin: 0 auto;            padding: 0;<span class="css">            <span class="hljs-selector-tag">border</span><span class="hljs-selector-pseudo">:1px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-id">#ddd</span>;</span>            margin-top: -1px;            display: none;        }<span class="css">        <span class="hljs-selector-id">#ul</span> <span class="hljs-selector-tag">li</span>{</span>            line-height: 30px;            padding: 0 10px;        }<span class="css">        <span class="hljs-selector-id">#ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span>{</span><span class="css">            <span class="hljs-selector-tag">background-color</span>: <span class="hljs-selector-id">#f60</span>;</span><span class="css">            <span class="hljs-selector-tag">color</span>: <span class="hljs-selector-id">#fff</span>;</span>        }    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">        <span class="hljs-comment">// 2.æ­¥éª¤äºŒ</span></span><span class="actionscript">        <span class="hljs-comment">// å®šä¹‰demoå‡½æ•° (åˆ†ææ¥å£ã€æ•°æ®)</span></span><span class="actionscript">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">demo</span><span class="hljs-params">(data)</span></span>{</span><span class="javascript">            <span class="hljs-keyword">var</span> Ul = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'ul'</span>);</span><span class="actionscript">            <span class="hljs-keyword">var</span> html = <span class="hljs-string">''</span>;</span><span class="actionscript">            <span class="hljs-comment">// å¦‚æœæœç´¢æ•°æ®å­˜åœ¨ æŠŠå†…å®¹æ·»åŠ è¿›å»</span></span>            if (data.s.length) {<span class="actionscript">                <span class="hljs-comment">// éšè—æ‰çš„ulæ˜¾ç¤ºå‡ºæ¥</span></span><span class="actionscript">                Ul.style.display = <span class="hljs-string">'block'</span>;</span><span class="actionscript">                <span class="hljs-comment">// æœç´¢åˆ°çš„æ•°æ®å¾ªç¯è¿½åŠ åˆ°lié‡Œ</span></span><span class="actionscript">                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i&lt;data.s.length;i++){</span><span class="actionscript">                    html += <span class="hljs-string">'&lt;li&gt;'</span>+data.s[i]+<span class="hljs-string">'&lt;/li&gt;'</span>;</span>                }<span class="actionscript">                <span class="hljs-comment">// å¾ªç¯çš„liå†™å…¥ul</span></span>                Ul.innerHTML = html;            }        }<span class="actionscript">        <span class="hljs-comment">// 1.æ­¥éª¤ä¸€</span></span><span class="javascript">        <span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{</span><span class="actionscript">            <span class="hljs-comment">// è·å–è¾“å…¥æ¡†å’Œul</span></span><span class="javascript">            <span class="hljs-keyword">var</span> Q = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'q'</span>);</span><span class="javascript">            <span class="hljs-keyword">var</span> Ul = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'ul'</span>);</span><span class="actionscript">            <span class="hljs-comment">// äº‹ä»¶é¼ æ ‡æŠ¬èµ·æ—¶å€™</span></span><span class="actionscript">            Q.onkeyup = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{</span><span class="actionscript">                <span class="hljs-comment">// å¦‚æœè¾“å…¥æ¡†ä¸ç­‰äºç©º</span></span><span class="actionscript">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.value != <span class="hljs-string">''</span>) {</span><span class="actionscript">                    <span class="hljs-comment">// â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†JSONPzé‡ç‚¹â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†</span></span><span class="actionscript">                    <span class="hljs-comment">// åˆ›å»ºæ ‡ç­¾</span></span><span class="javascript">                    <span class="hljs-keyword">var</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);</span><span class="actionscript">                    <span class="hljs-comment">//ç»™å®šè¦è·¨åŸŸçš„åœ°å€ èµ‹å€¼ç»™src</span></span><span class="actionscript">                    <span class="hljs-comment">//è¿™é‡Œæ˜¯è¦è¯·æ±‚çš„è·¨åŸŸçš„åœ°å€ æˆ‘å†™çš„æ˜¯ç™¾åº¦æœç´¢çš„è·¨åŸŸåœ°å€</span></span><span class="actionscript">                    script.src = <span class="hljs-string">'https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd='</span>+<span class="hljs-keyword">this</span>.value+<span class="hljs-string">'&amp;cb=demo'</span>;</span><span class="actionscript">                    <span class="hljs-comment">// å°†ç»„åˆå¥½çš„å¸¦srcçš„scriptæ ‡ç­¾è¿½åŠ åˆ°bodyé‡Œ</span></span><span class="javascript">                    <span class="hljs-built_in">document</span>.body.appendChild(script);</span>                }            }        }    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"q"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"ul"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div><h2 id="12ã€æ‹¦æˆªå™¨"><a href="#12ã€æ‹¦æˆªå™¨" class="headerlink" title="12ã€æ‹¦æˆªå™¨"></a>12ã€æ‹¦æˆªå™¨</h2><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>SpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filter,ç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚</p><p><strong>è¿‡æ»¤å™¨ä¸æ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š</strong>æ‹¦æˆªå™¨æ˜¯AOPæ€æƒ³çš„å…·ä½“åº”ç”¨ã€‚</p><p><strong>è¿‡æ»¤å™¨</strong></p><ul><li>servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•java webå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨</li><li>åœ¨url-patternä¸­é…ç½®äº†/*ä¹‹åï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆª</li></ul><p><strong>æ‹¦æˆªå™¨</strong></p><ul><li>æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æ¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨</li><li>æ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œ å¦‚æœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„</li></ul><h3 id="12-1ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨"><a href="#12-1ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨" class="headerlink" title="12.1ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨"></a>12.1ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨</h3><p>é‚£å¦‚ä½•å®ç°æ‹¦æˆªå™¨å‘¢ï¼Ÿ</p><p>æƒ³è¦è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œå¿…é¡»å®ç° HandlerInterceptor æ¥å£ã€‚</p><ol><li><p>æ–°å»ºä¸€ä¸ªMoudule ï¼Œ springmvc-07-Interceptor ï¼Œ æ·»åŠ webæ”¯æŒ</p></li><li><p>é…ç½®web.xml å’Œ springmvc-servlet.xml æ–‡ä»¶</p></li><li><p>ç¼–å†™ä¸€ä¸ªæ‹¦æˆªå™¨</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.interceptor;<span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;<span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HandlerInterceptor</span> </span>{    <span class="hljs-comment">//åœ¨è¯·æ±‚å¤„ç†çš„æ–¹æ³•ä¹‹å‰æ‰§è¡Œ</span>    <span class="hljs-comment">//å¦‚æœè¿”å›trueæ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span>    <span class="hljs-comment">//å¦‚æœè¿”å›falseå°±ä¸æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">preHandle</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o)</span> <span class="hljs-keyword">throws</span> Exception </span>{        System.out.println(<span class="hljs-string">"------------å¤„ç†å‰------------"</span>);        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;    }    <span class="hljs-comment">//åœ¨è¯·æ±‚å¤„ç†æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">postHandle</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception </span>{        System.out.println(<span class="hljs-string">"------------å¤„ç†å------------"</span>);    }    <span class="hljs-comment">//åœ¨dispatcherServletå¤„ç†åæ‰§è¡Œ,åšæ¸…ç†å·¥ä½œ.</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">afterCompletion</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="hljs-keyword">throws</span> Exception </span>{        System.out.println(<span class="hljs-string">"------------æ¸…ç†------------"</span>);    }}</code></pre></div></li><li><p>åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptors</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptor</span>&gt;</span>        <span class="hljs-comment">&lt;!--/** åŒ…æ‹¬è·¯å¾„åŠå…¶å­è·¯å¾„--&gt;</span>        <span class="hljs-comment">&lt;!--/admin/* æ‹¦æˆªçš„æ˜¯/admin/addç­‰ç­‰è¿™ç§ , /admin/add/userä¸ä¼šè¢«æ‹¦æˆª--&gt;</span>        <span class="hljs-comment">&lt;!--/admin/** æ‹¦æˆªçš„æ˜¯/admin/ä¸‹çš„æ‰€æœ‰--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">mvc:mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/**"</span>/&gt;</span>        <span class="hljs-comment">&lt;!--beané…ç½®çš„å°±æ˜¯æ‹¦æˆªå™¨--&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.kuang.interceptor.MyInterceptor"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptor</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptors</span>&gt;</span></code></pre></div></li><li><p>ç¼–å†™ä¸€ä¸ªControllerï¼Œæ¥æ”¶è¯·æ±‚</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.controller;<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;<span class="hljs-comment">//æµ‹è¯•æ‹¦æˆªå™¨çš„æ§åˆ¶å™¨</span><span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InterceptorController</span> </span>{    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/interceptor"</span>)    <span class="hljs-meta">@ResponseBody</span>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">testFunction</span><span class="hljs-params">()</span> </span>{        System.out.println(<span class="hljs-string">"æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•æ‰§è¡Œäº†"</span>);        <span class="hljs-keyword">return</span> <span class="hljs-string">"hello"</span>;    }}</code></pre></div></li><li><p>å‰ç«¯ index.jsp</p> <div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"${pageContext.request.contextPath}/interceptor"</span>&gt;</span>æ‹¦æˆªå™¨æµ‹è¯•<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></code></pre></div></li><li><p>å¯åŠ¨tomcat æµ‹è¯•ä¸€ä¸‹ï¼<br> <img src="https://blog.kuangstudy.com/usr/uploads/2019/10/2785405154.png" srcset="/blog/img/loading.gif" alt="1570205071233.png"></p></li></ol><h3 id="12-2ã€éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•-è®¤è¯ç”¨æˆ·"><a href="#12-2ã€éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•-è®¤è¯ç”¨æˆ·" class="headerlink" title="12.2ã€éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)"></a>12.2ã€éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)</h3><p><strong>å®ç°æ€è·¯</strong></p><ol><li>æœ‰ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œéœ€è¦å†™ä¸€ä¸ªcontrollerè®¿é—®é¡µé¢ã€‚</li><li>ç™»é™†é¡µé¢æœ‰ä¸€æäº¤è¡¨å•çš„åŠ¨ä½œã€‚éœ€è¦åœ¨controllerä¸­å¤„ç†ã€‚åˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæ­£ç¡®ï¼Œå‘sessionä¸­å†™å…¥ç”¨æˆ·ä¿¡æ¯ã€‚<em>è¿”å›ç™»é™†æˆåŠŸã€‚</em></li><li>æ‹¦æˆªç”¨æˆ·è¯·æ±‚ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†ã€‚å¦‚æœç”¨æˆ·å·²ç»ç™»é™†ã€‚æ”¾è¡Œï¼Œ å¦‚æœç”¨æˆ·æœªç™»é™†ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢</li></ol><p><strong>ä»£ç ç¼–å†™</strong></p><ol><li><p>ç¼–å†™ä¸€ä¸ªç™»é™†é¡µé¢ login.jsp</p> <div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;h1&gt;ç™»å½•é¡µé¢&lt;/h1&gt;&lt;hr&gt;&lt;body&gt;&lt;form action=<span class="hljs-string">"${pageContext.request.contextPath}/user/login"</span>&gt;    ç”¨æˆ·åï¼š&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"username"</span>&gt; &lt;br&gt;    å¯†ç ï¼š &lt;input type=<span class="hljs-string">"password"</span> name=<span class="hljs-string">"pwd"</span>&gt; &lt;br&gt;    &lt;input type=<span class="hljs-string">"submit"</span> value=<span class="hljs-string">"æäº¤"</span>&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</code></pre></div></li><li><p>ç¼–å†™ä¸€ä¸ªControllerå¤„ç†è¯·æ±‚</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.controller;<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;<span class="hljs-meta">@Controller</span><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/user"</span>)<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>{    <span class="hljs-comment">//è·³è½¬åˆ°ç™»é™†é¡µé¢</span>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/jumplogin"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">jumpLogin</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-keyword">return</span> <span class="hljs-string">"login"</span>;    }    <span class="hljs-comment">//è·³è½¬åˆ°æˆåŠŸé¡µé¢</span>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/jumpSuccess"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">jumpSuccess</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-keyword">return</span> <span class="hljs-string">"success"</span>;    }    <span class="hljs-comment">//ç™»é™†æäº¤</span>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/login"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">login</span><span class="hljs-params">(HttpSession session, String username, String pwd)</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-comment">// å‘sessionè®°å½•ç”¨æˆ·èº«ä»½ä¿¡æ¯</span>        System.out.println(<span class="hljs-string">"æ¥æ”¶å‰ç«¯==="</span>+username);        session.setAttribute(<span class="hljs-string">"user"</span>, username);        <span class="hljs-keyword">return</span> <span class="hljs-string">"success"</span>;    }    <span class="hljs-comment">//é€€å‡ºç™»é™†</span>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"logout"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">logout</span><span class="hljs-params">(HttpSession session)</span> <span class="hljs-keyword">throws</span> Exception </span>{        <span class="hljs-comment">// session è¿‡æœŸ</span>        session.invalidate();        <span class="hljs-keyword">return</span> <span class="hljs-string">"login"</span>;    }}</code></pre></div></li><li><p>ç¼–å†™ä¸€ä¸ªç™»é™†æˆåŠŸçš„é¡µé¢ success.jsp</p> <div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;ç™»å½•æˆåŠŸé¡µé¢&lt;/h1&gt;&lt;hr&gt;${user}&lt;a href="${pageContext.request.contextPath}/user/logout"&gt;æ³¨é”€&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;</code></pre></div></li><li><p>åœ¨ index é¡µé¢ä¸Šæµ‹è¯•è·³è½¬ï¼å¯åŠ¨Tomcat æµ‹è¯•ï¼Œæœªç™»å½•ä¹Ÿå¯ä»¥è¿›å…¥ä¸»é¡µï¼</p> <div class="hljs"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;&lt;html&gt;  &lt;head&gt;    &lt;title&gt;$Title$&lt;/title&gt;  &lt;/head&gt;  &lt;body&gt;  &lt;h1&gt;é¦–é¡µ&lt;/h1&gt;  &lt;hr&gt;  &lt;%--ç™»å½•--%&gt;  &lt;a href="${pageContext.request.contextPath}/user/jumplogin"&gt;ç™»å½•&lt;/a&gt;  &lt;a href="${pageContext.request.contextPath}/user/jumpSuccess"&gt;æˆåŠŸé¡µé¢&lt;/a&gt;  &lt;/body&gt;&lt;/html&gt;</code></pre></div></li><li><p>ç¼–å†™ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.interceptor;<span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;<span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<span class="hljs-keyword">import</span> javax.servlet.ServletException;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;<span class="hljs-keyword">import</span> java.io.IOException;<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HandlerInterceptor</span> </span>{    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>{        <span class="hljs-comment">// å¦‚æœæ˜¯ç™»é™†é¡µé¢åˆ™æ”¾è¡Œ</span>        System.out.println(<span class="hljs-string">"uri: "</span> + request.getRequestURI());        <span class="hljs-keyword">if</span> (request.getRequestURI().contains(<span class="hljs-string">"login"</span>)) {            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;        }        HttpSession session = request.getSession();        <span class="hljs-comment">// å¦‚æœç”¨æˆ·å·²ç™»é™†ä¹Ÿæ”¾è¡Œ</span>        <span class="hljs-keyword">if</span>(session.getAttribute(<span class="hljs-string">"user"</span>) != <span class="hljs-keyword">null</span>) {            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;        }        <span class="hljs-comment">// ç”¨æˆ·æ²¡æœ‰ç™»é™†è·³è½¬åˆ°ç™»é™†é¡µé¢</span>        request.getRequestDispatcher(<span class="hljs-string">"/WEB-INF/jsp/login.jsp"</span>).forward(request, response);        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;    }    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">postHandle</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception </span>{    }        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">afterCompletion</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e)</span> <span class="hljs-keyword">throws</span> Exception </span>{    }}</code></pre></div></li><li><p>åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨</p> <div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptors</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptor</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">mvc:mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/**"</span>/&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loginInterceptor"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.kuang.interceptor.LoginInterceptor"</span>/&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptor</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptors</span>&gt;</span></code></pre></div></li><li><p>å†æ¬¡é‡å¯Tomcatæµ‹è¯•ï¼</p></li></ol><p><strong>OKï¼Œæµ‹è¯•ç™»å½•æ‹¦æˆªåŠŸèƒ½æ— è¯¯.</strong></p><h2 id="13ã€SpringMVCï¼šæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#13ã€SpringMVCï¼šæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="13ã€SpringMVCï¼šæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>13ã€SpringMVCï¼šæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h2><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>æ–‡ä»¶ä¸Šä¼ æ˜¯é¡¹ç›®å¼€å‘ä¸­æœ€å¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€ ,springMVC å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼Œä½†æ˜¯SpringMVCä¸Šä¸‹æ–‡ä¸­é»˜è®¤æ²¡æœ‰è£…é…MultipartResolverï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹å…¶ä¸èƒ½å¤„ç†æ–‡ä»¶ä¸Šä¼ å·¥ä½œã€‚å¦‚æœæƒ³ä½¿ç”¨Springçš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨ä¸Šä¸‹æ–‡ä¸­é…ç½®MultipartResolverã€‚</p><p>å‰ç«¯è¡¨å•è¦æ±‚ï¼šä¸ºäº†èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„methodè®¾ç½®ä¸ºPOSTï¼Œå¹¶å°†enctypeè®¾ç½®ä¸ºmultipart/form-dataã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼›</p><p><strong>å¯¹è¡¨å•ä¸­çš„ enctype å±æ€§åšä¸ªè¯¦ç»†çš„è¯´æ˜ï¼š</strong></p><ul><li>application/x-www=form-urlencodedï¼šé»˜è®¤æ–¹å¼ï¼Œåªå¤„ç†è¡¨å•åŸŸä¸­çš„ value å±æ€§å€¼ï¼Œé‡‡ç”¨è¿™ç§ç¼–ç æ–¹å¼çš„è¡¨å•ä¼šå°†è¡¨å•åŸŸä¸­çš„å€¼å¤„ç†æˆ URL ç¼–ç æ–¹å¼ã€‚</li><li>multipart/form-dataï¼šè¿™ç§ç¼–ç æ–¹å¼ä¼šä»¥äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šæŠŠæ–‡ä»¶åŸŸæŒ‡å®šæ–‡ä»¶çš„å†…å®¹ä¹Ÿå°è£…åˆ°è¯·æ±‚å‚æ•°ä¸­ï¼Œä¸ä¼šå¯¹å­—ç¬¦ç¼–ç ã€‚</li><li>text/plainï¼šé™¤äº†æŠŠç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ å·å¤–ï¼Œå…¶ä»–å­—ç¬¦éƒ½ä¸åšç¼–ç å¤„ç†ï¼Œè¿™ç§æ–¹å¼é€‚ç”¨ç›´æ¥é€šè¿‡è¡¨å•å‘é€é‚®ä»¶ã€‚</li></ul><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">""</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">"multipart/form-data"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"file"</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></code></pre></div><p>ä¸€æ—¦è®¾ç½®äº†enctypeä¸ºmultipart/form-dataï¼Œæµè§ˆå™¨å³ä¼šé‡‡ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè€Œå¯¹äºæ–‡ä»¶ä¸Šä¼ çš„å¤„ç†åˆ™æ¶‰åŠåœ¨æœåŠ¡å™¨ç«¯è§£æåŸå§‹çš„HTTPå“åº”ã€‚åœ¨2003å¹´ï¼ŒApache Software Foundationå‘å¸ƒäº†å¼€æºçš„Commons FileUploadç»„ä»¶ï¼Œå…¶å¾ˆå¿«æˆä¸ºServlet/JSPç¨‹åºå‘˜ä¸Šä¼ æ–‡ä»¶çš„æœ€ä½³é€‰æ‹©ã€‚</p><ul><li>Servlet3.0è§„èŒƒå·²ç»æä¾›æ–¹æ³•æ¥å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Œä½†è¿™ç§ä¸Šä¼ éœ€è¦åœ¨Servletä¸­å®Œæˆã€‚</li><li>è€ŒSpring MVCåˆ™æä¾›äº†æ›´ç®€å•çš„å°è£…ã€‚</li><li>Spring MVCä¸ºæ–‡ä»¶ä¸Šä¼ æä¾›äº†ç›´æ¥çš„æ”¯æŒï¼Œè¿™ç§æ”¯æŒæ˜¯ç”¨å³æ’å³ç”¨çš„MultipartResolverå®ç°çš„ã€‚</li><li>Spring MVCä½¿ç”¨Apache Commons FileUploadæŠ€æœ¯å®ç°äº†ä¸€ä¸ªMultipartResolverå®ç°ç±»ï¼šCommonsMultipartResolverã€‚å› æ­¤ï¼ŒSpringMVCçš„æ–‡ä»¶ä¸Šä¼ è¿˜éœ€è¦ä¾èµ–Apache Commons FileUploadçš„ç»„ä»¶ã€‚</li></ul><h3 id="13-1ã€æ–‡ä»¶ä¸Šä¼ "><a href="#13-1ã€æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="13.1ã€æ–‡ä»¶ä¸Šä¼ "></a>13.1ã€æ–‡ä»¶ä¸Šä¼ </h3><p>ä¸€ã€å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…ï¼Œcommons-fileupload ï¼Œ Mavenä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¯¼å…¥ä»–çš„ä¾èµ–åŒ… commons-ioåŒ…ï¼›</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ–‡ä»¶ä¸Šä¼ --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-comment">&lt;!--servlet-apiå¯¼å…¥é«˜ç‰ˆæœ¬çš„--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div><p>äºŒã€é…ç½®beanï¼šmultipartResolver<br>ã€<strong>æ³¨æ„ï¼ï¼ï¼è¿™ä¸ªbenaçš„idå¿…é¡»ä¸ºï¼šmultipartResolver ï¼Œ å¦åˆ™ä¸Šä¼ æ–‡ä»¶ä¼šæŠ¥400çš„é”™è¯¯ï¼åœ¨è¿™é‡Œæ ½è¿‡å‘,æ•™è®­ï¼</strong>ã€‘</p><div class="hljs"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ–‡ä»¶ä¸Šä¼ é…ç½®--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"multipartResolver"</span>  <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.multipart.commons.CommonsMultipartResolver"</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"defaultEncoding"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"utf-8"</span>/&gt;</span>    <span class="hljs-comment">&lt;!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxUploadSize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"10485760"</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"maxInMemorySize"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"40960"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div><p>CommonsMultipartFile çš„ å¸¸ç”¨æ–¹æ³•ï¼š</p><ul><li><strong>String getOriginalFilename()ï¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„åŸå</strong></li><li><strong>InputStream getInputStream()ï¼šè·å–æ–‡ä»¶æµ</strong></li><li><strong>void transferTo(File dest)ï¼šå°†ä¸Šä¼ æ–‡ä»¶ä¿å­˜åˆ°ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­</strong></li></ul><p>æˆ‘ä»¬å»å®é™…æµ‹è¯•ä¸€ä¸‹</p><p>ä¸‰ã€ç¼–å†™å‰ç«¯é¡µé¢</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/upload"</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">"multipart/form-data"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"file"</span>/&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"upload"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></code></pre></div><p>å››ã€<strong>Controller</strong></p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.controller;<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestParam;<span class="hljs-keyword">import</span> org.springframework.web.multipart.commons.CommonsMultipartFile;<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<span class="hljs-keyword">import</span> java.io.*;<span class="hljs-meta">@Controller</span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileController</span> </span>{    <span class="hljs-comment">//@RequestParam("file") å°†name=fileæ§ä»¶å¾—åˆ°çš„æ–‡ä»¶å°è£…æˆCommonsMultipartFile å¯¹è±¡</span>    <span class="hljs-comment">//æ‰¹é‡ä¸Šä¼ CommonsMultipartFileåˆ™ä¸ºæ•°ç»„å³å¯</span>    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/upload"</span>)    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">fileUpload</span><span class="hljs-params">(@RequestParam(<span class="hljs-string">"file"</span>)</span> CommonsMultipartFile file , HttpServletRequest request) <span class="hljs-keyword">throws</span> IOException </span>{        <span class="hljs-comment">//è·å–æ–‡ä»¶å : file.getOriginalFilename();</span>        String uploadFileName = file.getOriginalFilename();        <span class="hljs-comment">//å¦‚æœæ–‡ä»¶åä¸ºç©ºï¼Œç›´æ¥å›åˆ°é¦–é¡µï¼</span>        <span class="hljs-keyword">if</span> (<span class="hljs-string">""</span>.equals(uploadFileName)){            <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/index.jsp"</span>;        }        System.out.println(<span class="hljs-string">"ä¸Šä¼ æ–‡ä»¶å : "</span>+uploadFileName);        <span class="hljs-comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span>        String path = request.getServletContext().getRealPath(<span class="hljs-string">"/upload"</span>);        <span class="hljs-comment">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ª</span>        File realPath = <span class="hljs-keyword">new</span> File(path);        <span class="hljs-keyword">if</span> (!realPath.exists()){            realPath.mkdir();        }        System.out.println(<span class="hljs-string">"ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š"</span>+realPath);        InputStream is = file.getInputStream(); <span class="hljs-comment">//æ–‡ä»¶è¾“å…¥æµ</span>        OutputStream os = <span class="hljs-keyword">new</span> FileOutputStream(<span class="hljs-keyword">new</span> File(realPath,uploadFileName)); <span class="hljs-comment">//æ–‡ä»¶è¾“å‡ºæµ</span>        <span class="hljs-comment">//è¯»å–å†™å‡º</span>        <span class="hljs-keyword">int</span> len=<span class="hljs-number">0</span>;        <span class="hljs-keyword">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];        <span class="hljs-keyword">while</span> ((len=is.read(buffer))!=-<span class="hljs-number">1</span>){            os.write(buffer,<span class="hljs-number">0</span>,len);            os.flush();        }        os.close();        is.close();        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/index.jsp"</span>;    }}</code></pre></div><p>äº”ã€æµ‹è¯•ä¸Šä¼ æ–‡ä»¶ï¼ŒOKï¼</p><h3 id="é‡‡ç”¨file-Transto-æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶"><a href="#é‡‡ç”¨file-Transto-æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶" class="headerlink" title="é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶"></a>é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</h3><ol><li><p>ç¼–å†™Controller</p> <div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">/*</span><span class="hljs-comment"> * é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</span><span class="hljs-comment"> */</span><span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/upload2"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String  <span class="hljs-title">fileUpload2</span><span class="hljs-params">(@RequestParam(<span class="hljs-string">"file"</span>)</span> CommonsMultipartFile file, HttpServletRequest request) <span class="hljs-keyword">throws</span> IOException </span>{    <span class="hljs-comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span>    String path = request.getServletContext().getRealPath(<span class="hljs-string">"/upload"</span>);    File realPath = <span class="hljs-keyword">new</span> File(path);    <span class="hljs-keyword">if</span> (!realPath.exists()){        realPath.mkdir();    }    <span class="hljs-comment">//ä¸Šä¼ æ–‡ä»¶åœ°å€</span>    System.out.println(<span class="hljs-string">"ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š"</span>+realPath);    <span class="hljs-comment">//é€šè¿‡CommonsMultipartFileçš„æ–¹æ³•ç›´æ¥å†™æ–‡ä»¶ï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™ï¼‰</span>    file.transferTo(<span class="hljs-keyword">new</span> File(realPath +<span class="hljs-string">"/"</span>+ file.getOriginalFilename()));    <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/index.jsp"</span>;}</code></pre></div></li><li><p>å‰ç«¯è¡¨å•æäº¤åœ°å€ä¿®æ”¹</p></li><li><p>è®¿é—®æäº¤æµ‹è¯•ï¼ŒOKï¼</p></li></ol><h3 id="13-2ã€æ–‡ä»¶ä¸‹è½½"><a href="#13-2ã€æ–‡ä»¶ä¸‹è½½" class="headerlink" title="13.2ã€æ–‡ä»¶ä¸‹è½½"></a>13.2ã€æ–‡ä»¶ä¸‹è½½</h3><p>æ–‡ä»¶ä¸‹è½½æ­¥éª¤ï¼š</p><ol><li>è®¾ç½® response å“åº”å¤´</li><li>è¯»å–æ–‡ä»¶ â€“ InputStream</li><li>å†™å‡ºæ–‡ä»¶ â€“ OutputStream</li><li>æ‰§è¡Œæ“ä½œ</li><li>å…³é—­æµ ï¼ˆå…ˆå¼€åå…³ï¼‰</li></ol><p>ä»£ç å®ç°ï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping</span>(value=<span class="hljs-string">"/download"</span>)<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">downloads</span><span class="hljs-params">(HttpServletResponse response ,HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> Exception</span>{    <span class="hljs-comment">//è¦ä¸‹è½½çš„å›¾ç‰‡åœ°å€</span>    String  path = request.getServletContext().getRealPath(<span class="hljs-string">"/upload"</span>);    String  fileName = <span class="hljs-string">"åŸºç¡€è¯­æ³•.jpg"</span>;    <span class="hljs-comment">//1ã€è®¾ç½®response å“åº”å¤´</span>    response.reset(); <span class="hljs-comment">//è®¾ç½®é¡µé¢ä¸ç¼“å­˜,æ¸…ç©ºbuffer</span>    response.setCharacterEncoding(<span class="hljs-string">"UTF-8"</span>); <span class="hljs-comment">//å­—ç¬¦ç¼–ç </span>    response.setContentType(<span class="hljs-string">"multipart/form-data"</span>); <span class="hljs-comment">//äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®</span>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´</span>    response.setHeader(<span class="hljs-string">"Content-Disposition"</span>,            <span class="hljs-string">"attachment;fileName="</span>+URLEncoder.encode(fileName, <span class="hljs-string">"UTF-8"</span>));    File file = <span class="hljs-keyword">new</span> File(path,fileName);    <span class="hljs-comment">//2ã€ è¯»å–æ–‡ä»¶--è¾“å…¥æµ</span>    InputStream input=<span class="hljs-keyword">new</span> FileInputStream(file);    <span class="hljs-comment">//3ã€ å†™å‡ºæ–‡ä»¶--è¾“å‡ºæµ</span>    OutputStream out = response.getOutputStream();    <span class="hljs-keyword">byte</span>[] buff =<span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];    <span class="hljs-keyword">int</span> index=<span class="hljs-number">0</span>;    <span class="hljs-comment">//4ã€æ‰§è¡Œ å†™å‡ºæ“ä½œ</span>    <span class="hljs-keyword">while</span>((index= input.read(buff))!= -<span class="hljs-number">1</span>){        out.write(buff, <span class="hljs-number">0</span>, index);        out.flush();    }    out.close();    input.close();    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;}</code></pre></div><p>å‰ç«¯</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/download"</span>&gt;</span>ç‚¹å‡»ä¸‹è½½<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></code></pre></div><p>æµ‹è¯•ï¼Œæ–‡ä»¶ä¸‹è½½OKï¼Œå¤§å®¶å¯ä»¥å’Œæˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„JavaWebåŸç”Ÿçš„æ–¹å¼å¯¹æ¯”ä¸€ä¸‹ï¼Œå°±å¯ä»¥çŸ¥é“è¿™ä¸ªä¾¿æ·å¤šäº†!</p><h2 id="100ã€é€šç”¨"><a href="#100ã€é€šç”¨" class="headerlink" title="100ã€é€šç”¨"></a>100ã€é€šç”¨</h2><h3 id="1-web-xml"><a href="#1-web-xml" class="headerlink" title="1.web.xml"></a>1.web.xml</h3><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">"4.0"</span>&gt;</span>    <span class="hljs-comment">&lt;!--DispatcherServlet--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>    <span class="hljs-comment">&lt;!--encodingFilter--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>            org.springframework.web.filter.CharacterEncodingFilter        <span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span>    <span class="hljs-comment">&lt;!--Sessionè¿‡æœŸæ—¶é—´--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span></code></pre></div><h3 id="2-springmvc-servlet-xml"><a href="#2-springmvc-servlet-xml" class="headerlink" title="2.springmvc-servlet.xml"></a>2.springmvc-servlet.xml</h3><div class="hljs"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">"http://www.springframework.org/schema/context"</span></span><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">"http://www.springframework.org/schema/mvc"</span></span><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/context</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/context/spring-context.xsd</span></span><span class="hljs-tag"><span class="hljs-string">        http://www.springframework.org/schema/mvc</span></span><span class="hljs-tag"><span class="hljs-string">        https://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"com.kuang.controller"</span>/&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span>    <span class="hljs-comment">&lt;!--JSONä¹±ç é—®é¢˜é…ç½®--&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">mvc:message-converters</span> <span class="hljs-attr">register-defaults</span>=<span class="hljs-string">"true"</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.http.converter.StringHttpMessageConverter"</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"UTF-8"</span>/&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"</span>&gt;</span>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"objectMapper"</span>&gt;</span>                    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean"</span>&gt;</span>                        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"failOnEmptyBeans"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"false"</span>/&gt;</span>                    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>                <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>            <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>        <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:message-converters</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:annotation-driven</span>&gt;</span>    <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span></span><span class="hljs-tag">          <span class="hljs-attr">id</span>=<span class="hljs-string">"internalResourceViewResolver"</span>&gt;</span>        <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/WEB-INF/jsp/"</span> /&gt;</span>        <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span> /&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div><h3 id="3ã€ä½¿ç”¨åˆ°çš„æ³¨è§£"><a href="#3ã€ä½¿ç”¨åˆ°çš„æ³¨è§£" class="headerlink" title="3ã€ä½¿ç”¨åˆ°çš„æ³¨è§£"></a>3ã€ä½¿ç”¨åˆ°çš„æ³¨è§£</h3><div class="hljs"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span>æ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨<span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/HelloController"</span>)<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p1 ç»„åˆæ³¨è§£  <span class="hljs-meta">@GetMapping</span>          <span class="hljs-meta">@PostMapping</span>          <span class="hljs-meta">@PutMapping</span>          <span class="hljs-meta">@DeleteMapping</span>          <span class="hljs-meta">@PatchMapping</span><span class="hljs-meta">@RequestParam</span>(<span class="hljs-string">"username"</span>) String name <span class="hljs-meta">@ResponseBody</span>    ç»„åˆæ³¨è§£   <span class="hljs-meta">@RestController</span></code></pre></div><h3 id="4ã€ä½¿ç”¨åˆ°çš„jaråŒ…"><a href="#4ã€ä½¿ç”¨åˆ°çš„jaråŒ…" class="headerlink" title="4ã€ä½¿ç”¨åˆ°çš„jaråŒ…"></a>4ã€ä½¿ç”¨åˆ°çš„jaråŒ…</h3><div class="hljs"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.9.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.10.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>         <span class="hljs-comment">&lt;!-- fastjson --&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.60<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>         <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>       <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>     <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></code></pre></div><p><img src="https://img2020.cnblogs.com/blog/1905053/202003/1905053-20200331213841543-745577399.png" srcset="/blog/img/loading.gif" alt="img"></p><h2 id="SpringMVCçš„æ‰§è¡Œæµç¨‹"><a href="#SpringMVCçš„æ‰§è¡Œæµç¨‹" class="headerlink" title="SpringMVCçš„æ‰§è¡Œæµç¨‹"></a>SpringMVCçš„æ‰§è¡Œæµç¨‹</h2><p><img src="https://images2018.cnblogs.com/blog/1370903/201808/1370903-20180827201021158-682489195.png" srcset="/blog/img/loading.gif" alt="img"></p><h3 id="1ã€ä¸€ä¸ªè¯·æ±‚åŒ¹é…å‰ç«¯æ§åˆ¶å™¨-DispatcherServlet-çš„è¯·æ±‚æ˜ å°„è·¯å¾„-åœ¨-web-xmlä¸­æŒ‡å®š-WEB-å®¹å™¨å°†è¯¥è¯·æ±‚è½¬äº¤ç»™-DispatcherServlet-å¤„ç†"><a href="#1ã€ä¸€ä¸ªè¯·æ±‚åŒ¹é…å‰ç«¯æ§åˆ¶å™¨-DispatcherServlet-çš„è¯·æ±‚æ˜ å°„è·¯å¾„-åœ¨-web-xmlä¸­æŒ‡å®š-WEB-å®¹å™¨å°†è¯¥è¯·æ±‚è½¬äº¤ç»™-DispatcherServlet-å¤„ç†" class="headerlink" title="1ã€ä¸€ä¸ªè¯·æ±‚åŒ¹é…å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet çš„è¯·æ±‚æ˜ å°„è·¯å¾„(åœ¨ web.xmlä¸­æŒ‡å®š), WEB å®¹å™¨å°†è¯¥è¯·æ±‚è½¬äº¤ç»™ DispatcherServlet å¤„ç†"></a>1ã€ä¸€ä¸ªè¯·æ±‚åŒ¹é…å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet çš„è¯·æ±‚æ˜ å°„è·¯å¾„(åœ¨ web.xmlä¸­æŒ‡å®š), WEB å®¹å™¨å°†è¯¥è¯·æ±‚è½¬äº¤ç»™ DispatcherServlet å¤„ç†</h3><h3 id="2ã€DispatcherServlet-æ¥æ”¶åˆ°è¯·æ±‚å-å°†æ ¹æ®-è¯·æ±‚ä¿¡æ¯-äº¤ç»™-å¤„ç†å™¨æ˜ å°„å™¨-ï¼ˆHandlerMappingï¼‰"><a href="#2ã€DispatcherServlet-æ¥æ”¶åˆ°è¯·æ±‚å-å°†æ ¹æ®-è¯·æ±‚ä¿¡æ¯-äº¤ç»™-å¤„ç†å™¨æ˜ å°„å™¨-ï¼ˆHandlerMappingï¼‰" class="headerlink" title="2ã€DispatcherServlet æ¥æ”¶åˆ°è¯·æ±‚å, å°†æ ¹æ® è¯·æ±‚ä¿¡æ¯ äº¤ç»™ å¤„ç†å™¨æ˜ å°„å™¨ ï¼ˆHandlerMappingï¼‰"></a>2ã€DispatcherServlet æ¥æ”¶åˆ°è¯·æ±‚å, å°†æ ¹æ® è¯·æ±‚ä¿¡æ¯ äº¤ç»™ å¤„ç†å™¨æ˜ å°„å™¨ ï¼ˆHandlerMappingï¼‰</h3><h3 id="3ã€HandlerMapping-æ ¹æ®ç”¨æˆ·çš„urlè¯·æ±‚-æŸ¥æ‰¾åŒ¹é…è¯¥urlçš„-Handlerï¼Œå¹¶è¿”å›ä¸€ä¸ªæ‰§è¡Œé“¾"><a href="#3ã€HandlerMapping-æ ¹æ®ç”¨æˆ·çš„urlè¯·æ±‚-æŸ¥æ‰¾åŒ¹é…è¯¥urlçš„-Handlerï¼Œå¹¶è¿”å›ä¸€ä¸ªæ‰§è¡Œé“¾" class="headerlink" title="3ã€HandlerMapping æ ¹æ®ç”¨æˆ·çš„urlè¯·æ±‚ æŸ¥æ‰¾åŒ¹é…è¯¥urlçš„ Handlerï¼Œå¹¶è¿”å›ä¸€ä¸ªæ‰§è¡Œé“¾"></a>3ã€HandlerMapping æ ¹æ®ç”¨æˆ·çš„urlè¯·æ±‚ æŸ¥æ‰¾åŒ¹é…è¯¥urlçš„ Handlerï¼Œå¹¶è¿”å›ä¸€ä¸ªæ‰§è¡Œé“¾</h3><h3 id="4ã€DispatcherServlet-å†è¯·æ±‚-å¤„ç†å™¨é€‚é…å™¨-HandlerAdapter-è°ƒç”¨ç›¸åº”çš„-Handler-è¿›è¡Œå¤„ç†å¹¶è¿”å›-ModelAndView-ç»™-DispatcherServlet"><a href="#4ã€DispatcherServlet-å†è¯·æ±‚-å¤„ç†å™¨é€‚é…å™¨-HandlerAdapter-è°ƒç”¨ç›¸åº”çš„-Handler-è¿›è¡Œå¤„ç†å¹¶è¿”å›-ModelAndView-ç»™-DispatcherServlet" class="headerlink" title="4ã€DispatcherServlet å†è¯·æ±‚ å¤„ç†å™¨é€‚é…å™¨(HandlerAdapter) è°ƒç”¨ç›¸åº”çš„ Handler è¿›è¡Œå¤„ç†å¹¶è¿”å› ModelAndView ç»™ DispatcherServlet"></a>4ã€DispatcherServlet å†è¯·æ±‚ å¤„ç†å™¨é€‚é…å™¨(HandlerAdapter) è°ƒç”¨ç›¸åº”çš„ Handler è¿›è¡Œå¤„ç†å¹¶è¿”å› ModelAndView ç»™ DispatcherServlet</h3><h3 id="5ã€DispatcherServlet-å°†-ModelAndView-è¯·æ±‚-ViewResloverï¼ˆè§†å›¾è§£æå™¨ï¼‰è§£æï¼Œè¿”å›å…·ä½“-View"><a href="#5ã€DispatcherServlet-å°†-ModelAndView-è¯·æ±‚-ViewResloverï¼ˆè§†å›¾è§£æå™¨ï¼‰è§£æï¼Œè¿”å›å…·ä½“-View" class="headerlink" title="5ã€DispatcherServlet å°† ModelAndView è¯·æ±‚ ViewResloverï¼ˆè§†å›¾è§£æå™¨ï¼‰è§£æï¼Œè¿”å›å…·ä½“ View"></a>5ã€DispatcherServlet å°† ModelAndView è¯·æ±‚ ViewResloverï¼ˆè§†å›¾è§£æå™¨ï¼‰è§£æï¼Œè¿”å›å…·ä½“ View</h3><h3 id="6ã€DispatcherServlet-å¯¹-View-è¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰"><a href="#6ã€DispatcherServlet-å¯¹-View-è¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰" class="headerlink" title="6ã€DispatcherServlet å¯¹ View è¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰"></a>6ã€DispatcherServlet å¯¹ View è¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰</h3><h3 id="7ã€DispatcherServlet-å°†é¡µé¢å“åº”ç»™ç”¨æˆ·"><a href="#7ã€DispatcherServlet-å°†é¡µé¢å“åº”ç»™ç”¨æˆ·" class="headerlink" title="7ã€DispatcherServlet å°†é¡µé¢å“åº”ç»™ç”¨æˆ·"></a>7ã€DispatcherServlet å°†é¡µé¢å“åº”ç»™ç”¨æˆ·</h3><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è§†é¢‘ï¼š&lt;a href=&quot;https://www.bilibili.com/video/BV1aE41167Tu&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.bilibili.com/video/BV1aE41167Tu&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="ç¬”è®°" scheme="https://melodyjerry.github.io/blog/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="JavaWeb" scheme="https://melodyjerry.github.io/blog/tags/JavaWeb/"/>
    
      <category term="SSM" scheme="https://melodyjerry.github.io/blog/tags/SSM/"/>
    
  </entry>
  
  <entry>
    <title>WrodPresså»ºç«™æ•™ç¨‹</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/27/WrodPress%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/27/WrodPress%E5%BB%BA%E7%AB%99%E6%95%99%E7%A8%8B/</id>
    <published>2020-08-27T03:11:11.000Z</published>
    <updated>2020-09-18T04:43:03.004Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç¯‡æ–‡ç« é€‚ç”¨äºç¬¬ä¸€æ¬¡å»ºç«™çš„å°ç™½ï¼Œå¸®åŠ©ä½ ä»é›¶æ­å»ºèµ·ä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘ç«™ï¼Œæ—¢ç„¶æ˜¯ä»é›¶ï¼Œé‚£ä¹ˆæˆ‘å°±ä¼šå¸¦ç€ä½ ä»è´­ä¹°åŸŸåç­‰åˆ°ä¸€ç›´æ­å»ºæˆåŠŸï¼Œæ¥ä¸‹æ¥è¯·å¾€ä¸‹çœ‹å§ã€‚</p><h2 id="å»ºç«™å‡†å¤‡"><a href="#å»ºç«™å‡†å¤‡" class="headerlink" title="å»ºç«™å‡†å¤‡"></a>å»ºç«™å‡†å¤‡</h2><p>å»ºç½‘ç«™æœ¬èº«æ˜¯æ²¡æœ‰ä»€ä¹ˆéš¾åº¦çš„ï¼Œæ¯•ç«Ÿç°åœ¨æ­å»ºä¸€ä¸ªç½‘ç«™çš„æˆæœ¬ä¹Ÿå¾ˆä½ï¼Œåªæ˜¯é…å¥—éœ€è¦çš„ä¸œè¥¿æœ‰äº›ç¹çï¼Œæˆ‘ä»¬å…ˆæŠŠè¦ç”¨åˆ°çš„å‡†å¤‡å¥½ã€‚</p><ul><li>åŸŸå</li><li>æœåŠ¡å™¨</li><li>WrodPresså®‰è£…åŒ…</li></ul><h2 id="è´­ä¹°åŸŸå"><a href="#è´­ä¹°åŸŸå" class="headerlink" title="è´­ä¹°åŸŸå"></a>è´­ä¹°åŸŸå</h2><p>åŸŸåè¿™é‡Œæ¨èä½¿ç”¨<a href="https://wanwang.aliyun.com/?spm=5176.12825654.eofdhaal5.9.e9392c4ajD7d25&amp;aly_as=sVYsCHit" target="_blank" rel="noopener">é˜¿é‡Œäº‘</a>çš„åŸŸåï¼Œåšä¸»çš„è¿™ä¸ªåŸŸåå°±æ˜¯åœ¨é˜¿é‡Œäº‘æ³¨å†Œçš„ï¼Œç°åœ¨æœ€ä¾¿å®œçš„topåŸŸåé¦–å¹´æ‰9å…ƒã€‚åšä¸»æœ¬æ¥æƒ³æ³¨å†Œ<code>zou.wang</code>è¿™ä¸ªåŸŸåçš„ï¼Œä¸€å¹´å››ä¸‡å¤šå“å¾—æˆ‘ç«‹é©¬å…³æ‰äº†æµè§ˆå™¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E5%9F%9F%E5%90%8D.png" srcset="/blog/img/loading.gif" alt="åŸŸåä»·æ ¼è¡¨.png"></p><h2 id="è´­ä¹°æœåŠ¡å™¨"><a href="#è´­ä¹°æœåŠ¡å™¨" class="headerlink" title="è´­ä¹°æœåŠ¡å™¨"></a>è´­ä¹°æœåŠ¡å™¨</h2><p>æœåŠ¡å™¨çš„é€‰æ‹©å°±å¾ˆå¤šäº†ï¼Œå¦‚æœä¸æƒ³å¤‡æ¡ˆçš„è¯è¿˜æ˜¯è¦ä¹°æµ·å¤–çš„æœåŠ¡å™¨ï¼ˆæ¯”å¦‚é¦™æ¸¯çš„ï¼‰åšä¸»ä¹°çš„æ˜¯<a href="https://cloud.tencent.com/" target="_blank" rel="noopener">è…¾è®¯äº‘æœåŠ¡å™¨</a>ï¼Œä¸è¦ä»¥ä¸ºåšä¸»èŠ±äº†å¾ˆå¤šé’±ï¼Œæˆ‘æ­£å¥½å¤„åœ¨25å²ä»¥ä¸‹ï¼Œä¹°çš„æ˜¯<a href="https://cloud.tencent.com/act/campus?fromSource=gwzcw.2432500.2432500.2432500&amp;utm_medium=cpc&amp;utm_id=gwzcw.2432500.2432500.2432500" target="_blank" rel="noopener">è…¾è®¯äº‘å­¦ç”ŸæœåŠ¡å™¨</a>ï¼Œä¸€ä¸ªæœˆæ‰åå…ƒï¼Œå¹¶ä¸”å¯ä»¥ä»¥è¿™ä¸ªä»·æ ¼ç»­è´¹ä¸‰æ¬¡ï¼Œé…ç½®æˆ‘è§‰å¾—è¿˜å¯ä»¥ï¼Œä½œä¸ºåˆå§‹å»ºç«™æ˜¯å¤Ÿç”¨äº†ï¼Œå½“ç„¶è¿™æ˜¯å±äºå›½å†…çš„æœåŠ¡å™¨æ˜¯è¦å¤‡æ¡ˆçš„å¹¶ä¸”æœåŠ¡å™¨è´­ä¹°ä¸‰ä¸ªæœˆæ‰å¯ä»¥å¤‡æ¡ˆï¼Œåšä¸»å½“æ—¶å°±è¢«è¿™é‡Œå‘æ‰äº†ã€‚è¿™é‡Œä¸€å®šè¦è®°ä½ä¸€æ¬¡æ€§è´­ä¹°ä¸‰ä¸ªæœˆæœåŠ¡å™¨æ‰å¯ä»¥å¤‡æ¡ˆã€‚<img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8.png" srcset="/blog/img/loading.gif" alt="WordPresså»ºç«™æœ€å…¨æ•™ç¨‹"></p><p>è¿™é‡Œç³»ç»Ÿé€‰æ‹©<code>CentOS 7.4 64ä½</code>ä¸ºä»€ä¹ˆå¿…é¡»é€‰æ‹©<a href="https://baike.baidu.com/item/linux/27050?fr=aladdin" target="_blank" rel="noopener">Linux</a>å‘¢ï¼Œå› ä¸ºåé¢ç”¨çš„å°±æ˜¯<a href="https://baike.baidu.com/item/linux/27050?fr=aladdin" target="_blank" rel="noopener">Linux</a>ï¼Œè®°å¾—ä¿å­˜å¥½è´¦æˆ·å¯†ç ã€‚</p><h2 id="å®‰è£…å®å¡”é¢æ¿"><a href="#å®‰è£…å®å¡”é¢æ¿" class="headerlink" title="å®‰è£…å®å¡”é¢æ¿"></a>å®‰è£…å®å¡”é¢æ¿</h2><p>å®‰è£…<a href="https://www.bt.cn/?invite_code=MV9oc2Jib3U=" target="_blank" rel="noopener">å®å¡”é¢æ¿</a>ä¹‹å‰ï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿæ˜¯çº¯å‡€çš„ï¼ˆåˆšä¹°çš„è‚¯å®šæ˜¯çº¯å‡€çš„å§ï¼‰ï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨å…¶ä»–çš„ä¸€é”®å®‰è£…ï¼Œå»ºè®®é‡è£…ç³»ç»Ÿä¸ºCentos7ç³»ç»Ÿ ã€‚é¦–å…ˆæˆ‘ä»¬è¦è¿›å…¥åˆšä¹°çš„æœåŠ¡å™¨</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A6%82%E5%86%B5.png" srcset="/blog/img/loading.gif" alt="d3a6043d61f5c2c81194e974a097de55.png"></p><p>ç‚¹å‡»ç™»é™†ï¼Œé€‰æ‹©æ ‡å‡†ç™»é™†æ–¹å¼ï¼Œè¾“å…¥ä¹‹å‰ä¿å­˜çš„å¯†ç ï¼ŒæˆåŠŸç™»é™†ä¹‹ååœ¨å‘½ä»¤è¡Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…å®å¡”é¢æ¿</p><div class="hljs"><pre><code class="hljs LNUIX">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install.sh &amp;&amp; sh install.sh</code></pre></div><p>ä¸­é€”ä¸€ç›´yeså°±è¡Œï¼Œç­‰å¾…å‡ åˆ†é’Ÿå®‰è£…å®Œæ¯•ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E5%AE%9D%E5%A1%94%E4%BF%A1%E6%81%AF.png" srcset="/blog/img/loading.gif" alt="98a72b549ab4344fbe748bc29572c572.png"></p><p>ç­‰å¾…å®‰è£…å®Œæˆä¹‹åï¼Œå‘½ä»¤è¡Œä¼šæ˜¾ç¤ºé¢æ¿çš„ç™»å½•åœ°å€ã€è´¦å·ä»¥åŠå¯†ç ï¼Œä¸€å®šå°†è¿™äº›ä¿¡æ¯ä¿å­˜ä¸‹æ¥ï¼ŒåæœŸçš„ç®¡ç†éƒ½éœ€è¦ä½¿ç”¨è¯¥ä¿¡æ¯ç™»å½•é¢æ¿</p><h2 id="å®‰è£…ç½‘ç»œç¯å¢ƒ"><a href="#å®‰è£…ç½‘ç»œç¯å¢ƒ" class="headerlink" title="å®‰è£…ç½‘ç»œç¯å¢ƒ"></a>å®‰è£…ç½‘ç»œç¯å¢ƒ</h2><p>å®å¡”é¢æ¿å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥ç™»å½•åå°é¢æ¿äº†ï¼Œä½¿ç”¨åˆšåˆšè®°å½•çš„åå°åœ°å€ç™»å½•ï¼Œç™»é™†è¿›å»ä¹‹åæœ€å¥½åœ¨é¢æ¿è®¾ç½®é‡Œä¿®æ”¹ä¸€ä¸‹è®¿é—®ç«¯å£å’Œå¯†ç ä»€ä¹ˆçš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E5%AE%9D%E5%A1%94%E7%99%BB%E9%99%86%E7%95%8C%E9%9D%A2.png" srcset="/blog/img/loading.gif" alt="fdb76a4f995f40bf0237b22f6187f4dc.png"></p><p>è¿›å…¥åˆ°å®å¡”åå°é¢æ¿æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ä¸€é”®å®‰è£…ç½‘ç»œç¯å¢ƒçš„ç•Œé¢ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šé€‰æ‹©å·¦ä¾§çš„LNMPæ¶æ„ï¼Œç¼–è¯‘å®‰è£…</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/LNMP.jpg" srcset="/blog/img/loading.gif" alt="LNMP.md.jpg"></p><p>ç„¶åå°±æ˜¯ç­‰å¾…å®‰è£…å®Œæˆå°±å¯ä»¥äº†ï¼Œä¸€èˆ¬ä¼šæŒç»­åŠå°æ—¶åˆ°1ä¸ªå°æ—¶ï¼Œæ ¹æ®ä½ æœåŠ¡å™¨çš„æ€§èƒ½å†³å®š ã€‚</p><h2 id="æœåŠ¡å™¨æ–°å»ºç«™ç‚¹"><a href="#æœåŠ¡å™¨æ–°å»ºç«™ç‚¹" class="headerlink" title="æœåŠ¡å™¨æ–°å»ºç«™ç‚¹"></a>æœåŠ¡å™¨æ–°å»ºç«™ç‚¹</h2><p>ç°åœ¨æ‰€æœ‰çš„ç¯å¢ƒå·²ç»æ­å»ºå¥½äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å»ºç½‘ç«™äº†ï¼Œå®å¡”é¢æ¿æ–°å»ºä¸€ä¸ªç½‘ç«™ï¼Œç‚¹å‡»ä¸‹å›¾ä¸­ç»¿è‰²çš„æŒ‰é’®æ–°å»ºä¸€ä¸ªç«™ç‚¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E6%B7%BB%E5%8A%A0%E7%AB%99%E7%82%B9.jpg" srcset="/blog/img/loading.gif" alt="ae6af2e95da6cd18f6f7bb3495846a6d.jpg"></p><p>è¿™é‡Œéœ€è¦è¾“å…¥æˆ‘ä»¬çš„åŸŸåï¼ŒæŠŠä¸å¸¦wwwçš„å’Œå¸¦wwwçš„éƒ½å¡«ä¸Šï¼Œæ¯”å¦‚zouwang.vipå’Œ<a href="http://www.zouwang.vip" target="_blank" rel="noopener">www.zouwang.vip</a>, è¯¥æ­¥éª¤å°±æ˜¯<strong>ç»‘å®šåŸŸå</strong>ï¼ŒFTPå¯ä»¥ä¸ç”¨åˆ›å»ºåé¢ä¹Ÿç”¨ä¸ä¸Šï¼Œæ•°æ®åº“æ˜¯ä¸€å®šè¦åˆ›å»ºçš„ï¼ŒæŠŠè¿™äº›ä¿¡æ¯éƒ½è®°å½•ä¸‹æ¥ä¹‹åè¦ç”¨åˆ°</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E6%B7%BB%E5%8A%A0%E7%BD%91%E7%AB%99.png" srcset="/blog/img/loading.gif" alt="cf2b2d4e64575ed25b4b806ee5cb82d2.png"></p><p>æ‰€æœ‰è®¾ç½®å®Œæ¯•ä¹‹åæˆ‘ä»¬ç‚¹å‡»æäº¤ï¼Œç½‘ç«™å³åˆ›å»ºå®Œæ¯• ã€‚</p><h2 id="åŸŸåè§£æ"><a href="#åŸŸåè§£æ" class="headerlink" title="åŸŸåè§£æ"></a>åŸŸåè§£æ</h2><p>è¿™ä¸ªå…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æ·»åŠ åŸŸåè§£æçš„ipåœ°å€ï¼Œä½¿åŸŸåå¯ä»¥è§£æåˆ°æœåŠ¡å™¨ï¼Œä¸åŒçš„åŸŸåå•†æ“ä½œæ–¹æ³•ä¸ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘æ¼”ç¤ºä¸‹é˜¿é‡Œäº‘çš„åŸŸåè§£æã€‚</p><p>æˆ‘ä»¬å…ˆåœ¨åŸŸåæ§åˆ¶å°é‡Œæ‰¾åˆ°åŸŸååˆ—è¡¨ï¼Œç‚¹å‡»è§£æï¼Œç„¶åæ·»åŠ è§£æã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E5%87%86%E5%A4%87%E8%A7%A3%E6%9E%90.png" srcset="/blog/img/loading.gif" alt="4d55b52f45ac4920044b3fd468f7b244.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E8%A7%A3%E6%9E%90%E8%AE%BE%E7%BD%AE.png" srcset="/blog/img/loading.gif" alt="68f288ebb71f9cc8685f5e527d51f2a1.png"></p><p>å…ˆæ¥è®²ä¸€ä¸‹æ·»åŠ åŸŸåè§£æè®°å½•çš„æ¯ä¸ªè¯éƒ½æ˜¯ä»€ä¹ˆæ„æ€</p><h3 id="è®°å½•ç±»å‹"><a href="#è®°å½•ç±»å‹" class="headerlink" title="è®°å½•ç±»å‹"></a>è®°å½•ç±»å‹</h3><p>è¦æŒ‡å‘ç©ºé—´å•†æä¾›çš„ IP åœ°å€ï¼Œé€‰æ‹©ã€Œç±»å‹ Aã€ï¼Œè¦æŒ‡å‘ä¸€ä¸ªåŸŸåï¼Œé€‰æ‹©ã€Œç±»å‹ CNAMEã€</p><ul><li>Aè®°å½•ï¼šåœ°å€è®°å½•ï¼Œç”¨æ¥æŒ‡å®šåŸŸåçš„IPv4åœ°å€ï¼ˆå¦‚ï¼š8.8.8.8ï¼‰ï¼Œå¦‚æœéœ€è¦å°†åŸŸåæŒ‡å‘ä¸€ä¸ªIPåœ°å€ï¼Œå°±éœ€è¦æ·»åŠ Aè®°å½•ã€‚</li><li>CNAMEï¼š å¦‚æœéœ€è¦å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼Œå†ç”±å¦ä¸€ä¸ªåŸŸåæä¾›ipåœ°å€ï¼Œå°±éœ€è¦æ·»åŠ CNAMEè®°å½•ï¼Œä¾‹å¦‚æ·»åŠ <a href="https://baike.baidu.com/item/CDN/420951?fr=aladdin" target="_blank" rel="noopener">cdn</a></li><li>NSï¼šåŸŸåæœåŠ¡å™¨è®°å½•ï¼Œå¦‚æœéœ€è¦æŠŠå­åŸŸåäº¤ç»™å…¶ä»–DNSæœåŠ¡å•†è§£æï¼Œå°±éœ€è¦æ·»åŠ NSè®°å½•ã€‚</li><li>AAAï¼šç”¨æ¥æŒ‡å®šä¸»æœºåï¼ˆæˆ–åŸŸåï¼‰å¯¹åº”çš„IPv6åœ°å€ï¼ˆä¾‹å¦‚ï¼šff06:0:0:0:0:0:0:c3ï¼‰è®°å½•ã€‚</li><li>MXï¼šå¦‚æœéœ€è¦è®¾ç½®é‚®ç®±ï¼Œè®©é‚®ç®±èƒ½æ”¶åˆ°é‚®ä»¶ï¼Œå°±éœ€è¦æ·»åŠ MXè®°å½•ã€‚</li></ul><h3 id="ä¸»æœºè®°å½•"><a href="#ä¸»æœºè®°å½•" class="headerlink" title="ä¸»æœºè®°å½•"></a>ä¸»æœºè®°å½•</h3><p>ä¸»æœºè®°å½•å°±æ˜¯åŸŸåå‰ç¼€ï¼Œå¸¸è§ç”¨æ³•æœ‰ï¼š</p><ul><li>wwwï¼šè§£æåçš„åŸŸåä¸º <a href="http://www.zouwang.vip" target="_blank" rel="noopener">www.zouwang.vip</a></li><li>@ï¼šç›´æ¥è§£æä¸»åŸŸå zouwang.vip</li><li>*ï¼šæ³›è§£æï¼ŒåŒ¹é…å…¶ä»–æ‰€æœ‰åŸŸå *.zouwang.vip</li></ul><h3 id="è§£æçº¿è·¯"><a href="#è§£æçº¿è·¯" class="headerlink" title="è§£æçº¿è·¯"></a>è§£æçº¿è·¯</h3><p>è®©æŒ‡å®šçº¿è·¯çš„ç”¨æˆ·è®¿é—®è¿™ä¸ªIPï¼Œå¸¸è§ç”¨æ³•æœ‰ï¼š</p><ul><li>é»˜è®¤ï¼šå¿…é¡»æ·»åŠ ï¼Œå¦åˆ™åªæœ‰å•ç‹¬æŒ‡å®šçš„çº¿è·¯æ‰èƒ½è®¿é—®æ‚¨çš„ç½‘ç«™ã€‚å¦‚æœåŒçº¿è§£æï¼Œå»ºè®®ã€Œé»˜è®¤ã€çº¿è·¯å¡«å†™ã€Œç”µä¿¡IPã€</li><li>è”é€šï¼šå•ç‹¬ä¸ºã€Œè”é€šç”¨æˆ·ã€æŒ‡å®šæœåŠ¡å™¨ IPï¼Œå…¶ä»–ç”¨æˆ·ä¾ç„¶è®¿é—®ã€Œé»˜è®¤ã€</li><li>æœç´¢å¼•æ“ï¼šæŒ‡å®šä¸€ä¸ªæœåŠ¡å™¨ IP è®©æŠ“å–</li></ul><h3 id="è®°å½•å€¼"><a href="#è®°å½•å€¼" class="headerlink" title="è®°å½•å€¼"></a>è®°å½•å€¼</h3><p>æœ€å¸¸è§çš„æ˜¯å°†ç©ºé—´å•†æä¾›çš„ã€ŒIPåœ°å€ã€å¡«å†™åœ¨è¿™é‡Œï¼Œæ¯”å¦‚æˆ‘å¡«å†™çš„å°±æ˜¯è…¾è®¯äº‘æœåŠ¡å™¨çš„ip</p><p>å„ç±»å‹çš„è®°å½•å€¼ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>Aè®°å½•ï¼šå¡«å†™ä½ æœåŠ¡å™¨ IPï¼Œå¦‚æœä½ ä¸çŸ¥é“ï¼Œè¯·å’¨è¯¢ä½ çš„ç©ºé—´å•†</li><li>CNAMEè®°å½•ï¼šå¡«å†™ç©ºé—´å•†ç»™ä½ æä¾›çš„åŸŸåï¼Œä¾‹å¦‚ï¼š2.com</li><li>MXè®°å½•ï¼šå¡«å†™ä½ é‚®ä»¶æœåŠ¡å™¨çš„IPåœ°å€æˆ–ä¼ä¸šé‚®å±€ç»™ä½ æä¾›çš„åŸŸåï¼Œå¦‚æœä½ ä¸çŸ¥é“ï¼Œè¯·å’¨è¯¢ä½ çš„é‚®ä»¶æœåŠ¡æä¾›å•†</li><li>AAAAï¼šä¸å¸¸ç”¨ã€‚è§£æåˆ° IPv6 çš„åœ°å€ã€‚</li><li>NSè®°å½•ï¼šä¸å¸¸ç”¨ã€‚ç³»ç»Ÿé»˜è®¤æ·»åŠ çš„ä¸¤ä¸ªNSè®°å½•è¯·ä¸è¦ä¿®æ”¹ã€‚NSå‘ä¸‹æˆæƒï¼Œå¡«å†™dnsåŸŸåï¼Œä¾‹å¦‚ï¼šns3.dnsv3.com</li></ul><h3 id="TTL"><a href="#TTL" class="headerlink" title="TTL"></a>TTL</h3><p>å³ Time To Liveï¼Œç¼“å­˜çš„ç”Ÿå­˜æ—¶é—´ã€‚æŒ‡åœ°æ–¹dnsç¼“å­˜æ‚¨åŸŸåè®°å½•ä¿¡æ¯çš„æ—¶é—´ï¼Œç¼“å­˜å¤±æ•ˆåä¼šå†æ¬¡åˆ°DNSPodè·å–è®°å½•å€¼ã€‚ æˆ‘ä»¬é»˜è®¤çš„ 600 ç§’æ˜¯æœ€å¸¸ç”¨çš„ï¼Œä¸ç”¨ä¿®æ”¹</p><ul><li><strong>600ï¼ˆ10åˆ†é’Ÿï¼‰ï¼šå»ºè®®æ­£å¸¸æƒ…å†µä¸‹ä½¿ç”¨ 600ã€‚</strong></li><li>60ï¼ˆ1åˆ†é’Ÿï¼‰ï¼šå¦‚æœä½ ç»å¸¸ä¿®æ”¹IPï¼Œä¿®æ”¹è®°å½•ä¸€åˆ†é’Ÿå³å¯ç”Ÿæ•ˆã€‚é•¿æœŸä½¿ç”¨ 60ï¼Œè§£æé€Ÿåº¦ä¼šç•¥å—å½±å“ã€‚</li><li>3600ï¼ˆ1å°æ—¶ï¼‰ï¼šå¦‚æœä½ IPæå°‘å˜åŠ¨ï¼ˆä¸€å¹´å‡ æ¬¡ï¼‰ï¼Œå»ºè®®é€‰æ‹© 3600ï¼Œè§£æé€Ÿåº¦å¿«ã€‚å¦‚æœè¦ä¿®æ”¹IPï¼Œæå‰ä¸€å¤©æ”¹ä¸º 60ï¼Œå³å¯å¿«é€Ÿç”Ÿæ•ˆã€‚</li></ul><p>è¯¥ç†è§£çš„åº”è¯¥éƒ½ç†è§£å·®ä¸å¤šäº†å§ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹è§£æåŸŸåï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦è§£æä¸¤ä¸ªåŸŸåã€‚</p><ul><li>ä¸€ä¸ªæ˜¯ www è®°å½•ï¼Œè¿™é‡Œè®¾ç½®wwwé€šç”¨çš„ï¼Œæ¯”å¦‚ <a href="http://www.zouwang.vip" target="_blank" rel="noopener">www.zouwang.vip</a></li><li>è¿˜æœ‰å°±æ˜¯ @ è®°å½•ï¼Œè¿™ä¸ªæ˜¯è®¾ç½®æ ¹åŸŸåï¼Œæ¯”å¦‚è¯´æˆ‘çš„å°±æ˜¯ zouwang.vipï¼Œè™½ç„¶è¯´æœ‰æ—¶å€™ç”¨ä¸åˆ°ï¼Œæœ€å¥½è¿˜æ˜¯è®¾ç½®ä¸€ä¸‹ï¼Œæ¯•ç«Ÿè¿˜æ˜¯æœ‰å¾ˆå¤šäººç›´æ¥è¾“å…¥åŸŸåä¸è¾“å…¥wwwçš„ï¼Œå¬è¯´ä¸å¸¦wwwçš„ç™¾åº¦æ”¶å½•ä¼šæ›´å¿«ä¹Ÿä¸çŸ¥é“æ˜¯çœŸå‡ã€‚</li></ul><p>è®¾ç½®å¥½è§£æä¹‹åç­‰å¾…ååˆ†é’Ÿï¼Œç„¶åè®¿é—®ç½‘é¡µçœ‹åˆ°ä¸€ä¸ªåˆ›å»ºæˆåŠŸçš„é¡µé¢ï¼Œå°±è¯æ˜è§£æå·²ç»å¥½äº†ï¼Œå¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥ ã€‚</p><h2 id="ä¸‹è½½WordPresså®‰è£…åŒ…"><a href="#ä¸‹è½½WordPresså®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½WordPresså®‰è£…åŒ…"></a>ä¸‹è½½WordPresså®‰è£…åŒ…</h2><p>æœåŠ¡å™¨å’ŒåŸŸåéƒ½å·²ç»è´­ä¹°å®Œæ¯•ï¼Œé‚£ä¹ˆç½‘ç«™é‡‡ç”¨ä»€ä¹ˆæ­å»ºå‘¢ï¼Œå½“ç„¶æ˜¯éå¸¸æµè¡Œçš„<a href="https://baike.baidu.com/item/WordPress/450615?fr=aladdin" target="_blank" rel="noopener">WordPress</a>ã€‚ä½œä¸ºçŸ¥åçš„åšå®¢å¹³å°ï¼Œé‡‡ç”¨phpè¯­è¨€å¼€å‘ï¼Œå½“ç„¶ä½ ä¸æ‡‚phpä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä¹Ÿä¸æ‡‚ã€‚æˆ‘ä»¬éœ€è¦åˆ°<a href="https://cn.wordpress.org/download/" target="_blank" rel="noopener">WordPressä¸­å›½ç«™</a>å»ä¸‹è½½å®‰è£…åŒ…ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E4%B8%8B%E8%BD%BDwordpress.png" srcset="/blog/img/loading.gif" alt="wordpress3cf2cbf365652db8.png"></p><p>ä¸‹è½½å®Œæˆä¹‹åä¸ç”¨è§£å‹ï¼Œç•™ç€å®‰è£…åŒ…å°±å¥½ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æŠŠä¸‹è½½å¥½çš„å®‰è£…åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œå› ä¸ºæˆ‘ä»¬æœ‰å®å¡”é¢æ¿æ‰€ä»¥ä¸Šä¼ å¾ˆæ–¹ä¾¿ï¼Œä¸éœ€è¦ç¬¬ä¸‰æ–¹å·¥å…·ã€‚æˆ‘ä»¬åœ¨å®å¡”é¢æ¿æ‰¾åˆ°æ–‡ä»¶ç®¡ç†çš„ç•Œé¢ï¼Œç„¶åæ‰¾åˆ°ç½‘ç«™å¯¹åº”çš„ç›®å½•ï¼Œå®å¡”é¢æ¿çš„ç›®å½•ä¸€èˆ¬æ˜¯å›ºå®šçš„ï¼Œæ¯”å¦‚æˆ‘åˆšåˆšæ–°å»ºçš„ç½‘ç«™ç›®å½•å°±æ˜¯ /www/wwwroot/zouwang.vip/ ï¼Œä¸€èˆ¬å®å¡”é¢æ¿å®‰è£…æ—¶ä½ æ²¡æœ‰ä¿®æ”¹çš„è¯å°±æ˜¯åœ¨è¿™ä¸ª /www/wwwroot ç›®å½•ä¸‹çš„ã€‚</p><p>ç‚¹å‡»ä¸Šä¼ ï¼Œé€‰æ‹©åˆšæ‰ä¸‹è½½å¥½çš„å®‰è£…åŒ…ï¼Œ</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E5%87%86%E5%A4%87%E4%B8%8A%E4%BC%A0wordpress_zip.png" srcset="/blog/img/loading.gif" alt="wordpress_zip.png"></p><p>ä¸Šä¼ æˆåŠŸä¹‹åå¯ä»¥åœ¨wordpress.zipçš„çœ‹åˆ°å³ä¸‹è§’æœ‰ä¸€ä¸ªç®­å¤´ï¼Œé¼ æ ‡æŒ‡å‘å°±èƒ½çœ‹è§ï¼Œè¿™é‡Œé€‰æ‹©è§£å‹ï¼Œç›´æ¥ç¡®è®¤å³å¯ï¼Œè§£å‹å®Œæˆä¹‹åå¯ä»¥æŠŠzipçš„å‹ç¼©åŒ…åˆ é™¤äº†</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E8%A7%A3%E5%8E%8Bwordprss_zip.png" srcset="/blog/img/loading.gif" alt="wordprss_zip.png"></p><h2 id="å®‰è£…WordPressç½‘ç«™"><a href="#å®‰è£…WordPressç½‘ç«™" class="headerlink" title="å®‰è£…WordPressç½‘ç«™"></a>å®‰è£…WordPressç½‘ç«™</h2><p>åœ¨åŸŸåè§£æå’Œç½‘ç«™ç¨‹åºç›®å½•ç»“æ„éƒ½æ²¡æœ‰é—®é¢˜åï¼Œæˆ‘ä»¬å°±å¯ä»¥å®‰è£…ç½‘ç«™äº†ï¼Œå®‰è£…æ˜¯æœ€ç®€å•çš„</p><p>ç›´æ¥è®¿é—®è‡ªå·±çš„åŸŸåï¼Œä¼šçœ‹åˆ°wordpressçš„å®‰è£…ç•Œé¢ï¼Œå®ƒè¯´çš„ä¸œè¥¿æˆ‘ä»¬å‰æœŸå·²ç»å‡†å¤‡å¥½ï¼Œç¬¬ä¸€æ­¥å¯ä»¥ç›´æ¥å¼€å§‹</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/wordpress%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A2.png" srcset="/blog/img/loading.gif" alt="wordpress.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E5%AE%89%E8%A3%85%E6%95%B0%E6%8D%AE%E5%BA%93.png" srcset="/blog/img/loading.gif" alt="51aa253adeaa7c1028881315ca29d60f.png"></p><p>è¿™é‡Œå¡«å†™çš„æ˜¯æœåŠ¡å™¨æ•°æ®åº“ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•°æ®åº“åã€ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“ä¸»æœºã€è¡¨å‰ç¼€ï¼Œæ•°æ®åº“ä¸»æœºå’Œè¡¨å‰ç¼€æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„è¯ä¸€èˆ¬éƒ½ä¸éœ€è¦ä¿®æ”¹ï¼Œæ•°æ®åº“å¯†ç åˆšåˆšæˆ‘ä»¬å·²ç»è®°ä¸‹äº†ï¼ŒæŒ‰ç…§è¦æ±‚å¡«å†™å³å¯(æ³¨æ„ä¸è¦å’ŒæœåŠ¡å™¨çš„ç”¨æˆ·åå¯†ç ææ··)</p><p>å¦‚æœä½ ä¹‹å‰æ²¡æœ‰è®°å½•æ•°æ®åº“ä¿¡æ¯ä¹Ÿæ²¡å…³ç³»ï¼Œä½ å¯ä»¥åˆ°å®å¡”é¢æ¿ â€“ æ•°æ®åº“ æŸ¥çœ‹ä¿¡æ¯ã€‚</p><p>æ•°æ®åº“ä¿¡æ¯å¡«å¥½ä»¥åç‚¹å‡»æäº¤ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å®‰è£…WordPress</p><p><img src="https://cdn.jsdelivr.net/gh/Zou-Wang/cdn-blog@1.0/img/wordpress-build/%E5%AE%89%E8%A3%85wordpress.png" srcset="/blog/img/loading.gif" alt="wordpressba00242cb0990efc.png"></p><p>å¡«å†™è‡ªå·±çš„ç½‘ç«™ä¿¡æ¯ï¼Œç”¨æˆ·åå’Œå¯†ç æœ€å¥½æ˜¯æ‰¾ä¸ªåœ°æ–¹è®°ä¸‹æ¥ï¼Œè¿™ä¸ªæ˜¯ä½ ç™»å½•WordPresséœ€è¦çš„è´¦å·å¯†ç ï¼Œé‚®ç®±ä¸€å®šè¦å¡«å†™è‡ªå·±çš„ï¼Œæ‰¾å›å¯†ç ç”¨ï¼Œè€Œä¸”ç½‘ç«™æœ‰ç•™è¨€å®¡æ ¸ä¹‹ç±»çš„é—®é¢˜ä¹Ÿä¼šç»™ä½ å‘é€é‚®ä»¶</p><p><img src="https://view.moezx.cc/images/2018/05/13/image-404.png" srcset="/blog/img/loading.gif" alt="image.png"></p><p>ç½‘ç«™å®‰è£…æˆåŠŸï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ç™»é™†åˆ°åå°è¿›è¡Œå„ç§è®¾ç½®äº†ã€‚</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>åˆ°è¿™é‡Œä¸€ä¸ªåŸºæœ¬ç½‘ç«™çš„æ­å»ºå°±å·²ç»å®Œæˆäº†ï¼Œç›¸ä¿¡ä½ ä¹Ÿä»ä¸­å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œè¿™ç¯‡æ–‡ç« æ›´å¤šæ˜¯ä¸ºäº†é˜²æ­¢åˆæ¬¡å»ºç«™çš„å°ç™½èµ°å¼¯è·¯ï¼Œæƒ³å½“åˆåšä¸»å¯æ˜¯è¸©äº†å¾ˆå¤šå‘ï¼Œæœ€åæ€»ç»“ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹ï¼šè´­ä¹°åŸŸå-&gt;è´­ä¹°æœåŠ¡å™¨-&gt;å®‰è£…å®å¡”é¢æ¿-&gt;å®‰è£…ç½‘ç»œç¯å¢ƒ-&gt;æ–°å»ºç«™ç‚¹-&gt;åŸŸåè§£æ-&gt;å®‰è£…wordpressã€‚</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬ç¯‡æ–‡ç« é€‚ç”¨äºç¬¬ä¸€æ¬¡å»ºç«™çš„å°ç™½ï¼Œå¸®åŠ©ä½ ä»é›¶æ­å»ºèµ·ä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘ç«™ï¼Œæ—¢ç„¶æ˜¯ä»é›¶ï¼Œé‚£ä¹ˆæˆ‘å°±ä¼šå¸¦ç€ä½ ä»è´­ä¹°åŸŸåç­‰åˆ°ä¸€ç›´æ­å»ºæˆåŠŸï¼Œæ¥ä¸‹æ¥è¯·å¾€ä¸‹çœ‹å§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å»ºç«™å‡†å¤‡&quot;&gt;&lt;a href=&quot;#å»ºç«™å‡†å¤‡&quot; class=&quot;headerlink&quot; title=&quot;å»ºç«™å‡†å¤‡&quot;
      
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="å°æŠ€å·§" scheme="https://melodyjerry.github.io/blog/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
      <category term="åšå®¢" scheme="https://melodyjerry.github.io/blog/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>LinuxæœåŠ¡å™¨åå°è¿è¡ŒjaråŒ…</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/23/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8Cjar%E5%8C%85/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/23/Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8Cjar%E5%8C%85/</id>
    <published>2020-08-22T17:02:00.000Z</published>
    <updated>2020-09-18T04:43:02.979Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸Šä»£ç "><a href="#ä¸Šä»£ç " class="headerlink" title="ä¸Šä»£ç "></a>ä¸Šä»£ç </h1><p>å°†è¿è¡Œæ—¥å¿—è¾“å…¥åˆ° logs.txt (jaråŒ…æ‰€åœ¨çš„ç›®å½•)</p><div class="hljs"><pre><code class="hljs mipsasm">nohup <span class="hljs-keyword">java </span>-<span class="hljs-keyword">jar </span>xxx.<span class="hljs-keyword">jar </span>&gt;logs.txt &amp;</code></pre></div><h1 id="åˆ†è§£ä»‹ç»"><a href="#åˆ†è§£ä»‹ç»" class="headerlink" title="åˆ†è§£ä»‹ç»"></a>åˆ†è§£ä»‹ç»</h1><ol><li>é¦–å…ˆæœ€åŸºæœ¬çš„è¿è¡ŒjaråŒ…å‘½ä»¤æ˜¯:</li></ol><div class="hljs"><pre><code class="hljs mipsasm"><span class="hljs-keyword">java </span>-<span class="hljs-keyword">jar </span>xxx.<span class="hljs-keyword">jar</span></code></pre></div><p>è¿™ä¸ªå‘½ä»¤ä¼šé”å®šå‘½ä»¤çª—å£ï¼Œåªèƒ½çœ‹åˆ°å½“å‰è¿è¡Œçš„è¾“å‡ºä¿¡æ¯ã€‚è€Œæ— æ³•å‘é€å…¶ä»–æŒ‡ä»¤ã€‚</p><blockquote><p>è¿™ç§æ–¹å¼å½“sshçª—å£å…³é—­æ—¶ï¼Œç¨‹åºä¸­æ­¢è¿è¡Œ,æˆ–è€…æ˜¯è¿è¡Œæ—¶æ²¡æ³•åˆ‡å‡ºå»æ‰§è¡Œå…¶ä»–ä»»åŠ¡</p></blockquote><ol start="2"><li>è®©jaråŒ…åå°è¿è¡Œ</li></ol><p>ç”¨â€<code>&amp;</code>â€œç¬¦å·ç»“å°¾è¡¨ç¤ºï¼Œè®©ç¨‹åºåœ¨åå°è¿è¡Œã€‚<br>è¿™æ ·çš„è¯ï¼Œå‘½ä»¤çª—å£å°±ä¸ä¼šè¢«é”å®šï¼Œè€Œå¯ä»¥å‘é€å…¶ä»–æŒ‡ä»¤ï¼Œä½†æ˜¯å½“çª—å£å…³é—­æ—¶ï¼Œåå°è¿è¡Œçš„ç¨‹åºä¾ç„¶ä¼šè¢«åœæ­¢ã€‚</p><p><code>nohup</code>å‘½ä»¤ï¼š<code>nohup</code> å‘½ä»¤è¿è¡Œç”± Commandå‚æ•°å’Œä»»ä½•ç›¸å…³çš„ Argå‚æ•°æŒ‡å®šçš„å‘½ä»¤ï¼Œå¿½ç•¥æ‰€æœ‰æŒ‚æ–­ä¿¡å·ã€‚è¦è¿è¡Œåå°ä¸­çš„ <code>nohup</code> å‘½ä»¤ï¼Œæ·»åŠ  <code>&amp;</code> ï¼ˆ è¡¨ç¤ºâ€œandâ€çš„ç¬¦å·ï¼‰åˆ°å‘½ä»¤çš„å°¾éƒ¨ã€‚</p><p>ç®€å•åœ°è¯´å°±æ˜¯ï¼Œ<code>nohup</code>å‘½ä»¤å¯ä»¥é˜»æ­¢çª—å£å…³é—­æ˜¯çš„æŒ‚æ–­ä¿¡å·ï¼Œä½¿ç¨‹åºç»§ç»­è¿è¡Œã€‚è¿™æ ·ï¼Œå‘½ä»¤å°±ä¿®æ”¹ä¸ºäº†</p><div class="hljs"><pre><code class="hljs mipsasm">nohup <span class="hljs-keyword">java </span>-<span class="hljs-keyword">jar </span>xxx.<span class="hljs-keyword">jar </span>&amp;</code></pre></div><ol start="3"><li>è®¾ç½®è¾“å‡ºæ–‡ä»¶</li></ol><p>åœ¨è¿™ä¸ªå‘½ä»¤ä¸‹å·²ç»å¯ä»¥å®ç°éœ€è¦çš„åŠŸèƒ½äº†ã€‚æœ€åçš„ <code>&gt;logs.txt</code> è¡¨ç¤ºè¾“å‡ºæ–‡ä»¶ã€‚å¯ä»¥éšæ„å†™éšæ„æŒ‡å®šè·¯å¾„ã€‚å¦‚æœä¸å†™æƒ…å†µä¸‹ï¼ˆç¼ºçœï¼‰ï¼Œå°±å›é»˜è®¤åœ¨jaråŒ…æ‰€åœ¨ç›®å½•ï¼Œåˆ›å»º<code>nohup.out</code>æ–‡ä»¶ã€‚</p><p>å¦‚æœé¡¹ç›®ä¸­å·²ç»æŒ‡å®šäº†æ—¥å¿—è¾“å‡ºï¼Œå°±ä¼šé‡å¤è¾“å‡ºï¼Œç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼ŒæŠŠ <code>&gt;logs.txt</code> åˆ äº†çš„è¯ï¼Œå½“å‰çš„è¿è¡Œç¨‹åºä¸ä¼šå†ç”Ÿæˆæ–°çš„æ–‡ä»¶ã€‚</p><div class="hljs"><pre><code class="hljs mipsasm">nohup <span class="hljs-keyword">java </span>-<span class="hljs-keyword">jar </span>xxx.<span class="hljs-keyword">jar </span>&gt;logs.txt &amp;</code></pre></div><p>å‘½ä»¤è¿è¡ŒæˆåŠŸåï¼Œä¼šè¿”å›ä¸€ä¸ªè¿›ç¨‹å·ï¼Œå¯ä»¥é€šè¿‡ <code>kill -9</code> å‘½ä»¤æ€æ­»è¿™ä¸ªè¿›ç¨‹æ¥ç›´æ¥å…³é—­ã€‚</p><blockquote><p>å¦‚æœå¿˜äº†è¿›ç¨‹å·ï¼Œå¯ä»¥é€šè¿‡</p><div class="hljs"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef|<span class="hljs-keyword">grep</span> xxx.jar</code></pre></div><p>æ¥æŸ¥çœ‹å½“å‰è¿è¡Œçš„jaråŒ…ç¨‹åºè¿›ç¨‹å·</p></blockquote><blockquote><p>æŸ¥è¯¢å½“å‰æ´»åŠ¨çš„è¿›ç¨‹</p><div class="hljs"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -aux|<span class="hljs-keyword">grep</span> java</code></pre></div></blockquote><blockquote><p>æŸ¥çœ‹linuxç³»ç»Ÿå†…å­˜å¤§å°çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹æ€»å†…å­˜ï¼Œå‰©ä½™å†…å­˜ã€å¯ä½¿ç”¨å†…å­˜ç­‰ä¿¡æ¯</p><div class="hljs"><pre><code class="hljs armasm"><span class="hljs-symbol">cat</span> /<span class="hljs-meta">proc</span>/meminfo</code></pre></div></blockquote><a id="more"></a><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ä¸Šä»£ç &quot;&gt;&lt;a href=&quot;#ä¸Šä»£ç &quot; class=&quot;headerlink&quot; title=&quot;ä¸Šä»£ç &quot;&gt;&lt;/a&gt;ä¸Šä»£ç &lt;/h1&gt;&lt;p&gt;å°†è¿è¡Œæ—¥å¿—è¾“å…¥åˆ° logs.txt (jaråŒ…æ‰€åœ¨çš„ç›®å½•)&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs mipsasm&quot;&gt;nohup &lt;span class=&quot;hljs-keyword&quot;&gt;java &lt;/span&gt;-&lt;span class=&quot;hljs-keyword&quot;&gt;jar &lt;/span&gt;xxx.&lt;span class=&quot;hljs-keyword&quot;&gt;jar &lt;/span&gt;&amp;gt;logs.txt &amp;amp;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;åˆ†è§£ä»‹ç»&quot;&gt;&lt;a href=&quot;#åˆ†è§£ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;åˆ†è§£ä»‹ç»&quot;&gt;&lt;/a&gt;åˆ†è§£ä»‹ç»&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;é¦–å…ˆæœ€åŸºæœ¬çš„è¿è¡ŒjaråŒ…å‘½ä»¤æ˜¯:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs mipsasm&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;java &lt;/span&gt;-&lt;span class=&quot;hljs-keyword&quot;&gt;jar &lt;/span&gt;xxx.&lt;span class=&quot;hljs-keyword&quot;&gt;jar&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªå‘½ä»¤ä¼šé”å®šå‘½ä»¤çª—å£ï¼Œåªèƒ½çœ‹åˆ°å½“å‰è¿è¡Œçš„è¾“å‡ºä¿¡æ¯ã€‚è€Œæ— æ³•å‘é€å…¶ä»–æŒ‡ä»¤ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ç§æ–¹å¼å½“sshçª—å£å…³é—­æ—¶ï¼Œç¨‹åºä¸­æ­¢è¿è¡Œ,æˆ–è€…æ˜¯è¿è¡Œæ—¶æ²¡æ³•åˆ‡å‡ºå»æ‰§è¡Œå…¶ä»–ä»»åŠ¡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;è®©jaråŒ…åå°è¿è¡Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨â€&lt;code&gt;&amp;amp;&lt;/code&gt;â€œç¬¦å·ç»“å°¾è¡¨ç¤ºï¼Œè®©ç¨‹åºåœ¨åå°è¿è¡Œã€‚&lt;br&gt;è¿™æ ·çš„è¯ï¼Œå‘½ä»¤çª—å£å°±ä¸ä¼šè¢«é”å®šï¼Œè€Œå¯ä»¥å‘é€å…¶ä»–æŒ‡ä»¤ï¼Œä½†æ˜¯å½“çª—å£å…³é—­æ—¶ï¼Œåå°è¿è¡Œçš„ç¨‹åºä¾ç„¶ä¼šè¢«åœæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;nohup&lt;/code&gt;å‘½ä»¤ï¼š&lt;code&gt;nohup&lt;/code&gt; å‘½ä»¤è¿è¡Œç”± Commandå‚æ•°å’Œä»»ä½•ç›¸å…³çš„ Argå‚æ•°æŒ‡å®šçš„å‘½ä»¤ï¼Œå¿½ç•¥æ‰€æœ‰æŒ‚æ–­ä¿¡å·ã€‚è¦è¿è¡Œåå°ä¸­çš„ &lt;code&gt;nohup&lt;/code&gt; å‘½ä»¤ï¼Œæ·»åŠ  &lt;code&gt;&amp;amp;&lt;/code&gt; ï¼ˆ è¡¨ç¤ºâ€œandâ€çš„ç¬¦å·ï¼‰åˆ°å‘½ä»¤çš„å°¾éƒ¨ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•åœ°è¯´å°±æ˜¯ï¼Œ&lt;code&gt;nohup&lt;/code&gt;å‘½ä»¤å¯ä»¥é˜»æ­¢çª—å£å…³é—­æ˜¯çš„æŒ‚æ–­ä¿¡å·ï¼Œä½¿ç¨‹åºç»§ç»­è¿è¡Œã€‚è¿™æ ·ï¼Œå‘½ä»¤å°±ä¿®æ”¹ä¸ºäº†&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs mipsasm&quot;&gt;nohup &lt;span class=&quot;hljs-keyword&quot;&gt;java &lt;/span&gt;-&lt;span class=&quot;hljs-keyword&quot;&gt;jar &lt;/span&gt;xxx.&lt;span class=&quot;hljs-keyword&quot;&gt;jar &lt;/span&gt;&amp;amp;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;è®¾ç½®è¾“å‡ºæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨è¿™ä¸ªå‘½ä»¤ä¸‹å·²ç»å¯ä»¥å®ç°éœ€è¦çš„åŠŸèƒ½äº†ã€‚æœ€åçš„ &lt;code&gt;&amp;gt;logs.txt&lt;/code&gt; è¡¨ç¤ºè¾“å‡ºæ–‡ä»¶ã€‚å¯ä»¥éšæ„å†™éšæ„æŒ‡å®šè·¯å¾„ã€‚å¦‚æœä¸å†™æƒ…å†µä¸‹ï¼ˆç¼ºçœï¼‰ï¼Œå°±å›é»˜è®¤åœ¨jaråŒ…æ‰€åœ¨ç›®å½•ï¼Œåˆ›å»º&lt;code&gt;nohup.out&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé¡¹ç›®ä¸­å·²ç»æŒ‡å®šäº†æ—¥å¿—è¾“å‡ºï¼Œå°±ä¼šé‡å¤è¾“å‡ºï¼Œç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼ŒæŠŠ &lt;code&gt;&amp;gt;logs.txt&lt;/code&gt; åˆ äº†çš„è¯ï¼Œå½“å‰çš„è¿è¡Œç¨‹åºä¸ä¼šå†ç”Ÿæˆæ–°çš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs mipsasm&quot;&gt;nohup &lt;span class=&quot;hljs-keyword&quot;&gt;java &lt;/span&gt;-&lt;span class=&quot;hljs-keyword&quot;&gt;jar &lt;/span&gt;xxx.&lt;span class=&quot;hljs-keyword&quot;&gt;jar &lt;/span&gt;&amp;gt;logs.txt &amp;amp;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å‘½ä»¤è¿è¡ŒæˆåŠŸåï¼Œä¼šè¿”å›ä¸€ä¸ªè¿›ç¨‹å·ï¼Œå¯ä»¥é€šè¿‡ &lt;code&gt;kill -9&lt;/code&gt; å‘½ä»¤æ€æ­»è¿™ä¸ªè¿›ç¨‹æ¥ç›´æ¥å…³é—­ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœå¿˜äº†è¿›ç¨‹å·ï¼Œå¯ä»¥é€šè¿‡&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs vim&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;ps&lt;/span&gt; -ef|&lt;span class=&quot;hljs-keyword&quot;&gt;grep&lt;/span&gt; xxx.jar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¥æŸ¥çœ‹å½“å‰è¿è¡Œçš„jaråŒ…ç¨‹åºè¿›ç¨‹å·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;æŸ¥è¯¢å½“å‰æ´»åŠ¨çš„è¿›ç¨‹&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs vim&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;ps&lt;/span&gt; -aux|&lt;span class=&quot;hljs-keyword&quot;&gt;grep&lt;/span&gt; java&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;æŸ¥çœ‹linuxç³»ç»Ÿå†…å­˜å¤§å°çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹æ€»å†…å­˜ï¼Œå‰©ä½™å†…å­˜ã€å¯ä½¿ç”¨å†…å­˜ç­‰ä¿¡æ¯&lt;/p&gt;
&lt;div class=&quot;hljs&quot;&gt;&lt;pre&gt;&lt;code class=&quot;hljs armasm&quot;&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;cat&lt;/span&gt; /&lt;span class=&quot;hljs-meta&quot;&gt;proc&lt;/span&gt;/meminfo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="æœåŠ¡å™¨" scheme="https://melodyjerry.github.io/blog/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="Linux" scheme="https://melodyjerry.github.io/blog/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>SVNä¸­æ–‡ç½‘ - svnå®‰è£…ã€svnéƒ¨ç½²ã€svnæ“ä½œæ‰‹å†Œ</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/22/SVN%E4%B8%AD%E6%96%87%E7%BD%91%20-%20svn%E5%AE%89%E8%A3%85%E3%80%81svn%E9%83%A8%E7%BD%B2%E3%80%81svn%E6%93%8D%E4%BD%9C%E6%89%8B%E5%86%8C/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/22/SVN%E4%B8%AD%E6%96%87%E7%BD%91%20-%20svn%E5%AE%89%E8%A3%85%E3%80%81svn%E9%83%A8%E7%BD%B2%E3%80%81svn%E6%93%8D%E4%BD%9C%E6%89%8B%E5%86%8C/</id>
    <published>2020-08-21T17:30:00.000Z</published>
    <updated>2020-09-18T04:43:02.988Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://www.svn.org.cn/" target="_blank" rel="noopener">http://www.svn.org.cn/</a></p><a id="more"></a><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://www.svn.org.cn/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.svn.org.cn/&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="å·¥å…·" scheme="https://melodyjerry.github.io/blog/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="SVN" scheme="https://melodyjerry.github.io/blog/tags/SVN/"/>
    
  </entry>
  
  <entry>
    <title>SVN å®‰è£…</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/22/SVN-%E5%AE%89%E8%A3%85/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/22/SVN-%E5%AE%89%E8%A3%85/</id>
    <published>2020-08-21T17:02:00.000Z</published>
    <updated>2020-09-18T04:43:02.995Z</updated>
    
    <content type="html"><![CDATA[<hr><h2 id="åœ¨windowsä¸‹å®‰è£…-SVN"><a href="#åœ¨windowsä¸‹å®‰è£…-SVN" class="headerlink" title="åœ¨windowsä¸‹å®‰è£… SVN"></a>åœ¨windowsä¸‹å®‰è£… SVN</h2><p>1ã€å‡†å¤‡svnçš„å®‰è£…æ–‡ä»¶</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://sourceforge.net/projects/win32svn/" target="_blank" rel="noopener">https://sourceforge.net/projects/win32svn/</a></p><p><img src="https://www.runoob.com/wp-content/uploads/2016/08/svn-windows-install01a.png" srcset="/blog/img/loading.gif" alt="img"></p><p>2ã€ä¸‹è½½å®Œæˆåï¼Œåœ¨ç›¸åº”çš„ç›˜ç¬¦ä¸­ä¼šæœ‰ä¸€ä¸ªSetup-Subversion-1.8.16.msiçš„æ–‡ä»¶ï¼Œç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯1.8.16ï¼Œ è¿™é‡Œå°±ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬ã€‚ç„¶ååŒå‡»å®‰è£…æ–‡ä»¶è¿›è¡Œå®‰è£…ã€‚æˆ‘ä»¬æŒ‡å®šå®‰è£…åœ¨D:\Program Files (x86)\Subversionç›®å½•é‡Œã€‚</p><p><img src="https://www.runoob.com/wp-content/uploads/2016/08/svn-windows-install02a.gif" srcset="/blog/img/loading.gif" alt="img"></p><p>3ã€æŸ¥çœ‹ç›®å½•ç»“æ„</p><p><img src="https://www.runoob.com/wp-content/uploads/2016/08/windows-install03.png" srcset="/blog/img/loading.gif" alt="img"></p><p>æŠŠsvnå®‰è£…ç›®å½•é‡Œçš„binç›®å½•æ·»åŠ åˆ°pathè·¯å¾„ä¸­ï¼Œåœ¨å‘½ä»¤è¡Œçª—å£ä¸­è¾“å…¥ svnserve â€“help ,æŸ¥çœ‹å®‰è£…æ­£å¸¸ä¸å¦ã€‚</p><p><img src="https://www.runoob.com/wp-content/uploads/2016/08/windows-install02.png" srcset="/blog/img/loading.gif" alt="img"></p><p>è‡³æ­¤ï¼Œwindowsä¸‹çš„SVNå®‰è£…å®Œæˆ</p><hr><h2 id="åœ¨CentOSä¸‹å®‰è£…-SVN"><a href="#åœ¨CentOSä¸‹å®‰è£…-SVN" class="headerlink" title="åœ¨CentOSä¸‹å®‰è£… SVN"></a>åœ¨CentOSä¸‹å®‰è£… SVN</h2><p>å¤§å¤šæ•° GNU/Linux å‘è¡Œç‰ˆç³»ç»Ÿè‡ªå¸¦äº†Subversion ï¼Œæ‰€ä»¥å®ƒå¾ˆæœ‰å¯èƒ½å·²ç»å®‰è£…åœ¨ä½ çš„ç³»ç»Ÿä¸Šäº†ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…äº†ã€‚</p><div class="hljs"><pre><code class="hljs ada">svn <span class="hljs-comment">--version</span></code></pre></div><p>å¦‚æœ Subversion å®¢æˆ·ç«¯æ²¡æœ‰å®‰è£…ï¼Œå‘½ä»¤å°†æŠ¥å‘Šsvnå‘½ä»¤æ‰¾ä¸åˆ°çš„é”™è¯¯ã€‚</p><div class="hljs"><pre><code class="hljs groovy">[runoob<span class="hljs-meta">@centos</span>6 ~]$ svn --version<span class="hljs-string">bash:</span> <span class="hljs-string">svn:</span> command not found</code></pre></div><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ yum install subversion å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p><div class="hljs"><pre><code class="hljs routeros">[runoob@centos6 root]$ su -å¯†ç ï¼š[root@centos6 ~]# yum install subversionå·²åŠ è½½æ’ä»¶ï¼šfastestmirror, securityè®¾ç½®å®‰è£…è¿›ç¨‹Loading<span class="hljs-built_in"> mirror </span>speeds <span class="hljs-keyword">from</span> cached hostfile * base: mirrors.aliyun.com * epel: mirrors.neusoft.edu.cn * extras: mirrors.zju.edu.cn * updates: mirrors.aliyun.comè§£å†³ä¾èµ–å…³ç³»--&amp;gt; æ‰§è¡Œäº‹åŠ¡æ£€æŸ¥<span class="hljs-built_in">..</span>.</code></pre></div><p>å®‰è£…æˆåŠŸä¹‹åï¼Œæ‰§è¡Œ svn â€“version å‘½ä»¤ã€‚</p><div class="hljs"><pre><code class="hljs angelscript">[<span class="hljs-symbol">root@</span>centos6 ~]# svn --versionsvnï¼Œç‰ˆæœ¬ <span class="hljs-number">1.6</span><span class="hljs-number">.11</span> (r934486)   ç¼–è¯‘äº Aug <span class="hljs-number">17</span> <span class="hljs-number">2015</span>ï¼Œ<span class="hljs-number">08</span>:<span class="hljs-number">37</span>:<span class="hljs-number">43</span></code></pre></div><p>è‡³æ­¤ï¼Œcentosä¸‹çš„SVNå®‰è£…å®Œæˆã€‚</p><hr><h2 id="åœ¨Ubuntuä¸‹å®‰è£…-SVN"><a href="#åœ¨Ubuntuä¸‹å®‰è£…-SVN" class="headerlink" title="åœ¨Ubuntuä¸‹å®‰è£… SVN"></a>åœ¨Ubuntuä¸‹å®‰è£… SVN</h2><p>å¦‚æœ Subversion å®¢æˆ·ç«¯æ²¡æœ‰å®‰è£…ï¼Œå‘½ä»¤å°†æŠ¥å‘Šsvnå‘½ä»¤æ‰¾ä¸åˆ°çš„é”™è¯¯ã€‚</p><div class="hljs"><pre><code class="hljs livescript">root@runoob:~<span class="hljs-comment"># svn --version</span>The program <span class="hljs-string">'svn'</span> <span class="hljs-keyword">is</span> currently <span class="hljs-keyword">not</span> installed. You can install <span class="hljs-literal">it</span> <span class="hljs-keyword">by</span> typing:apt-get install subversion</code></pre></div><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ apt-get å‘½ä»¤è¿›è¡Œå®‰è£…</p><div class="hljs"><pre><code class="hljs vim">root@runoo<span class="hljs-variable">b:</span>~# apt-<span class="hljs-built_in">get</span> install subversionReading package lists... DoneBuilding dependency tree       Reading state information... DoneThe following packages were automatically installed <span class="hljs-built_in">and</span> are <span class="hljs-keyword">no</span> longer required:  augeas-lenses hiera libaugeas0 libxslt1.<span class="hljs-number">1</span> <span class="hljs-keyword">ruby</span>-augeas <span class="hljs-keyword">ruby</span>-deep-merge <span class="hljs-keyword">ruby</span>-json <span class="hljs-keyword">ruby</span>-nokogiri <span class="hljs-keyword">ruby</span>-rgen <span class="hljs-keyword">ruby</span>-safe-yaml <span class="hljs-keyword">ruby</span>-selinux <span class="hljs-keyword">ruby</span>-shadowUse <span class="hljs-string">'apt-get autoremove'</span> <span class="hljs-keyword">to</span> <span class="hljs-built_in">remove</span> them.The following extra packages will <span class="hljs-keyword">be</span> installed:  libserf-<span class="hljs-number">1</span>-<span class="hljs-number">1</span> libsvn1...</code></pre></div><p>å®‰è£…æˆåŠŸä¹‹åï¼Œæ‰§è¡Œ svn â€“version å‘½ä»¤ã€‚</p><div class="hljs"><pre><code class="hljs angelscript"><span class="hljs-symbol">root@</span>runoob:~# svn --versionsvn, version <span class="hljs-number">1.8</span><span class="hljs-number">.13</span> (r1667537)   compiled Sep  <span class="hljs-number">8</span> <span class="hljs-number">2015</span>, <span class="hljs-number">14</span>:<span class="hljs-number">59</span>:<span class="hljs-number">01</span> on x86_64-pc-linux-gnu</code></pre></div><p>è‡³æ­¤ï¼ŒUbuntuä¸‹çš„SVNå®‰è£…å®Œæˆã€‚</p><hr><p>æ¥æºï¼šèœé¸Ÿæ•™ç¨‹ï¼ˆ<a href="https://www.runoob.com/svn/svn-install.htmlï¼‰" target="_blank" rel="noopener">https://www.runoob.com/svn/svn-install.htmlï¼‰</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;hr&gt;
&lt;h2 id=&quot;åœ¨windowsä¸‹å®‰è£…-SVN&quot;&gt;&lt;a href=&quot;#åœ¨windowsä¸‹å®‰è£…-SVN&quot; class=&quot;headerlink&quot; title=&quot;åœ¨windowsä¸‹å®‰è£… SVN&quot;&gt;&lt;/a&gt;åœ¨windowsä¸‹å®‰è£… SVN&lt;/h2&gt;&lt;p&gt;1ã€å‡†å¤‡svnçš„å®‰è£…æ–‡ä»¶&lt;
      
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="å·¥å…·" scheme="https://melodyjerry.github.io/blog/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="SVN" scheme="https://melodyjerry.github.io/blog/tags/SVN/"/>
    
  </entry>
  
  <entry>
    <title>SVN ç®€ä»‹</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/22/SVN-%E7%AE%80%E4%BB%8B/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/22/SVN-%E7%AE%80%E4%BB%8B/</id>
    <published>2020-08-21T17:00:00.000Z</published>
    <updated>2020-09-18T04:43:02.991Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SVN-ç®€ä»‹"><a href="#SVN-ç®€ä»‹" class="headerlink" title="SVN ç®€ä»‹"></a>SVN ç®€ä»‹</h1><hr><p>Subversion(SVN) æ˜¯ä¸€ä¸ªå¼€æºçš„ç‰ˆæœ¬æ§åˆ¶ç³»çµ±, ä¹Ÿå°±æ˜¯è¯´ Subversion ç®¡ç†ç€éšæ—¶é—´æ”¹å˜çš„æ•°æ®ã€‚ è¿™äº›æ•°æ®æ”¾ç½®åœ¨ä¸€ä¸ªä¸­å¤®èµ„æ–™æ¡£æ¡ˆåº“(repository) ä¸­ã€‚ è¿™ä¸ªæ¡£æ¡ˆåº“å¾ˆåƒä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶æœåŠ¡å™¨, ä¸è¿‡å®ƒä¼šè®°ä½æ¯ä¸€æ¬¡æ–‡ä»¶çš„å˜åŠ¨ã€‚ è¿™æ ·ä½ å°±å¯ä»¥æŠŠæ¡£æ¡ˆæ¢å¤åˆ°æ—§çš„ç‰ˆæœ¬, æˆ–æ˜¯æµè§ˆæ–‡ä»¶çš„å˜åŠ¨å†å²ã€‚</p><a id="more"></a><hr><h3 id="SVN-çš„ä¸€äº›æ¦‚å¿µ"><a href="#SVN-çš„ä¸€äº›æ¦‚å¿µ" class="headerlink" title="SVN çš„ä¸€äº›æ¦‚å¿µ"></a>SVN çš„ä¸€äº›æ¦‚å¿µ</h3><ul><li><strong>repositoryï¼ˆæºä»£ç åº“ï¼‰:</strong>æºä»£ç ç»Ÿä¸€å­˜æ”¾çš„åœ°æ–¹</li><li><strong>Checkoutï¼ˆæå–ï¼‰:</strong>å½“ä½ æ‰‹ä¸Šæ²¡æœ‰æºä»£ç çš„æ—¶å€™ï¼Œä½ éœ€è¦ä»repository checkoutä¸€ä»½</li><li><strong>Commitï¼ˆæäº¤ï¼‰:</strong>å½“ä½ å·²ç»ä¿®æ”¹äº†ä»£ç ï¼Œä½ å°±éœ€è¦Commitåˆ°repository</li><li><strong>Update (æ›´æ–°):</strong>å½“ä½ å·²ç»Checkoutäº†ä¸€ä»½æºä»£ç ï¼Œ Updateä¸€ä¸‹ä½ å°±å¯ä»¥å’ŒRepositoryä¸Šçš„æºä»£ç åŒæ­¥ï¼Œä½ æ‰‹ä¸Šçš„ä»£ç å°±ä¼šæœ‰æœ€æ–°çš„å˜æ›´</li></ul><p>æ—¥å¸¸å¼€å‘è¿‡ç¨‹å…¶å®å°±æ˜¯è¿™æ ·çš„ï¼ˆå‡è®¾ä½ å·²ç»Checkoutå¹¶ä¸”å·²ç»å·¥ä½œäº†å‡ å¤©ï¼‰ï¼šUpdate(è·å¾—æœ€æ–°çš„ä»£ç ) â€“&gt;ä½œå‡ºè‡ªå·±çš„ä¿®æ”¹å¹¶è°ƒè¯•æˆåŠŸ â€“&gt; Commit(å¤§å®¶å°±å¯ä»¥çœ‹åˆ°ä½ çš„ä¿®æ”¹äº†) ã€‚</p><p>å¦‚æœä¸¤ä¸ªç¨‹åºå‘˜åŒæ—¶ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶å‘¢, SVN å¯ä»¥åˆå¹¶è¿™ä¸¤ä¸ªç¨‹åºå‘˜çš„æ”¹åŠ¨ï¼Œå®é™…ä¸ŠSVNç®¡ç†æºä»£ç æ˜¯ä»¥è¡Œä¸ºå•ä½çš„ï¼Œå°±æ˜¯è¯´ä¸¤ä¸ªç¨‹åºå‘˜åªè¦ä¸æ˜¯ä¿®æ”¹äº†åŒä¸€è¡Œç¨‹åºï¼ŒSVNéƒ½ä¼šè‡ªåŠ¨åˆå¹¶ä¸¤ç§ä¿®æ”¹ã€‚å¦‚æœæ˜¯åŒä¸€è¡Œï¼ŒSVN ä¼šæç¤ºæ–‡ä»¶ Conflict, å†²çªï¼Œéœ€è¦æ‰‹åŠ¨ç¡®è®¤ã€‚</p><h3 id="SVN-çš„ä¸»è¦åŠŸèƒ½"><a href="#SVN-çš„ä¸»è¦åŠŸèƒ½" class="headerlink" title="SVN çš„ä¸»è¦åŠŸèƒ½"></a>SVN çš„ä¸»è¦åŠŸèƒ½</h3><ul><li><p>ï¼ˆ1ï¼‰ç›®å½•ç‰ˆæœ¬æ§åˆ¶</p><p>  CVS åªèƒ½è·Ÿè¸ªå•ä¸ªæ–‡ä»¶çš„å†å², ä¸è¿‡ Subversion å®ä½œäº†ä¸€ä¸ª â€œè™šæ‹Ÿâ€ çš„ç‰ˆæœ¬æ§ç®¡æ–‡ä»¶ç³»ç»Ÿ, èƒ½å¤Ÿä¾æ—¶é—´è·Ÿè¸ªæ•´ä¸ªç›®å½•çš„å˜åŠ¨ã€‚ ç›®å½•å’Œæ–‡ä»¶éƒ½èƒ½è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚</p></li><li><p>ï¼ˆ2ï¼‰çœŸå®çš„ç‰ˆæœ¬å†å²</p><p>  è‡ªä»CVSé™åˆ¶äº†æ–‡ä»¶çš„ç‰ˆæœ¬è®°å½•ï¼ŒCVSå¹¶ä¸æ”¯æŒé‚£äº›å¯èƒ½å‘ç”Ÿåœ¨æ–‡ä»¶ä¸Šï¼Œä½†ä¼šå½±å“æ‰€åœ¨ç›®å½•å†…å®¹çš„æ“ä½œï¼Œå¦‚åŒå¤åˆ¶å’Œé‡å‘½åã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨CVSé‡Œä½ ä¸èƒ½ç”¨æ‹¥æœ‰åŒæ ·åå­—ä½†æ˜¯æ²¡æœ‰ç»§æ‰¿è€ç‰ˆæœ¬å†å²æˆ–è€…æ ¹æœ¬æ²¡æœ‰å…³ç³»çš„æ–‡ä»¶æ›¿æ¢ä¸€ä¸ªå·²ç»çº³å…¥ç³»ç»Ÿçš„æ–‡ä»¶ã€‚åœ¨Subversionä¸­ï¼Œä½ å¯ä»¥å¢åŠ ï¼ˆaddï¼‰ã€åˆ é™¤ï¼ˆdeleteï¼‰ã€å¤åˆ¶ï¼ˆcopyï¼‰å’Œé‡å‘½åï¼ˆrenameï¼‰ï¼Œæ— è®ºæ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•ã€‚æ‰€æœ‰çš„æ–°åŠ çš„æ–‡ä»¶éƒ½ä»ä¸€ä¸ªæ–°çš„ã€å¹²å‡€çš„ç‰ˆæœ¬å¼€å§‹ã€‚</p></li><li><p>ï¼ˆ3ï¼‰è‡ªåŠ¨æäº¤</p><p>  ä¸€ä¸ªæäº¤åŠ¨ä½œï¼Œä¸æ˜¯å…¨éƒ¨æ›´æ–°åˆ°äº†æ¡£æ¡ˆåº“ä¸­ï¼Œå°±æ˜¯ä¸å®Œå…¨æ›´æ–°ã€‚è¿™å…è®¸å¼€å‘äººå‘˜ä»¥é€»è¾‘åŒºé—´å»ºç«‹å¹¶æäº¤å˜åŠ¨ï¼Œä»¥é˜²æ­¢å½“éƒ¨åˆ†æäº¤æˆåŠŸæ—¶å‡ºç°çš„é—®é¢˜ã€‚</p></li><li><p>ï¼ˆ4ï¼‰çº³å…¥ç‰ˆæœ¬æ§ç®¡çš„å…ƒæ•°æ®</p><p>  æ¯ä¸€ä¸ªæ–‡ä»¶ä¸ç›®å½•éƒ½é™„æœ‰ä¸€çµ„å±æ€§å…³é”®å­—å¹¶å’Œå±æ€§å€¼ç›¸å…³è”ã€‚ä½ å¯ä»¥åˆ›å»º, å¹¶å„²å­˜ä»»ä½•ä½ æƒ³è¦çš„Key/Valueå¯¹ã€‚ å±æ€§æ˜¯éšç€æ—¶é—´æ¥ä½œç‰ˆæœ¬æ§ç®¡çš„,å°±åƒæ–‡ä»¶å…§å®¹ä¸€æ ·ã€‚</p></li><li><p>ï¼ˆ5ï¼‰é€‰æ‹©ä¸åŒçš„ç½‘ç»œå±‚</p><p>  Subversion æœ‰æŠ½è±¡çš„æ¡£æ¡ˆåº“å­˜å–æ¦‚å¿µ, å¯ä»¥è®©äººå¾ˆå®¹æ˜“åœ°å®ä½œæ–°çš„ç½‘ç»œæœºåˆ¶ã€‚ Subversion å¯ä»¥ä½œä¸ºä¸€ä¸ªæ‰©å±•æ¨¡å—åµŒå…¥åˆ°Apache HTTP æœåŠ¡å™¨ä¸­ã€‚è¿™ä¸ªä¸ºSubversionæä¾›äº†éå¸¸å…ˆè¿›çš„ç¨³å®šæ€§å’ŒååŒå·¥ä½œèƒ½åŠ›ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æä¾›äº†è®¸å¤šé‡è¦åŠŸèƒ½: ä¸¾ä¾‹æ¥è¯´, æœ‰èº«ä»½è®¤è¯, æˆæƒ, åœ¨çº¿å‹ç¼©, ä»¥åŠæ–‡ä»¶åº“æµè§ˆç­‰ç­‰ã€‚è¿˜æœ‰ä¸€ä¸ªè½»é‡çº§çš„ç‹¬ç«‹SubversionæœåŠ¡å™¨ï¼Œ ä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰çš„é€šä¿¡åè®®, å¯ä»¥å¾ˆå®¹æ˜“åœ°é€šè¿‡ ssh ä»¥ tunnel æ–¹å¼ä½¿ç”¨ã€‚</p></li><li><p>ï¼ˆ6ï¼‰ä¸€è‡´çš„æ•°æ®å¤„ç†æ–¹å¼</p><p>  Subversion ä½¿ç”¨äºŒè¿›åˆ¶å·®å¼‚ç®—æ³•æ¥å¼‚è¡¨ç¤ºæ–‡ä»¶çš„å·®å¼‚, å®ƒå¯¹æ–‡å­—(äººç±»å¯ç†è§£çš„)ä¸äºŒè¿›åˆ¶æ–‡ä»¶(äººç±»æ— æ³•ç†è§£çš„) ä¸¤ç±»çš„æ–‡ä»¶éƒ½ä¸€è§†åŒä»ã€‚ è¿™ä¸¤ç±»çš„æ–‡ä»¶éƒ½åŒæ ·åœ°ä»¥å‹ç¼©å½¢å¼å‚¨å­˜åœ¨æ¡£æ¡ˆåº“ä¸­, è€Œä¸”æ–‡ä»¶å·®å¼‚æ˜¯ä»¥ä¸¤ä¸ªæ–¹å‘åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„ã€‚</p></li><li><p>ï¼ˆ7ï¼‰æœ‰æ•ˆçš„åˆ†æ”¯(branch)ä¸æ ‡ç­¾(tag)</p><p>  åœ¨åˆ†æ”¯ä¸æ ‡ç­¾ä¸Šçš„æ¶ˆè€—å¹¶ä¸å¿…ä¸€å®šè¦ä¸é¡¹ç›®å¤§å°æˆæ­£æ¯”ã€‚ Subversion å»ºç«‹åˆ†æ”¯ä¸æ ‡ç­¾çš„æ–¹æ³•, å°±åªæ˜¯å¤åˆ¶è¯¥é¡¹ç›®, ä½¿ç”¨çš„æ–¹æ³•å°±ç±»ä¼¼äºç¡¬è¿æ¥ï¼ˆhard-linkï¼‰ã€‚ æ‰€ä»¥è¿™äº›æ“ä½œåªä¼šèŠ±è´¹å¾ˆå°, è€Œä¸”æ˜¯å›ºå®šçš„æ—¶é—´ã€‚</p></li><li><p>ï¼ˆ8ï¼‰Hackability</p><p>  Subversionæ²¡æœ‰ä»»ä½•çš„å†å²åŒ…è¢±; å®ƒä¸»è¦æ˜¯ä¸€ç¾¤å…±ç”¨çš„ C ç¨‹åºåº“, å…·æœ‰å®šä¹‰å®Œå–„çš„APIã€‚è¿™ä½¿å¾— Subversion ä¾¿äºç»´æŠ¤, å¹¶ä¸”å¯è¢«å…¶å®ƒåº”ç”¨ç¨‹åºä¸ç¨‹åºè¯­è¨€ä½¿ç”¨ã€‚</p></li></ul><h3 id="ä¼˜äºCVSä¹‹å¤„"><a href="#ä¼˜äºCVSä¹‹å¤„" class="headerlink" title="ä¼˜äºCVSä¹‹å¤„"></a>ä¼˜äºCVSä¹‹å¤„</h3><p>1ã€åŸå­æäº¤ã€‚ä¸€æ¬¡æäº¤ä¸ç®¡æ˜¯å•ä¸ªè¿˜æ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œéƒ½æ˜¯ä½œä¸ºä¸€ä¸ªæ•´ä½“æäº¤çš„ã€‚åœ¨è¿™å½“ä¸­å‘ç”Ÿçš„æ„å¤–ä¾‹å¦‚ä¼ è¾“ä¸­æ–­ï¼Œä¸ä¼šå¼•èµ·æ•°æ®åº“çš„ä¸å®Œæ•´å’Œæ•°æ®æŸåã€‚</p><p>2ã€é‡å‘½åã€å¤åˆ¶ã€åˆ é™¤æ–‡ä»¶ç­‰åŠ¨ä½œéƒ½ä¿å­˜åœ¨ç‰ˆæœ¬å†å²è®°å½•å½“ä¸­ã€‚</p><p>3ã€å¯¹äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½¿ç”¨äº†èŠ‚çœç©ºé—´çš„ä¿å­˜æ–¹æ³•ã€‚ï¼ˆç®€å•çš„ç†è§£ï¼Œå°±æ˜¯åªä¿å­˜å’Œä¸Šä¸€ç‰ˆæœ¬ä¸åŒä¹‹å¤„ï¼‰</p><p>4ã€ç›®å½•ä¹Ÿæœ‰ç‰ˆæœ¬å†å²ã€‚æ•´ä¸ªç›®å½•æ ‘å¯ä»¥è¢«ç§»åŠ¨æˆ–è€…å¤åˆ¶ï¼Œæ“ä½œå¾ˆç®€å•ï¼Œè€Œä¸”èƒ½å¤Ÿä¿ç•™å…¨éƒ¨ç‰ˆæœ¬è®°å½•ã€‚</p><p>5ã€åˆ†æ”¯çš„å¼€é”€éå¸¸å°ã€‚</p><p>6ã€ä¼˜åŒ–è¿‡çš„æ•°æ®åº“è®¿é—®ï¼Œä½¿å¾—ä¸€äº›æ“ä½œä¸å¿…è®¿é—®æ•°æ®åº“å°±å¯ä»¥åšåˆ°ã€‚è¿™æ ·å‡å°‘äº†å¾ˆå¤šä¸å¿…è¦çš„å’Œæ•°æ®åº“ä¸»æœºä¹‹é—´çš„ç½‘ç»œæµé‡ã€‚</p><hr><p>æ¥æºï¼šèœé¸Ÿæ•™ç¨‹ï¼ˆ<a href="https://www.runoob.com/svn/svn-intro.htmlï¼‰" target="_blank" rel="noopener">https://www.runoob.com/svn/svn-intro.htmlï¼‰</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;SVN-ç®€ä»‹&quot;&gt;&lt;a href=&quot;#SVN-ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;SVN ç®€ä»‹&quot;&gt;&lt;/a&gt;SVN ç®€ä»‹&lt;/h1&gt;&lt;hr&gt;
&lt;p&gt;Subversion(SVN) æ˜¯ä¸€ä¸ªå¼€æºçš„ç‰ˆæœ¬æ§åˆ¶ç³»çµ±, ä¹Ÿå°±æ˜¯è¯´ Subversion ç®¡ç†ç€éšæ—¶é—´æ”¹å˜çš„æ•°æ®ã€‚ è¿™äº›æ•°æ®æ”¾ç½®åœ¨ä¸€ä¸ªä¸­å¤®èµ„æ–™æ¡£æ¡ˆåº“(repository) ä¸­ã€‚ è¿™ä¸ªæ¡£æ¡ˆåº“å¾ˆåƒä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶æœåŠ¡å™¨, ä¸è¿‡å®ƒä¼šè®°ä½æ¯ä¸€æ¬¡æ–‡ä»¶çš„å˜åŠ¨ã€‚ è¿™æ ·ä½ å°±å¯ä»¥æŠŠæ¡£æ¡ˆæ¢å¤åˆ°æ—§çš„ç‰ˆæœ¬, æˆ–æ˜¯æµè§ˆæ–‡ä»¶çš„å˜åŠ¨å†å²ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="å·¥å…·" scheme="https://melodyjerry.github.io/blog/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="SVN" scheme="https://melodyjerry.github.io/blog/tags/SVN/"/>
    
  </entry>
  
  <entry>
    <title>ä¸¤ä¸ªç®€å•çš„å¯¼èˆªç½‘é¡µ</title>
    <link href="https://melodyjerry.github.io/blog/2020/08/22/%E4%B8%A4%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%AF%BC%E8%88%AA%E7%BD%91%E9%A1%B5/"/>
    <id>https://melodyjerry.github.io/blog/2020/08/22/%E4%B8%A4%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%AF%BC%E8%88%AA%E7%BD%91%E9%A1%B5/</id>
    <published>2020-08-21T16:00:00.000Z</published>
    <updated>2020-09-18T04:43:03.050Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æç®€ã€æ‹Ÿç‰©é£æ ¼"><a href="#æç®€ã€æ‹Ÿç‰©é£æ ¼" class="headerlink" title="æç®€ã€æ‹Ÿç‰©é£æ ¼"></a>æç®€ã€æ‹Ÿç‰©é£æ ¼</h1><p><img src="https://s1.ax1x.com/2020/08/21/dNjTxJ.png" srcset="/blog/img/loading.gif" alt=""></p><h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h2><p>Giteeï¼š<a href="https://gitee.com/melodyjerry/SimpleIndex" target="_blank" rel="noopener">https://gitee.com/melodyjerry/SimpleIndex</a></p><h1 id="ç®€å•çš„ã€èšåˆå¼"><a href="#ç®€å•çš„ã€èšåˆå¼" class="headerlink" title="ç®€å•çš„ã€èšåˆå¼"></a>ç®€å•çš„ã€èšåˆå¼</h1><p><img src="https://s1.ax1x.com/2020/08/22/dakdWn.png" srcset="/blog/img/loading.gif" alt=""></p><h2 id="æºç -1"><a href="#æºç -1" class="headerlink" title="æºç "></a>æºç </h2><p>Giteeï¼š<a href="https://gitee.com/melodyjerry/MyIndex" target="_blank" rel="noopener">https://gitee.com/melodyjerry/MyIndex</a></p><a id="more"></a><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æç®€ã€æ‹Ÿç‰©é£æ ¼&quot;&gt;&lt;a href=&quot;#æç®€ã€æ‹Ÿç‰©é£æ ¼&quot; class=&quot;headerlink&quot; title=&quot;æç®€ã€æ‹Ÿç‰©é£æ ¼&quot;&gt;&lt;/a&gt;æç®€ã€æ‹Ÿç‰©é£æ ¼&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://s1.ax1x.com/2020/08/21/dNjTxJ.png&quot; srcset=&quot;/blog/img/loading.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;æºç &quot;&gt;&lt;a href=&quot;#æºç &quot; class=&quot;headerlink&quot; title=&quot;æºç &quot;&gt;&lt;/a&gt;æºç &lt;/h2&gt;&lt;p&gt;Giteeï¼š&lt;a href=&quot;https://gitee.com/melodyjerry/SimpleIndex&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://gitee.com/melodyjerry/SimpleIndex&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;ç®€å•çš„ã€èšåˆå¼&quot;&gt;&lt;a href=&quot;#ç®€å•çš„ã€èšåˆå¼&quot; class=&quot;headerlink&quot; title=&quot;ç®€å•çš„ã€èšåˆå¼&quot;&gt;&lt;/a&gt;ç®€å•çš„ã€èšåˆå¼&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://s1.ax1x.com/2020/08/22/dakdWn.png&quot; srcset=&quot;/blog/img/loading.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;æºç -1&quot;&gt;&lt;a href=&quot;#æºç -1&quot; class=&quot;headerlink&quot; title=&quot;æºç &quot;&gt;&lt;/a&gt;æºç &lt;/h2&gt;&lt;p&gt;Giteeï¼š&lt;a href=&quot;https://gitee.com/melodyjerry/MyIndex&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://gitee.com/melodyjerry/MyIndex&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="uncategorized" scheme="https://melodyjerry.github.io/blog/categories/uncategorized/"/>
    
    
      <category term="CSS" scheme="https://melodyjerry.github.io/blog/tags/CSS/"/>
    
      <category term="HTML" scheme="https://melodyjerry.github.io/blog/tags/HTML/"/>
    
      <category term="JavaScript" scheme="https://melodyjerry.github.io/blog/tags/JavaScript/"/>
    
      <category term="JQuery" scheme="https://melodyjerry.github.io/blog/tags/JQuery/"/>
    
  </entry>
  
</feed>
